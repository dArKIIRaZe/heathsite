<!DOCTYPE html><!--uWIx26tBS_vrAQh4fpXPs--><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="/_next/static/chunks/a6d5fcc06170fc8c.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/2a40d0dd147273b3.js"/><script src="/_next/static/chunks/248cba0fcb3874ed.js" async=""></script><script src="/_next/static/chunks/449cc9beaf757658.js" async=""></script><script src="/_next/static/chunks/5997132b61dec430.js" async=""></script><script src="/_next/static/chunks/turbopack-ce21f09cf18a303c.js" async=""></script><script src="/_next/static/chunks/3f21afa8930fb57b.js" async=""></script><script src="/_next/static/chunks/42879de7b8087bc9.js" async=""></script><link rel="preload" href="/assets/css/font-awesome.min.css" as="style"/><link rel="preload" href="https://fonts.googleapis.com/css?family=Lato:300,400,400i,700|Raleway:300,400,500,600,700|Crete+Round:400i" as="style"/><link rel="preload" href="/assets/css/jquery-ui.css" as="style"/><link rel="preload" href="/assets/css/bootstrap.css" as="style"/><link rel="preload" href="/assets/css/style.css" as="style"/><link rel="preload" href="/assets/css/swiper.css" as="style"/><link rel="preload" href="/assets/css/dark.css" as="style"/><link rel="preload" href="/assets/css/font-icons.css" as="style"/><link rel="preload" href="/assets/css/animate.css" as="style"/><link rel="preload" href="/assets/css/magnific-popup.css" as="style"/><link rel="preload" href="/assets/css/bs-switches.css" as="style"/><link rel="preload" href="/assets/css/szwebstyle.css?v=1.0" as="style"/><link rel="preload" href="/assets/css/content.css" as="style"/><link rel="preload" href="/school-colours.css?skin_id=3?v=1.0" as="style"/><link rel="preload" href="/assets/css/responsive.css" as="style"/><link rel="preload" href="//www.schoolzineplus.co.uk/schoolzine/global.css" as="style"/><link rel="preload" href="/website/custom.css?skin=3" as="style"/><link rel="preload" href="/assets/css/lightbox.css" as="style"/><link rel="preload" href="/assets/css/-1.12.1.custom.min.css" as="style"/><link rel="preload" href="/assets/css/timepicki.css" as="style"/><link rel="icon" href="/favicon.ico"/><title> - Heath Primary School</title><meta name="description" content="Heath Primary School, Slack Lane, Chesterfield, S44 5RH"/><link rel="icon" href="/favicon.ico?favicon.0b3bf435.ico" sizes="256x256" type="image/x-icon"/><link rel="stylesheet" href="/assets/css/font-awesome.min.css"/><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,400i,700|Raleway:300,400,500,600,700|Crete+Round:400i"/><link rel="stylesheet" href="/assets/css/jquery-ui.css"/><link rel="stylesheet" href="/assets/css/bootstrap.css"/><link rel="stylesheet" href="/assets/css/style.css"/><link rel="stylesheet" href="/assets/css/swiper.css"/><link rel="stylesheet" href="/assets/css/dark.css"/><link rel="stylesheet" href="/assets/css/font-icons.css"/><link rel="stylesheet" href="/assets/css/animate.css"/><link rel="stylesheet" href="/assets/css/magnific-popup.css"/><link rel="stylesheet" href="/assets/css/bs-switches.css"/><link rel="stylesheet" href="/assets/css/szwebstyle.css?v=1.0"/><link rel="stylesheet" href="/assets/css/content.css"/><link rel="stylesheet" href="/school-colours.css?skin_id=3?v=1.0"/><link rel="stylesheet" href="/assets/css/responsive.css"/><link rel="stylesheet" href="//www.schoolzineplus.co.uk/schoolzine/global.css"/><link rel="stylesheet" href="/website/custom.css?skin=3"/><link rel="stylesheet" href="/assets/css/lightbox.css"/><link rel="stylesheet" href="/assets/css/-1.12.1.custom.min.css"/><link rel="stylesheet" href="/assets/css/timepicki.css"/><script src="/_next/static/chunks/a6dad97d9634a72d.js" noModule=""></script></head><body class="stretched"><div hidden=""><!--$--><!--/$--></div><script>
              (function() {
                function removeSchoolzineLogo() {
                  // Remove by class
                  var logos = document.querySelectorAll('.footer-logo, a.footer-logo, a[href*="schoolzine.co.uk"]');
                  for (var i = 0; i < logos.length; i++) {
                    logos[i].remove();
                  }
                  // Also check footer specifically
                  var footer = document.getElementById('footer');
                  if (footer) {
                    var footerLogos = footer.querySelectorAll('a[href*="schoolzine.co.uk"], .footer-logo');
                    for (var j = 0; j < footerLogos.length; j++) {
                      footerLogos[j].remove();
                    }
                  }
                }
                
                function hidePDFBannersWithEmbeddedPDFs() {
                  // Hide all wysiwyg-only PDF viewer headings (duplicates)
                  var hideHeadings = document.querySelectorAll('.wysiwyg-only.pdf-viewer-heading');
                  for (var k = 0; k < hideHeadings.length; k++) {
                    hideHeadings[k].style.display = 'none';
                    hideHeadings[k].style.visibility = 'hidden';
                    hideHeadings[k].style.height = '0';
                    hideHeadings[k].style.margin = '0';
                    hideHeadings[k].style.padding = '0';
                    hideHeadings[k].style.opacity = '0';
                  }
                  
                  // Show wysiwyg-hide PDF viewer headings (the ones with file size)
                  var showHeadings = document.querySelectorAll('.wysiwyg-hide .pdf-viewer-heading');
                  for (var m = 0; m < showHeadings.length; m++) {
                    var heading = showHeadings[m];
                    // Check if this heading's wrap contains an embedded PDF
                    var wrap = heading.closest('.pdf-viewer-heading-wrap');
                    if (wrap && !wrap.querySelector('.pdf-view.HTML-only')) {
                      // No embedded PDF, so show this heading
                      heading.style.display = 'block';
                      heading.style.visibility = 'visible';
                      heading.style.opacity = '1';
                    }
                  }
                  
                  // Find all PDF viewer heading wraps
                  var wraps = document.querySelectorAll('.pdf-viewer-heading-wrap');
                  for (var i = 0; i < wraps.length; i++) {
                    var wrap = wraps[i];
                    // Check if this wrap contains an embedded PDF
                    var hasEmbeddedPDF = wrap.querySelector('.pdf-view.HTML-only');
                    if (hasEmbeddedPDF) {
                      // Hide PDF viewer headings in this wrap when there's an embedded PDF
                      var headings = wrap.querySelectorAll('.pdf-viewer-heading, .wysiwyg-hide .pdf-viewer-heading');
                      for (var j = 0; j < headings.length; j++) {
                        headings[j].style.display = 'none';
                        headings[j].style.visibility = 'hidden';
                        headings[j].style.height = '0';
                        headings[j].style.margin = '0';
                        headings[j].style.padding = '0';
                        headings[j].style.opacity = '0';
                      }
                    }
                  }
                }
                
                function fixSpacingIssues() {
                  // Hide empty divs that cause spacing issues
                  var emptyDivs = document.querySelectorAll('div:empty');
                  for (var i = 0; i < emptyDivs.length; i++) {
                    var div = emptyDivs[i];
                    // Don't hide divs with important classes or IDs
                    if (!div.className && !div.id) {
                      div.style.display = 'none';
                      div.style.height = '0';
                      div.style.margin = '0';
                      div.style.padding = '0';
                    }
                  }
                  
                  // Hide wysiwyg-hide containers that only contain scripts (not PDFs or headings)
                  var wysiwygHides = document.querySelectorAll('.wysiwyg-hide');
                  for (var j = 0; j < wysiwygHides.length; j++) {
                    var container = wysiwygHides[j];
                    var hasPDF = container.querySelector('.pdf-view.HTML-only');
                    var hasHeading = container.querySelector('.pdf-viewer-heading');
                    var scripts = container.querySelectorAll('script');
                    var otherContent = container.querySelectorAll('*:not(script)');
                    
                    // If it only has scripts and no PDF or heading, hide it
                    if (!hasPDF && !hasHeading && scripts.length > 0 && otherContent.length === 0) {
                      container.style.display = 'none';
                      container.style.height = '0';
                      container.style.margin = '0';
                      container.style.padding = '0';
                    }
                  }
                  
                  // Remove extra spacing from empty paragraphs
                  var emptyParas = document.querySelectorAll('p:empty');
                  for (var k = 0; k < emptyParas.length; k++) {
                    emptyParas[k].style.display = 'none';
                    emptyParas[k].style.height = '0';
                    emptyParas[k].style.margin = '0';
                    emptyParas[k].style.padding = '0';
                  }
                }
                
                // Run immediately
                removeSchoolzineLogo();
                hidePDFBannersWithEmbeddedPDFs();
                fixSpacingIssues();
                
                // Run when DOM is ready
                if (document.readyState === 'loading') {
                  document.addEventListener('DOMContentLoaded', function() {
                    removeSchoolzineLogo();
                    hidePDFBannersWithEmbeddedPDFs();
                    fixSpacingIssues();
                  });
                } else {
                  removeSchoolzineLogo();
                  hidePDFBannersWithEmbeddedPDFs();
                  fixSpacingIssues();
                }
                
                // Run after delays
                setTimeout(function() {
                  removeSchoolzineLogo();
                  hidePDFBannersWithEmbeddedPDFs();
                  fixSpacingIssues();
                }, 100);
                setTimeout(function() {
                  removeSchoolzineLogo();
                  hidePDFBannersWithEmbeddedPDFs();
                  fixSpacingIssues();
                }, 500);
                setTimeout(function() {
                  removeSchoolzineLogo();
                  hidePDFBannersWithEmbeddedPDFs();
                  fixSpacingIssues();
                }, 1000);
              })();
            </script><script>
              (function() {
                if (typeof window.jQuery === 'undefined' && typeof window.$ === 'undefined') {
                  var script = document.createElement('script');
                  script.src = '/assets/js/jquery.js?v=' + Date.now();
                  script.async = false;
                  script.defer = false;
                  // Make it blocking by using document.write in head, or append to head and wait
                  var loaded = false;
                  script.onload = script.onreadystatechange = function() {
                    if (!loaded && (!this.readyState || this.readyState === 'loaded' || this.readyState === 'complete')) {
                      loaded = true;
                      // Ensure jQuery is set
                      if (window.$ && !window.jQuery) {
                        window.jQuery = window.$;
                      }
                      if (window.jQuery && !window.$) {
                        window.$ = window.jQuery;
                      }
                      // Force both to be available
                      if (window.jQuery) {
                        window.$ = window.jQuery;
                      }
                      console.log('jQuery loaded in blocking script');
                    }
                  };
                  document.head.insertBefore(script, document.head.firstChild);
                } else {
                  // jQuery already loaded
                  if (window.$ && !window.jQuery) window.jQuery = window.$;
                  if (window.jQuery && !window.$) window.$ = window.jQuery;
                }
              })();
            </script><script>
              (function() {
                console.log('ScriptLoader: Starting script loading sequence');
                
                // Function to load script and return promise
                function loadScript(src, id) {
                  return new Promise(function(resolve, reject) {
                    // Check if already loaded
                    if (id && document.getElementById(id)) {
                      console.log('ScriptLoader: ' + id + ' already loaded');
                      resolve();
                      return;
                    }
                    
                    var script = document.createElement('script');
                    script.src = src + '?v=' + Date.now();
                    script.async = false;
                    script.defer = false;
                    if (id) script.id = id;
                    
                    script.onload = function() {
                      console.log('ScriptLoader: Loaded ' + src);
                      resolve();
                    };
                    
                    script.onerror = function() {
                      console.error('ScriptLoader: Failed to load ' + src);
                      reject(new Error('Failed to load ' + src));
                    };
                    
                    document.head.appendChild(script);
                  });
                }
                
                // Wait for jQuery, then load other scripts
                function waitForJQuery() {
                  var attempts = 0;
                  var maxAttempts = 100; // Increased to 10 seconds
                  var checkInterval = setInterval(function() {
                    attempts++;
                    var jq = null;
                    try {
                      jq = window.jQuery || window.$;
                    } catch(e) {
                      // Ignore errors
                    }
                    
                    if (jq && typeof jq === 'function') {
                      clearInterval(checkInterval);
                      // Ensure both are set
                      if (!window.jQuery) window.jQuery = jq;
                      if (!window.$) window.$ = jq;
                      console.log('ScriptLoader: jQuery confirmed available');
                      
                      // Now load other scripts in sequence
                      loadScript('/assets/js/jquery-ui.min.js', 'jquery-ui')
                        .then(function() {
                          return loadScript('/assets/js/plugins.js', 'plugins');
                        })
                        .then(function() {
                          return new Promise(function(resolve) {
                            setTimeout(resolve, 100);
                          });
                        })
                        .then(function() {
                          return loadScript('/assets/js/functions-loader.js', 'functions-loader');
                        })
                        .then(function() {
                          console.log('ScriptLoader: All scripts loaded successfully');
                        })
                        .catch(function(error) {
                          console.error('ScriptLoader: Error loading scripts:', error);
                        });
                    } else if (attempts >= maxAttempts) {
                      clearInterval(checkInterval);
                      console.warn('ScriptLoader: jQuery not found after', maxAttempts * 100, 'ms');
                      // Try to continue anyway - maybe jQuery will load later
                      setTimeout(function() {
                        if (window.jQuery || window.$) {
                          console.log('ScriptLoader: jQuery found after timeout, retrying...');
                          waitForJQuery();
                        }
                      }, 1000);
                    }
                  }, 100);
                }
                
                // Start waiting for jQuery after a short delay to let the jQuery loading script start
                setTimeout(waitForJQuery, 50);
              })();
            </script><div><script src="/assets/js/tinymce.min.js"></script>

<script src="/assets/js/tinymcefunctions.js"></script>

<div id="access">
  <ul>
    <li><a href="#content01">Skip to content</a></li>
    <li><a href="#primary-menu">Skip to navigation</a></li>
    <li><a href="#footer">Skip to footer</a></li>
  </ul>
</div>

<div id="wrapper" class="clearfix">

	




<header id="header" class="transparent-header semi-transparent full-header">

	<div id="header-wrap" class="">

		<div class="container clearfix">

			<div id="primary-menu-trigger"><i class="icon-reorder"></i></div>

			
			<div id="logo">

				<a href="/" class="standard-logo" data-dark-logo="/images/large-logo.png"><img src="/images/large-logo.png" alt="Heath Primary School"></a>
				
			</div>
			
			
			
			<nav id="primary-menu" class="style-5 ">
	

	<ul class="count7 sf-js-enabled" style="touch-action: pan-y;">
			<li>
			 <a href="/" title="Home">
			 	<div class="stickyHidden"><i class="fa fa-home"></i><span>Home</span></div>
			 	</a>
			 				 	
			 
		</li>
			<li class="sub-menu">
			 <a href="javascript:;" title="Key Information" class="sf-with-ul">
			 	<div class="stickyHidden"><i class="fa fa-folder"></i><span>Key Information</span></div>
			 	</a>
			 						<ul style="display: none;" class="nav-submenu">
																																		<li>
									
									<a href="/attendance-and-admissions-copy" title="Admissions">
										<div>
											Admissions
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/attendance" title="Attendance">
										<div>
											Attendance
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/embark" title="Embark Federation MAT">
										<div>
											Embark Federation MAT
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/equality-and-diversity" title="Diversity, Equity and Inclusion">
										<div>
											Diversity, Equity and Inclusion
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/GDPR" title="GDPR">
										<div>
											GDPR
																					</div>
									</a>
																	</li>
																												<li class="sub-menu">
									
									<a href="/governors" title="Governors" class="sf-with-ul">
										<div>
											Governors
																					</div>
									</a>
																			<ul style="display: none;" class="nav-submenu">
																							<li><a href="https://heathprimary.plus.co.uk/governors/governors-secure-area" title="Governors Secure Link"><div>Governors Secure Link</div></a></li>
																					</ul>
																	</li>
																												<li>
									
									<a href="/nursery-admissions" title="Nursery Admissions">
										<div>
											Nursery Admissions
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/ofsted-performance-tables" title="Ofsted/Performance Tables">
										<div>
											Ofsted/Performance Tables
																					</div>
									</a>
																	</li>
																																									<li>
									
									<a href="/policies-copy" title="Policies ">
										<div>
											Policies 
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/pupil-premium-and-sports-premium" title="Pupil Premium and Sports Premium">
										<div>
											Pupil Premium and Sports Premium
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/school-meals" title="School Meals">
										<div>
											School Meals
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/SEND/Inclusion" title="SEND/Inclusion">
										<div>
											SEND/Inclusion
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/travel-" title="Travel ">
										<div>
											Travel 
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/uniform-shop" title="Uniform ">
										<div>
											Uniform 
																					</div>
									</a>
																	</li>
																		</ul>
						 	
			 
		</li>
			<li class="sub-menu">
			 <a href="javascript:;" title="Safeguarding" class="sf-with-ul">
			 	<div class="stickyHidden"><i class="fa fa-clipboard"></i><span>Safeguarding</span></div>
			 	</a>
			 						<ul style="display: none;" class="nav-submenu">
																					<li class="sub-menu">
									
									<a href="/school-policies" title="Safeguarding (Including Policies)" class="sf-with-ul">
										<div>
											Safeguarding (Including Policies)
																					</div>
									</a>
																			<ul style="display: none;" class="nav-submenu">
																							<li><a href="/school-policies/child-friendly-safeguarding-policies-" title="Child Friendly Safeguarding Policies "><div>Child Friendly Safeguarding Policies </div></a></li>
																					</ul>
																	</li>
																												<li>
									
									<a href="/protected-characteristics" title="Protected Characteristics">
										<div>
											Protected Characteristics
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/prevent" title="Prevent">
										<div>
											Prevent
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/online-safety" title="Online Safety">
										<div>
											Online Safety
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/parental-guidance" title="Useful Links &amp; Parental Guidance">
										<div>
											Useful Links &amp; Parental Guidance
																					</div>
									</a>
																	</li>
																		</ul>
						 	
			 
		</li>
			<li class="sub-menu">
			 <a href="javascript:;" title="Parent Area" class="sf-with-ul">
			 	<div class="stickyHidden"><i class="fa fa-group"></i><span>Parent Area</span></div>
			 	</a>
			 						<ul style="display: none;" class="nav-submenu">
																					<li>
									
									<a href="/clubs" title="Clubs">
										<div>
											Clubs
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/parent-area/home-learning/-embark-award" title=" Embark Award">
										<div>
											 Embark Award
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/events-and-celebrations" title="Events and Celebrations">
										<div>
											Events and Celebrations
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/parent-area/newsletters" title="Newsletters">
										<div>
											Newsletters
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/parent-view-and-surveys" title="Parent View and Surveys">
										<div>
											Parent View and Surveys
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/pupil-voice" title="Pupil Voice">
										<div>
											Pupil Voice
																					</div>
									</a>
																	</li>
																												<li class="sub-menu">
									
									<a href="/parent-area/remote-learning" title="Remote Learning" class="sf-with-ul">
										<div>
											Remote Learning
																					</div>
									</a>
																			<ul style="display: none;" class="nav-submenu">
																							<li><a href="/parent-area/home-learning/lower-key-stage-2-home-learning" title="Lower Key Stage 2 Home Learning"><div>Lower Key Stage 2 Home Learning</div></a></li>
																							<li><a href="/parent-area/home-learning/upper-key-stage-2-home-learning" title="Upper Key Stage 2 Home Learning"><div>Upper Key Stage 2 Home Learning</div></a></li>
																							<li><a href="/parent-area/home-learning/key-stage-1-home-learning" title="Key Stage 1 Remote Learning"><div>Key Stage 1 Remote Learning</div></a></li>
																							<li><a href="/parent-area/home-learning/EYFS-home-learning" title="EYFS Home Learning"><div>EYFS Home Learning</div></a></li>
																					</ul>
																	</li>
																												<li>
									
									<a href="/Term-dates" title="Term Dates">
										<div>
											Term Dates
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/safeguarding-newsletters-" title="Safeguarding Newsletters ">
										<div>
											Safeguarding Newsletters 
																					</div>
									</a>
																	</li>
																		</ul>
						 	
			 
		</li>
			<li class="sub-menu">
			 <a href="/curriculum" title="Curriculum" class="sf-with-ul">
			 	<div class="stickyHidden"><i class="fa fa-book"></i><span>Curriculum</span></div>
			 	</a>
			 						<ul style="display: none;" class="nav-submenu">
																					<li>
									
									<a href="/curriculum/teaching-learning-" title="Teaching &amp; Learning ">
										<div>
											Teaching &amp; Learning 
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/curriculum/english" title="English">
										<div>
											English
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/curriculum/maths" title="Maths">
										<div>
											Maths
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/curriculum">
										<div>
											Curriculum 
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/curriculum/assemblies" title="Assemblies" target="_blank">
										<div>
											Assemblies
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/curriculum/nurture-at-heath" title="Nurture ">
										<div>
											Nurture 
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/curriculum/eyfs" title="EYFS">
										<div>
											EYFS
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/curriculum/history" title="History">
										<div>
											History
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/curriculum/geography-" title="Geography ">
										<div>
											Geography 
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/curriculum/science" title="Science">
										<div>
											Science
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/curriculum/art-&amp;Design" title="Art &amp; Design ">
										<div>
											Art &amp; Design 
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/pe" title="PE ">
										<div>
											PE 
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/curriculum/forest-school" title="Explorers">
										<div>
											Explorers
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/curriculum/opal" title="OPAL">
										<div>
											OPAL
																					</div>
									</a>
																	</li>
																		</ul>
						 	
			 
		</li>
			<li class="sub-menu">
			 <a href="javascript:;" title="School Community" class="sf-with-ul">
			 	<div class="stickyHidden"><i class="fa fa-child"></i><span>School Community</span></div>
			 	</a>
			 						<ul style="display: none;" class="nav-submenu">
																																		<li>
									
									<a href="/EmotionalHealthandWellbeing" title="Emotional Health and Wellbeing">
										<div>
											Emotional Health and Wellbeing
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/after-and-before-school-club" title=" Before and After School Club">
										<div>
											 Before and After School Club
																					</div>
									</a>
																	</li>
																																									<li>
									
									<a href="http://www.letslocalise.co.uk/school/heath-primary-school/sch128250/campaigns/" title="Lets Localise " target="_blank">
										<div>
											Lets Localise 
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/schoolcommunity/local-clubs" title="Local Clubs" target="_blank">
										<div>
											Local Clubs
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/behaviour-and-rewards" title="Behaviour and Rewards">
										<div>
											Behaviour and Rewards
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/friends-of-school" title="Friends of School">
										<div>
											Friends of School
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/family-liaison-worker" title="Family Liaison Worker">
										<div>
											Family Liaison Worker
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/schoolcommunity/early-help-offer" title="Early Help Offer " target="_blank">
										<div>
											Early Help Offer 
																					</div>
									</a>
																	</li>
																												<li>
									
									<a href="/meet-our-staff" title="Meet our staff ">
										<div>
											Meet our staff 
																					</div>
									</a>
																	</li>
																		</ul>
						 	
			 
		</li>
			<li>
			 <a href="/contact" title="Contact Us">
			 	<div class="stickyHidden"><i class="fa fa-comments"></i><span>Contact Us</span></div>
			 	</a>
			 				 	
			 
		</li>
	
		

		</ul>
		
	<div id="top-search">
	<a id="top-search-trigger" tabindex="0" role="search"><span>Site Search</span><i class="icon-search3"></i><i class="icon-line-cross"></i></a>
	<form action="/site-search" method="get" name="search-form" id="search-form">
		<a tabindex="0" id="searchTrap" role="presentation"><span>Function to remove keyboard trap from search</span></a>
		<label for="Search" style="position: absolute !important; left: -9999px !important;">Search</label>
		<input type="text" id="Search" name="s" class="form-control" value="" placeholder="Type &amp; Hit Enter..">
		<button type="submit">Search</button>
	</form>
</div>	
	</nav>
			

		</div>

	</div>
	</header>
	



						<section id="slider" class="slider-element swiper_wrapper full-width clearfix" data-autoplay="7000" data-speed="650" data-loop="true">
		<div class="swiper-container swiper-parent swiper-container-horizontal" style="cursor: grab;">
			<div class="swiper-wrapper" style="transition-duration: 0ms; transform: translate3d(-800px, 0px, 0px);"><div class="swiper-slide swiper-slide-duplicate swiper-slide-prev" style="background-image: url(&quot;/heath/s5.jpg&quot;); width: 800px;" data-swiper-slide-index="4">
							<div class="container clearfix">
															</div>
						</div>
	
	
	
							       
	    	 		    		    					        			    	    		    
	    	    	    	    	    	    	    
	    	
	    		    
	    	    						    	
													<div class="swiper-slide dark swiper-slide-active" style="background-image: url(&quot;/heath/s1.jpg&quot;); width: 800px;" data-swiper-slide-index="0">
							<div class="container clearfix">
																<div class="slider-caption slider-caption-center" style="top: 140px;">
																		<h2 data-caption-animate="fadeInUp" class="fadeInUp animated">Welcome to Heath Primary School</h2>
																																			</div>
															</div>
						</div>
										
								       
	    	 		    		    					        			    	    		    
	    	    	    	    	    	    	    
	    	    		    
	    	    						    	
													<div class="swiper-slide swiper-slide-next" style="background-image: url(&quot;/heath/s2.jpg&quot;); width: 800px;" data-swiper-slide-index="1">
							<div class="container clearfix">
															</div>
						</div>
										
								       
	    	 		    		    					        			    	    		    
	    	    	    	    	    	    	    
	    	    		    
	    	    						    	
													<div class="swiper-slide" style="background-image: url(&quot;/heath/s3.jpg&quot;); width: 800px;" data-swiper-slide-index="2">
							<div class="container clearfix">
															</div>
						</div>
										
								       
	    	 		    		    					        			    	    		    
	    	    	    	    	    	    	    
	    	    		    
	    	    						    	
													<div class="swiper-slide" style="background-image: url(&quot;/heath/s4.jpg&quot;); width: 800px;" data-swiper-slide-index="3">
							<div class="container clearfix">
															</div>
						</div>
										
								       
	    	 		    		    					        			    	    		    
	    	    	    	    	    	    	    
	    	    		    
	    	    						    	
													<div class="swiper-slide swiper-slide-duplicate-prev" style="background-image: url(&quot;/heath/s5.jpg&quot;); width: 800px;" data-swiper-slide-index="4">
							<div class="container clearfix">
															</div>
						</div>
										
					<div class="swiper-slide dark swiper-slide-duplicate swiper-slide-duplicate-active" style="background-image: url(&quot;/heath/s1.jpg&quot;); width: 800px;" data-swiper-slide-index="0">
							<div class="container clearfix">
																<div class="slider-caption slider-caption-center" style="top: 140px;">
																		<h2 data-caption-animate="fadeInUp" class="not-animated">Welcome to Heath Primary School</h2>
																																			</div>
															</div>
						</div></div>
			<div class="slider-arrow-left" tabindex="0" role="button" aria-label="Previous slide"><i class="icon-angle-left"></i></div>
			<div class="slider-arrow-right" tabindex="0" role="button" aria-label="Next slide"><i class="icon-angle-right"></i></div>
						<div class="slide-number"><div class="slide-number-current">1</div><span>/</span><div class="slide-number-total">5</div></div>
			<div class="swiper-pagination swiper-pagination-clickable swiper-pagination-bullets"><span class="swiper-pagination-bullet swiper-pagination-bullet-active" tabindex="0" role="button" aria-label="Go to slide 1"></span><span class="swiper-pagination-bullet" tabindex="0" role="button" aria-label="Go to slide 2"></span><span class="swiper-pagination-bullet" tabindex="0" role="button" aria-label="Go to slide 3"></span><span class="swiper-pagination-bullet" tabindex="0" role="button" aria-label="Go to slide 4"></span><span class="swiper-pagination-bullet" tabindex="0" role="button" aria-label="Go to slide 5"></span></div>
		<span class="swiper-notification" aria-live="assertive" aria-atomic="true"></span></div>

</section>			

<section id="content01" name="content01" class="">

	




<div class="content-wrap">
			<script type="text/javascript">
    if(window.location.pathname=='' || window.location.pathname=='/') {
        window.location = '/latest';
    }
</script>

<div id="pageNotFound" class="container content-wrap">
    <div id="errholder" class="page_not_found_wrap">
        <div class="errimage"></div>
        <div class="errmessage">
          <div class="heading-block">
              <h1>Page not found!</h1>
              <span>Something seems to have gone wrong.</span>
            </div>
    
            <p>Sorry, the page you are trying to view does not exist or is missing. <br>If this problem persists complete the form below. We will resolve the issue right away.</p>
        </div>
    </div>
</div>


    <script type="text/javascript">
    function LoteCfForm() {

    }

    LoteCfForm.prototype.getCfValues = function (formData, cfArrayName) {
        const promises = $(".custom_field_edit").map(function (i, e) {
            if (LoteCfForm.prototype.isInVisibleGroup(e)) {
                var f = $(e).data('function');
                if (f && typeof LoteCfForm.prototype[f] == 'function') {
                    return LoteCfForm.prototype[f](formData, e, cfArrayName);
                }
            }
        });

        return Promise.all(promises);
    };

    LoteCfForm.prototype.isInVisibleGroup = function (e) {
        return ! $(".custom_group_edit[data-value='" + $(e).data('group') + "']").hasClass("group_disabled");;
    };

    LoteCfForm.prototype.getTextValue = function (formData, e, cfArrayName) {
        formData[cfArrayName][$(e).attr("data-id")] = $(e).val();
    };

    LoteCfForm.prototype.getWysiwygValue = function (formData, e, cfArrayName) {
        formData[cfArrayName][$(e).attr("data-id")] = getWysiwygValue($(e).attr("id"));
    };

    LoteCfForm.prototype.getDateTimeValue = function (formData, e, cfArrayName) {
        var id = $(e).attr('id');
        var element = $('#' + id + '_time');
        var time = timepickiConvert(element);

        var value = null;
        var date = $('#' + id + '_date_alt').val();
        if (date && time) {
            value = date + ' ' + time;
        }
        else if (date) {
            value = date;
        }
        else if (time) {
            value = time;
        }
        formData[cfArrayName][$(e).attr("data-id")] = value;
    };

    LoteCfForm.prototype.getDateValue = function (formData, e, cfArrayName) {
        var id = $(e).attr('id');
        formData[cfArrayName][$(e).attr("data-id")] = $('#' + id + '_date_alt').val();
    };

    LoteCfForm.prototype.getTimeValue = function (formData, e, cfArrayName) {
        var id = $(e).attr('id');
        var element = $('#' + id + '_time');
        var time = timepickiConvert(element);

        formData[cfArrayName][$(e).attr("data-id")] = time;
    };

    LoteCfForm.prototype.getCheckboxValues = function (formData, e, cfArrayName) {
        var id = $(e).data('id');
        var counter = 0;
        var values = [];
        $(e.form).find('input[name="checkbox_' + id + '"]').each(function (i, el) {
            if ($(el).is(":checked")) {
                values[counter] = $(el).val();
                counter++;
            }
        });
        if (values.length === 0) {
            values = "";
        }
        formData[cfArrayName][$(e).attr("data-id")] = values;
    };

    LoteCfForm.prototype.getRadioValue = function (formData, e, cfArrayName) {
        var id = $(e).attr('id');
        var baseObj = [];
        $.each($(e).find('input[type="radio"]'), function (index, item) {
            var obj = {};
            if ($(item).is(':checked')) {
                obj['id'] = $(item).val();

                var itemValid = true;
                if ($(item).val() == 0 && $('#cf_field_edit_radio_' + $(e).data('id') + '_custom').is(':visible')) {
                    var customInput = $('#cf_field_edit_radio_' + $(e).data('id') + '_custom').val();
                    obj['value'] = customInput;
                    itemValid = customInput !== '';
                } else {
                    obj['value'] = $(item).data('value');
                }

                if (itemValid) {
                    baseObj.push(obj);
                }
            }
        });
        formData[cfArrayName][$(e).attr("data-id")] = '';
        if (baseObj.length > 0) {
            formData[cfArrayName][$(e).attr("data-id")] = JSON.stringify(baseObj);
        }
    };

    LoteCfForm.prototype.getMatrixValues = function (formData, e, cfArrayName) {
        if (typeof(formData[cfArrayName][$(e).attr("data-default")]) == 'undefined') {
            formData[cfArrayName][$(e).attr("data-default")] = {};
        }
        formData[cfArrayName][$(e).attr("data-default")][$(e).attr("data-id")] = $(e).val();
    };

    LoteCfForm.prototype.getRecaptchaValue = function (formData, e, cfArrayName) {
        formData[cfArrayName][$(e).attr("data-id")] = grecaptcha.getResponse();
    };

    LoteCfForm.prototype.getFileValues = function (formData, e, cfArrayName) {
        return new Promise((resolve, reject) => {
            var file = e.files[0];
            if (!file) {
                return resolve();
            }
            var r = new FileReader();

            r.onload = function(read) {
                var contents = read.target.result;
                var attr = $(e).attr("data-id")
                formData[cfArrayName][attr] = contents;
                resolve();
            }

            r.readAsDataURL(file)
        })
    };

    LoteCfForm.prototype.getCheckedValues = function (formData, e, cfArrayName) {
        var name = $(e).data('name');
        var counter = 0;
        var values = [];
        $(e).find('input[name="' + name + '"]').each(function (i, el) {
            if ($(el).is(":checked")) {
                values[counter] = $(this).val();
                counter++;
            }
        });
        formData[cfArrayName][$(e).attr("data-id")] = values;
    };

    LoteCfForm.prototype.getOptionValue = function (formData, e, cfArrayName) {
        var id = $(e).attr('id');
        var obj = {
            id: $(e).val()
        };

        if ($(e).val() == 0 && $('#' + id + '_custom').is(':visible')) {
            obj['value'] = $('#' + id + '_custom').val();
        } else if ($(e).val() !== '') {
            obj['value'] = $(e).find(':selected').data('value');
        }

        formData[cfArrayName][$(e).attr("data-id")] = '';
        if (obj.value !== undefined) {
            formData[cfArrayName][$(e).attr("data-id")] = JSON.stringify([obj]);
        }
    };

    LoteCfForm.prototype.getOptionMultiValue = function (formData, e, cfArrayName) {
        var id = $(e).attr('id');
        var baseObj = [];
        if ($(e).val() !== null) {
            $.each($(e).val(), function (index, itemId) {
                var obj = {
                    id: itemId,
                    value: ''
                };

                var itemValid = true;
                if (itemId == 0 && $('#' + id + "_custom").is(':visible')) {
                    var customInput = $('#' + id + "_custom").val();
                    obj['value'] = customInput;
                    itemValid = customInput !== '';
                } else {
                    obj['value'] = $('#' + id + '_option_' + itemId).data('value');
                }

                if (itemValid) {
                    baseObj.push(obj);
                }
            });
        }

        formData[cfArrayName][$(e).attr("data-id")] = '';
        if (baseObj.length > 0) {
            formData[cfArrayName][$(e).attr("data-id")] = JSON.stringify(baseObj);
        }
    };

    var customBaseObjectRemove = [];

    LoteCfForm.prototype.getMultiCheckboxValue = function (formData, e, cfArrayName) {
        var baseObj = [];
        $.each($(e).find('input[type="checkbox"]'), function (index, item) {
            var obj = {};
            if ($(item).is(':checked')) {
                obj['id'] = $(item).val();

                var itemValid = true;
                var cfField = $('#cf_field_edit_' + $(e).data('id') + '_custom');
                if ($(item).val() === 0 && cfField.is(':visible')) {
                    var customInput = cfField.val();
                    obj['value'] = customInput;
                    itemValid = customInput !== '';
                } else {
                    obj['value'] = $(item).data('value');
                }

                if (itemValid) {
                    baseObj.push(obj);
                }
            } else {
                obj['id'] = $(item).data('id');
                customBaseObjectRemove.push(obj);
            }

        });
        if (baseObj.length > 0) {
            formData[cfArrayName][$(e).attr("data-id")] = JSON.stringify(baseObj);
        }
        if (baseObj.length === 0 && customBaseObjectRemove.length > 0) {
            console.log("Remove object", e);
            formData['_custom_remove'] = JSON.stringify(customBaseObjectRemove);
        }
    };

    function loteCfEditBeforeSerialise(parentForm)
    {
        var f = new LoteCfForm();
        f.beforeCfSerialise(parentForm);
    }

    function loteCfEditBeforeSubmit(parentForm)
    {
        var f = new LoteCfForm();
        return f.beforeCfSubmit(parentForm);
    }

    async function getLoteCfEditValues(formData, cfArrayName, parentForm) {
        formData[cfArrayName] = {};
        var f = new LoteCfForm();
        if (parentForm) {
            await f.getFormCfValues(formData, cfArrayName, parentForm);
        }
        else {
            await f.getCfValues(formData, cfArrayName);
        }
        return formData;
    }


    LoteCfForm.prototype.getFormCfValues = function (formData, cfArrayName, parentForm) {
        $(parentForm).find(".custom_field_edit").each(function (i, e) {
            var f = $(e).data('function');
            if (f && typeof LoteCfForm.prototype[f] == 'function') {
                LoteCfForm.prototype[f](formData, e, cfArrayName);
            }
        });
    };


    LoteCfForm.prototype.beforeCfSerialise = function (parentForm) {
        $(parentForm).find(".custom_field_edit").each(function (i, e) {
            var f = $(e).data('serialise-function');
            if (f && typeof LoteCfForm.prototype[f] == 'function') {
                LoteCfForm.prototype[f](parentForm, e);
            }
        });
    };

    LoteCfForm.prototype.beforeCfSubmit = function (parentForm) {
        var fields = [];
        var emptyFields = [];
        $(parentForm).find('input[type="radio"].custom_field_edit.required').each(function (i, e) {
            if($(e).is(':checked')) {
                fields[$(e).attr('name')] = 'required';
            }
        });
        $(parentForm).find('input[type="radio"].custom_field_edit.required').each(function (i, e) {
            if($(e).is(':checked')) {

            } else {
                if($(e).attr('name') != undefined && fields[$(e).attr('name')] == undefined) emptyFields[$(e).attr('name')] = 'required';
            }
        });
        setCfErrors(emptyFields, parentForm);
        if(emptyFields.length > 0) {
            $('.form_buttons').show();
            $('.form_processing').hide();
            return false;
        }
    };

    LoteCfForm.prototype.beforeCfSerialisePublicGroup = function (formData, e, cfArrayName) {
        var name = $(e).data('name');
        var publicGroups = {};
        $(e).parent().find('input[data-key="' + name + '"]').each(function (i, el) {
            if($(el).is(":checked")){
                publicGroups[$(el).attr("data-value")] = "1";
            }
            else {
                publicGroups[$(el).attr("data-value")] = "0";
            }
        });
        $(e).val(JSON.stringify(publicGroups));
    };

    LoteCfForm.prototype.beforeCfSerialiseMediaFile = function (formData, e, cfArrayName) {
        var container = jQuery(e).closest('.media_field_container');
        var numInProgress = jQuery('li.qq-in-progress', container).length;
        if(numInProgress > 0) {
            jQuery(e).val("in-progress");
        } else {
            jQuery(e).val(jQuery(e).attr('data-media-files'));
        }
    };

    LoteCfForm.prototype.beforeCfSerialiseMatrix = function (formData, e, cfArrayName) {
        var values = {};
        var id = $(e).data('id');
        var matrixType = $(e).data('matrix-type');
        if(matrixType=="radio" || matrixType=="checkbox") {
            $(e.form).find('input[data-id="matrix_'+matrixType+'_' + id + '"]').each(function (i, el) {
                if ($(el).is(":checked")) {
                    if(typeof(values[$(el).data("matrix-row")]) == 'undefined') {
                        values[$(el).data("matrix-row")] = {};
                    }
                    values[$(el).data("matrix-row")][$(el).data("matrix-column")] = 1;
                }
            });
        }
        else {
            $(e.form).find('input[data-id="matrix_text_' + id + '"]').each(function (i, el) {
                if($(el).val()) {
                    if(typeof(values[$(el).data("matrix-row")]) == 'undefined') {
                        values[$(el).data("matrix-row")] = {};
                    }
                    values[$(el).data("matrix-row")][$(el).data("matrix-column")] = $(el).val();
                }
            });
        }
        $(e).val(JSON.stringify(values));
    };

    LoteCfForm.prototype.beforeCfSerialiseRecaptcha = function (parentForm, e) {
        var dataElement = $('#' + $(e).data('id'));
        $(dataElement).val(grecaptcha.getResponse());
    };

    LoteCfForm.prototype.beforeCfSerialiseDate = function (parentForm, e) {
        var id = $(e).attr('id');
        $(e).val($('#' + id + '_date_alt').val());
    };

    LoteCfForm.prototype.beforeCfSerialiseTime = function (parentForm, e) {
        var id = $(e).attr('id');
        var element = $('#' + id + '_time');
        var time = timepickiConvert(element);
        $(e).val(time);
    };

    LoteCfForm.prototype.beforeCfSerialiseDateTime = function (formData, e, cfArrayName) {
        var id = $(e).attr('id');
        var element = $('#' + id + '_time');
        var time = timepickiConvert(element);

        var value = null;
        var date = $('#' + id + '_date_alt').val();
        if (date && time) {
            value = date + ' ' + time;
        }
        else if (date) {
            value = date;
        }
        else if (time) {
            value = time;
        }
        $(e).val(value);
    };
    LoteCfForm.prototype.beforeCfSerialiseSignature = function (formData, e, cfArrayName) {

    };

    LoteCfForm.prototype.beforeCfSerialiseMultiSelect = function (parentForm, e) {
        var id = $(e).attr('id');
        var baseObj = [];
        if ($(e).val() !== null) {
            $.each($(e).val(), function (index, itemId) {
                var obj = {
                    id: itemId,
                    value: ''
                };

                var itemValid = true;
                if (itemId == 0 && $('#' + id + "_custom").is(':visible')) {
                    var customInput = $('#' + id + "_custom").val();
                    obj['value'] = customInput;
                    itemValid = customInput !== '';
                } else {
                    obj['value'] = $('#' + id + '_option_' + itemId).data('value');
                }

                if (itemValid) {
                    baseObj.push(obj);
                }
            });
        }

        var dataField = $(parentForm).find("input[name='"+$(e).data('id')+"']");
        if (baseObj.length > 0) {
            dataField.val(JSON.stringify(baseObj));
        }
    };


    LoteCfForm.prototype.beforeCfSerialiseCheckBox = function (parentForm, e) {
        var id = $(e).attr('id');
        var dataField = $(parentForm).find("input[name='" + $(e).data('id') + "']");
        var baseObj = [];
        $.each($(e).find('input[type="checkbox"]'), function (index, item) {
            var obj = {};
            if ($(item).is(':checked')) {
                obj['id'] = $(item).val();

                var itemValid = true;
                if ($(item).val() == 0 && $('#cf_field_edit_' + $(e).data('id') + '_custom').is(':visible')) {
                    var customInput = $('#cf_field_edit_' + $(e).data('id') + '_custom').val();
                    obj['value'] = customInput;
                    itemValid = customInput !== '';
                } else {
                    obj['value'] = $(item).data('value');
                }

                if (itemValid) {
                    baseObj.push(obj);
                }
            }
        });
        if (baseObj.length > 0) {
            dataField.val(JSON.stringify(baseObj));
        }
    };


    LoteCfForm.prototype.beforeCfSerialiseRadioButton = function (parentForm, e) {
        var id = $(e).attr('id');
        var dataField = $(parentForm).find("input[name='" + $(e).data('id') + "']");
        var baseObj = [];
        $.each($(e).find('input[type="radio"]'), function (index, item) {
            var obj = {};
            if ($(item).is(':checked')) {
                obj['id'] = $(item).val();

                var itemValid = true;
                if ($(item).val() == 0 && $('#cf_field_edit_radio_' + $(e).data('id') + '_custom').is(':visible')) {
                    var customInput = $('#cf_field_edit_radio_' + $(e).data('id') + '_custom').val();
                    obj['value'] = customInput;
                    itemValid = customInput !== '';
                } else {
                    obj['value'] = $(item).data('value');
                }

                if (itemValid) {
                    baseObj.push(obj);
                }
            }
        });
        if (baseObj.length > 0) {
            dataField.val(JSON.stringify(baseObj));
        } else {
            dataField.val("");
        }
    };


    LoteCfForm.prototype.beforeCfSerialiseSingleSelect = function (parentForm, e) {
        var id = $(e).attr('id');
        var dataField = $(parentForm).find("input[name='"+$(e).data('id')+"']");
        var obj = {
            id: $(e).val()
        };

        var itemValid = true;
        if ($(e).val() == '0' && $('#' + id + '_custom').is(':visible')) {
            var customInput = $('#' + id + '_custom').val();
            obj['value'] = customInput;
            itemValid = customInput !== '';
        } else if ($(e).val() !== '') {
            obj['value'] = $(e).find(':selected').data('value');
        } else {
            itemValid = false;
        }

        var baseObj = [obj];

        if (itemValid) {
            dataField.val(JSON.stringify(baseObj));
        }
    };





    function setCfErrors(errors, form) {
        for (var f in errors) {
            if (form) {
                var htmlError = document.createElement('div');
                htmlError.textContent = 'There are errors within your form. Please check that all your mandatory fields are completed.';
                htmlError.setAttribute('class','errorDiv');

                $(form).find('#cf_field_edit_error_' + f).html(errors[f]).closest('.fwrp').addClass('fer');
                if ($('div.errorDiv').length) {

                } else {
                    $(form).find('.form_buttons').prepend(htmlError);
                }
            }
            else {
                $('#cf_field_edit_error_' + f).html(errors[f]).closest('.fwrp').addClass('fer');
            }
        }

    }

    function setFormProcessing(form, isProcessing, isBack) {
        if (isProcessing) {
            if(isBack){
                $(form).addClass("is-processing-back");
            }
            else{
                $(form).find('input[type="submit"], button[type="submit"]').prop('disabled', true).addClass("loading");
                $(form).addClass("is-processing");
            }
        }
        else {
            if(isBack){
                $(form).removeClass("is-processing-back");
            }
            else{
                $(form).find('input[type="submit"], button[type="submit"]').prop('disabled', false).removeClass("loading");
                $(form).removeClass("is-processing");
            }
        }
    }

    $(function() {
        $('.only_one_radio').off().on('click', function() {
            $('.only_one_radio').prop('checked', false);
            $(this).prop('checked', true);
        });
    });


</script><script type="text/javascript">

    function setupFormButtons(formId, recordId, nextPage, prevPage, formInstance)
    {
        setupPrevButton(formId, recordId, prevPage, formInstance);
        setupFormSubmit(formId, recordId, nextPage, formInstance);
        $('#lote_form_'+formId+' .lote_form_main button[type=submit], .lote_form_main input[type=button]').off().on('click', function(e) {
            e.preventDefault();
            var thisForm = $("#lote_form_"+formId);
            /*
            $('#lote_form_'+formId+' .form_buttons .btn').addClass('greyed_out');
            $('#lote_form_'+formId+' .form_buttons .btn').prop('disabled', true);
            $(this).addClass('loading');
            */
            if(typeof(formInstance) != 'undefined' && formInstance != '') {
                thisForm = $("[id='lote_form_"+formId+"'][data-form-instance='"+formInstance+"']");
            }
            if($(this).hasClass("form_prev_button_"+formId)) {
                goToFormPage(formId, recordId, prevPage, true);
            } else {
                thisForm.submit();
            }
        });
    }

    function setupPrevButton(formId, recordId, prevPage, formInstance)
    {
        setupProgressClick(formId, recordId);
    }

    function setupFormSubmit(formId, recordId, nextPage, formInstance)
    {
        var thisForm = $("#lote_form_"+formId);
        if(typeof(formInstance) != 'undefined' && formInstance != '') {
            thisForm = $("[id='lote_form_"+formId+"'][data-form-instance='"+formInstance+"']");
        }
        var options = {
            url: 'https://www.heath.derbyshire.sch.uk/form/submit.json',
            dataType : "json",
            type: "POST",
            data : { submit_url : window.location.href, group_id : $(thisForm).find(".group_id").val(), '_lote_form_module' : '1' },
            success:    function(json) {
                clearFormErrors();
                if (json.success) {
                    if(json.completed) {
                        completeForm(thisForm, formId, json.record_id, formInstance, json);
                    }
                    else {
                        goToFormPage(formId, json.record_id, json.next_page, false);
                    }
                }
                else if(json.error) {
                    setFormProcessing(thisForm, false);
                    alert(json.error);
                }
                else {
                    $('#lote_form_'+formId+' .form_buttons .btn').removeClass('greyed_out');
                    $('#lote_form_'+formId+' .form_buttons .btn').removeClass('loading');
                    $('#lote_form_'+formId+' .form_buttons .btn').prop('disabled', false);
                    setCfErrors(json.errors, thisForm);
                    setAdditionalFormErrors(json.additional_form_errors);
                    setFormProcessing(thisForm, false);
                }
                var fName = "onLoteFormSubmitCallback"+formId;
                if (typeof window[fName] === "function") {
                    window[fName](formId, thisForm, json);
                }
            },
            error: function (request, status, error) {
                if (request.status) {
                    alert('Error: ' + request.status + '\\n' + request.statusText);
                }
                setFormProcessing(thisForm, false);
            },
            beforeSerialize: function($form, options) {
                loteCfEditBeforeSerialise(thisForm);
            },
            beforeSubmit: function(formData, jqForm, options) {
                var fName = "getAdditionalFormData"+formInstance;
                if (typeof window[fName] === "function") {
                    window[fName](formData);
                }
                setFormProcessing(thisForm, true);
                return loteCfEditBeforeSubmit(thisForm);
            }

        };
        $(thisForm).ajaxForm(options);
    }

    function setAdditionalFormErrors(additionalFormErrors)
    {
        for(formErrors in additionalFormErrors) {
            for (var f in additionalFormErrors[formErrors]) {
                $('#' + f + '_error').html(additionalFormErrors[formErrors][f][0]).parent().addClass('fer');
            }
        }

    }


    function setupProgressClick(formId, recordId) {

        $('#save_progress').off('click').on('click', function() {
            var form = $("#lote_form_"+formId);
            var formData = {} ;
            getLoteCfEditValues(formData,'_fields', $(this).parents());

            formData['id'] = formId;
            formData['submit_url'] = window.location.href;
            formData['group_id'] = $(form).find(".group_id").val();
            formData['record_id'] = $(form).find("#record_id").val();
            formData['current_page'] = $(form).find("#group_id").val();

            $.ajax({
                url: 'https://www.heath.derbyshire.sch.uk/form/saveprogress.json',
                method: 'POST',
                data: formData,
                success: function (json) {
                    clearFormErrors();
                    if (json.success) {
                        $('#record_id').val(json.record_id);
                        alert('Progress Saved');
                    } else if(json.error) {
                        alert(json.error);
                    }
                },
                error: function (request, status, error) {
                    if (request.status) {
                        alert('Error: ' + request.status + '\\n' + request.statusText);
                    }
                }
            });

            return false;
        });
    }


    function clearFormErrors() {
        $('.fermsg').html('');
        $('.fwrp').removeClass("fer");
        $('.errorDiv').remove();
    }

    function completeForm(form, formId, recordId, formInstance, rawJsonResponse) {
        
        var customCallbackName = 'onLoteFormCompletedCallback'+formId;

        if (typeof(callback) != 'undefined' && typeof window[callback] === "function") {
            window[callback](formId, recordId);
        }
        else if (typeof window[customCallbackName] === "function") {
            window[customCallbackName](formId, recordId);
        } else if (rawJsonResponse.redirect_url !== undefined) {
            window.location = rawJsonResponse.redirect_url;
        } else {
                        var form = $("#lote_form_"+formId);
            if(typeof(formInstance) != 'undefined' && formInstance != '') {
                var form = $("[id='lote_form_"+formId+"'][data-form-instance='"+formInstance+"']");
            }
            var formData = {} ;
            getLoteCfEditValues(formData,'_fields', form);
            formData['id'] = formId;
            formData['submit_url'] = window.location.href;
            formData['group_id'] = $(form).find(".group_id").val();
            formData['record_id'] = recordId;
            formData['current_page'] = $(form).find("#group_id").val();

            $.ajax({
                url: 'https://www.heath.derbyshire.sch.uk/form/confirmation/2.shtml',
                method: 'POST',
                data : formData,
                success: function (html) {
                    $('.lote_form_completed', form).html(html);
                },
                error: function (request, status, error) {
                    if (request.status) {
                        alert('Error: ' + request.status + '\\n' + request.statusText);
                    }
                }
            });
                        $(form).find(".lote_form_main").hide();
            $(form).parent().find(".lote_form_completed").show();
            $('html, body').animate({
                scrollTop:  $(form).parent().offset().top - 200
            }, 500);
            var thisForm = $("#lote_form_"+formId);
            setFormProcessing(thisForm, false);

        }
    }

    function goToFormPage(formId, recordId, page, isBack) {
        var thisForm = $("#lote_form_"+formId);
        if(isBack){
            setFormProcessing(thisForm, true, true);
        }
        $.get( "https://www.heath.derbyshire.sch.uk/form/page/" + formId + "/" + page + "/" + recordId + ".shtml", function( data ) {
            var loteForm = $("#lote_form_" + formId);
            loteForm.find('.lote_form_main').html(data);
            if(isBack){
                setFormProcessing(thisForm, false, true);
            }
            else{
                setFormProcessing(thisForm, false);
            }

            $('html, body').animate({
                scrollTop: Math.max(loteForm.offset().top - 150, 0)
            }, 350);


        });
    }


</script>    <div class="form_wrap clearfix container content-wrap">
        <div class="form_h2_name emspace h20"></div>

        <h2 class="form_h2_name">Contact Us</h2>
        <div class="form_h2_name emspace h10"></div>

        <form id="lote_form_2" autocomplete="off" class="fom hide-title" enctype="multipart/form-data" data-form-instance="" novalidate="novalidate">
            <div class="lote_form_main">
                <div class="lote_form_msg"></div>
<div id="lote_form_additional_fields">
    </div>
<div class="lote_form_page_fields">
	    <input type="hidden" class="group_id" value="6">
                    			<div class="form_question_wrapper">
			            	<div class="form-group fwrp ">
            <label for="cf_field_edit_27">First Name   *</label>
            <input type="text" class="auto_complete_field custom_field_edit form-control" id="cf_field_edit_27" name="27" data-function="getTextValue" data-id="27" data-group="6" value="">
            <div class="form_description">
        <div class="form_description">
            
        </div>
    </div>
        <div class="fermsg" id="cf_field_edit_error_27"></div>
</div>
						</div>
                            			<div class="form_question_wrapper">
			            	<div class="form-group fwrp ">
            <label for="cf_field_edit_28">Last Name   *</label>
            <input type="text" class="auto_complete_field custom_field_edit form-control" id="cf_field_edit_28" name="28" data-function="getTextValue" data-id="28" data-group="6" value="">
            <div class="form_description">
        <div class="form_description">
            
        </div>
    </div>
        <div class="fermsg" id="cf_field_edit_error_28"></div>
</div>
						</div>
                            			<div class="form_question_wrapper">
			            	<div class="form-group fwrp ">
            <label for="cf_field_edit_30">Email  *</label>
            <input type="email" class="custom_field_edit form-control" id="cf_field_edit_30" name="30" data-function="getTextValue" data-id="30" data-group="6" value="">
                <div class="form_description">
            
        </div>
        <div class="fermsg" id="cf_field_edit_error_30"></div>
</div>

						</div>
                            			<div class="form_question_wrapper">
			            	<div class="form-group fwrp ">
            <label for="cf_field_edit_42">Mobile Phone  </label>
            <input type="text" class="auto_complete_field custom_field_edit form-control" id="cf_field_edit_42" name="42" data-function="getTextValue" data-id="42" data-group="6" value="">
            <div class="form_description">
        <div class="form_description">
            
        </div>
    </div>
        <div class="fermsg" id="cf_field_edit_error_42"></div>
</div>
						</div>
                            			<div class="form_question_wrapper">
			            	<div class="form-group fwrp ">
            <label for="cf_field_edit_31">Message  *</label>
            <textarea class="custom_field_edit form-control" id="cf_field_edit_31" name="31" data-function="getTextValue" data-id="31" data-group="6"></textarea>
                <div class="form_description">
            
        </div>
        <div class="fermsg" id="cf_field_edit_error_31"></div>
</div>

						</div>
                            			<div class="form_question_wrapper">
			            	<div class="form-group fwrp ">
	<script src="https://www.google.com/recaptcha/api.js"></script>
	<div class="g-recaptcha custom_field_edit" data-sitekey="6LeZNsoZAAAAAC_atze0mLyfoGUm4ICz_xBWIl7d" id="cf_field_edit_64" data-function="getRecaptchaValue" data-serialise-function="beforeCfSerialiseRecaptcha" data-id="64" data-group="6"><div style="width: 304px; height: 78px;"><div><iframe title="reCAPTCHA" width="304" height="78" role="presentation" name="a-c0f2reqzvtrp" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox allow-storage-access-by-user-activation" src="https://www.google.com/recaptcha/api2/anchor?ar=1&amp;k=6LeZNsoZAAAAAC_atze0mLyfoGUm4ICz_xBWIl7d&amp;co=aHR0cHM6Ly93d3cuaGVhdGguZGVyYnlzaGlyZS5zY2gudWs6NDQz&amp;hl=en&amp;v=jdMmXeCQEkPbnFDy9T04NbgJ&amp;size=normal&amp;anchor-ms=20000&amp;execute-ms=15000&amp;cb=7hs8m9grnhxd"></iframe></div><textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;"></textarea></div><iframe style="display: none;"></iframe></div>
    <div class="fermsg" id="cf_field_edit_error_64"></div>
    <input name="64" type="hidden" id="64">
</div>

						</div>
            </div>

<div class="emspace h20 bod"></div>
<div class="fwrp bod">

    <div class="form_buttons">
	    	    	                <button type="submit" class="nomargin button button-large button-rounded submit_button"><span>Submit</span><i class="fa fa-spinner fa-spin fa-2x fa-fw progress-ind"></i></button>
	    	    <input type="hidden" name="id" value="2" id="form_id">
	    <input type="hidden" name="record_id" value="" id="record_id">
	    <input type="hidden" name="instance" value="" id="instance">
    </div>
    <div class="form_processing">
        <button><div class="form_loader">Loading...</div></button>
    </div>

</div>

<script type="text/javascript">
    $(function(){
        setupFormButtons('2', '', '', '', '');

		    });
</script>            </div>
            <div class="lote_form_completed" style="display: none;">
                                    <p>Thank you for contacting us. Your submission was successful.</p>
                            </div>
        </form>
    </div>


</div>

    
                    
<div id="tiles_2" class="portfolio portfolio-nomargin grid-container portfolio-notitle portfolio-full grid-container clearfix">
    <article class="portfolio-item pf-media pf-icons"><div class="portfolio-image">
            <a href="/contact">
                <img src="/images/contact_tile.jpg" alt="Contact Us"><div class="portfolio-overlay"></div>
            </a>
        </div>
        <div class="portfolio-desc">
            <h3><a href="/contact">Contact Us</a></h3>
            <span>Get help with your enquiry</span>        </div>
    </article><article class="portfolio-item pf-media pf-icons"><div class="portfolio-image">
            <a href="https://twitter.com/HPSDerbyshire">
                <img src="/images/twitter_tile.jpg" alt="Twitter"><div class="portfolio-overlay"></div>
            </a>
        </div>
        <div class="portfolio-desc">
            <h3><a href="https://twitter.com/HPSDerbyshire">Twitter</a></h3>
            <span>Learn more about us</span>        </div>
    </article><article class="portfolio-item pf-media pf-icons"><div class="portfolio-image">
            <a href="https://heathprimary.plus.co.uk/calendar/1">
                <img src="/images/hop1_slide3.jpg" alt="School Calendar"><div class="portfolio-overlay"></div>
            </a>
        </div>
        <div class="portfolio-desc">
            <h3><a href="https://heathprimary.plus.co.uk/calendar/1">School Calendar</a></h3>
            <span>What's upcoming in the school?</span>        </div>
    </article></div>

        
    

</section>




    



<footer id="footer" class="footer4 primaryBg dark">
	<div class="container">

			<div class="row">
				<div class="col-sm-4">
						<p>
						<strong>Phone:</strong> 01246 850277<br>														Slack Lane<br>
							Heath Chesterfield S44 5RH
						</p>
					<p class="policies">
													<a href="/privacy" title="Privacy Policy">Privacy Policy</a> /													<a href="/cookie" title="Cookie Policy">Cookie Policy</a> /													<a href="/site-map" title="Site Map">Site Map</a> 												<br>


											Copyrights  2025 All Rights Reserved by Heath Primary School</p>
					
				</div>
				<div class="col-sm-8">

					<div class="dflex justifyend">
    <a href="https://twitter.com/HPSDerbyshire" class="social-icon si-light si-rounded si-twitter">
        <span>Visit our Twitter</span>
      	<i class="icon-twitter"></i>
		<i class="icon-twitter"></i>
    </a>



 </div>

				</div>

			</div>
	</div>
</footer>

    
                    
<script>

                    jQuery('.sz-gallery').each(function() {
                        var array = jQuery(this).attr('data-parameters').split(',');
                        var parameters = {};

                        jQuery.each(array, function(key, value) {
                            var split = value.split(':');

                            if (!isNaN(Number(split[1]))) {
                                split[1] = Number(split[1]);
                            } else if (split[1] === "true" || split[1] === "false") {
                                split[1] = (split[1] === "true");
                            } else {
                                split[1] = String(split[1]);
                            }
                            parameters[split[0]] = split[1];
                        });

                        jQuery(this).unitegallery(parameters);
                        jQuery(this).show();
                    });
                    $('.read-more-item').each(function(){
                        var firstPara = $(this).find('p:first').html();
                        $(this).parent().prepend('<p class="articleSummary">' + firstPara.substring(0,500) + '...</p>');
                    });
                }
			})


	}

	$(function(){

        $('.tags_checked').off('change').on("change", function () {
           executeSearch();
           console.log('Tags Checked');
        });


		$("#search_phrase").keypress(function (e) {
			if(e.which == 13) { // the enter key code
				executeSearch();
                console.log('Search Phase');
			}
		});

        $("#search_clear").click(function(){
            $("#search_phrase").val("");
            executeSearch();
            console.log('Search Clear');
        });

        $('.clearTags').on('click', function(){
            $('.tagwrp input:radio').prop("checked", false);
            executeSearch();
            console.log('Uncheck');
        });
        $('.clearSideTags').on('click', function(){
            $('aside.sidebar input:radio').prop("checked", false);
            $('#clearButton').addClass('grey');
            executeSearch();
        });
         $('aside.sidebar label.radio-style-1-label').on('click', function(){
            $('#clearButton').removeClass('grey');
         });

         $(document).on('click', '.event-tag, .article-tag', function () {
             $('input.tags_checked[id="radio-' + $(this).attr('id') + '"]').prop('checked', true);
             executeSearch();
         });
	});

</script><!-- External canvas/functions.js removed - using local /assets/js/functions.js instead -->

	<script src="/website/custom.js?skin_id="></script>

	<script>
    var actualCaretPositionBookmark;
</script>
<script src="/assets/js/tinymce.min.js"></script>
<script>
	function setWysiwygValue(id, value) {
		tinymce.get(id).setContent(value);
	}
    function getWysiwygValue(id) {
        return tinyMCE.get(id).getContent();
    }
	function getWysiwygValuePlainText(id) {
		return tinyMCE.get(id).getContent({ format: 'text' });
	}
	function insertIntoWysiwyg(value, id) {
        if(actualCaretPositionBookmark != undefined) tinyMCE.activeEditor.selection.moveToBookmark(actualCaretPositionBookmark);
//        console.log(tinyMCE.activeEditor);
//        //tinyMCE.setActive(id);
//        tinyMCE.activeEditor.id = id;
//        console.log(tinyMCE.activeEditor.id);
//        tinyMCE.execCommand('mceFocus',false,'#'+id);
        tinyMCE.activeEditor.execCommand('mceInsertContent', false, ' ' + value + ' ');
	}
	function setUpTextEditor(id, isFullPage, toolbar1Custom, cssIncludes, isNewsletter, profile, relativeUrls) {

		var plugins = [
			"linkfrontend spellchecker link image external responsivefilemanager jbimages custom email phone sb_url"
		];

		var menubar = false;
		var height = "400px";
		if($('#'+id).data('tinymce-height') != undefined) {
			height = $('#'+id).data('tinymce-height');
		}
		toolbarOptions = "   link | styleselect |  bold italic underline bullist numlist | spellchecker | removeformat  ";
		if($('#'+id).siblings('div.mce-tinymce').length == 0) {

			var settings = {
                branding: false,
				selector: '#' + id,
				width: "auto",
				height: height,
				statusbar: true,
				resize: "both",
				theme: "modern",
				valid_elements: "*[*]",
				extended_valid_elements: "*[*]",
                valid_children : "multiline[a],singleline[a]",
				plugins: plugins,
				menubar: menubar,
				cleanup: false,
				verify_html: false,
                toolbar: toolbarOptions,
				image_advtab: true,
				contextmenu: "link image inserttable | cell row column deletetable",
				external_filemanager_path: "https://www.heath.derbyshire.sch.uk/theme/_admin/bluetree/js/tinymce/js/filemanager/",
				filemanager_title: "File Manager",
				external_plugins: {"filemanager": "https://www.heath.derbyshire.sch.uk/theme/_admin/bluetree/js/tinymce/js/filemanager/plugin.js"},
				image_list: [],
                paste_preprocess: function (plugin, args) {

					args.content += '';
				},
				setup: function (editor) {
                    editor.on("keyup", function (editor, e) {
                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);
                    });
                    editor.on("click", function (editor, e) {
                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);
                    });
					editor.on('getContent', function (e) {

                        if (e.content.indexOf("<a") >= 0) {
                            var data = e.content;
                            var hrefArr = [];
                            $(data).find("a").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    var text = $(this).text();
                                    e.content = e.content.replace(text+"</a>", text+'</lotelink>');
                                }
                            });
                            e.content = e.content.replace(/\\<a type="page"/g, '<lotelink type="page"');
                            e.content = e.content.replace(/\\<a type="file"/g, '<lotelink type="file"');
                            var data = e.content;
                            $(data).find("a").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    var text = $(this).attr('href');
                                    e.content = e.content.replace('<a href="'+text+'"', '<lotelink href="'+text+'"');
                                }
                            });
                            var data = e.content;
                            $(data).find("a").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    e.content = e.content.replace('<a lote_id="'+attr+'"', '<lotelink lote_id="'+attr+'"');
                                }
                            });
                        }
					});
                    editor.on('paste', function (e) {
                        var paste;
                        if (e.clipboardData.types.indexOf('text/plain') >= 0) {
                            paste = e.clipboardData.getData('text/plain');
                        }

                        if (e.clipboardData.types.indexOf('text/html') >= 0) {
                            var tempPaste = e.clipboardData.getData('text/html');
                            if (tempPaste.includes('')) { // check if the content is a special type such as actual html, image or file
                                var regex = new RegExp("([^]*)|([^]*)", "g"); // tinymce copy includes full html and body tags, and the actual content is actually between the comments
                                paste = tempPaste.replace(regex, '');
                            }
                        }

                        if (paste !== undefined) {
                            paste = paste.replace(/<script[^]*<\\/script>/g, ''); // replaces everything in-between and including (<scrip -- <\\script>)
                            e.preventDefault();
                            insertIntoWysiwyg(paste);
                        }
                    });
					editor.on('paste_preprocess', function (e) {
						console.log('paste_preprocess', e.content);
					});
					editor.on('beforeSetContent', function (e) {
                        e.content = e.content.replace(/<p>(<a[^<]*(<img[^<]*)<\\/a>)<\\/p>/gi, function (a) {
                            return a.replace('<p>', '').replace('</p>', '');
                        });
						if (e.content.indexOf("<lotelink") >= 0) {

                            var data = e.content;
                            $(data).find("lotelink").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    var text = $(this).attr('href');
                                    e.content = e.content.replace('<lotelink href="'+text+'"', '<a href="'+text+'"');
                                }

                            });

                            var data = e.content;
                            $(data).find("lotelink").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    e.content = e.content.replace('<lotelink lote_id="'+attr+'"', '<a lote_id="'+attr+'"');
                                }

                            });

							e.content = e.content.replace(/\\<lotelink type="img"/g, '<img');
							e.content = e.content.replace(/\\<lotelink type="page"/g, '<a type="page"');
							e.content = e.content.replace(/\\<lotelink type="file"/g, '<a type="file"');
                            e.content = e.content.replace(/\\<\\/lotelink>/g, '</a>');

						}

					});
				},
                spellchecker_language: "en_GB",
                spellchecker_rpc_url: 'spellchecker.php',
                link_formats: ["Link To URL", "Link To Email", "Link To Phone"],
                is_campaign: (profile !== undefined && profile === "campaign"),
                sz_profile: profile
			};

            if(typeof(toolbar) != 'undefined') {
                settings.toolbar1 = toolbar1Custom;
            }

            //Add CSS includes if provided
            if(cssIncludes) {
                settings.content_css = cssIncludes;
            }

            //If newsletter editor...
            if(isNewsletter) {
                settings.width = "800px";
                settings.resize = true;
            }

            if(typeof relativeUrls == 'undefined' || relativeUrls == false) {
                settings.relative_urls = false;
                settings.convert_urls = false;
            }

			tinymce.init(settings);
		}
	}

    function setUpTextEditorFrontEnd(id, isFullPage, toolbar1Custom, cssIncludes, isNewsletter, profile, relativeUrls) {

        var plugins = [
            "sb_links paste spellchecker textcolor sb_images sb_filemanager sb_table lists"
        ];

        var menubar = false;
        var height = "400px";
        if($('#'+id).data('tinymce-height') != undefined) {
            height = $('#'+id).data('tinymce-height');
        }
        toolbarOptions = "sb_links | sb_images | table |styleselect |  fontsizeselect forecolor | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | removeformat  ";
        if($('#'+id).siblings('div.mce-tinymce').length == 0) {

            var settings = {
                branding: false,
                selector: '#' + id,
                width: "auto",
                height: height,
                statusbar: true,
                paste_auto_cleanup_on_paste : true,
                paste_remove_styles: true,
                paste_remove_styles_if_webkit: true,
                paste_strip_class_attributes: true,
                resize: "both",
                theme: "modern",
                valid_elements: "*[*]",
                extended_valid_elements: "*[*]",
                valid_children : "multiline[a],singleline[a]",
                plugins: plugins,
                menubar: menubar,
                cleanup: false,
                verify_html: false,
                toolbar: toolbarOptions,
                image_advtab: true,
                contextmenu: "link image inserttable | cell row column deletetable",
                fontsize_formats: "8px 9px 10px 11px 12px 14px 16px 18px 20px 24px 36px",
                image_list: [],
                paste_preprocess: function (plugin, args) {
                    args.content += '';
                },
                setup: function (editor) {
                    editor.on("keyup", function (editor, e) {
                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);
                    });
                    editor.on("click", function (editor, e) {
                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);
                    });
                    editor.on('getContent', function (e) {
                       
                        if (e.content.indexOf("<a") >= 0) {
                            var data = e.content;
                            var hrefArr = [];
                            $(data).find("a").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    var text = $(this).text();
                                    e.content = e.content.replace(text+"</a>", text+'</lotelink>');
                                }
                            });
                            e.content = e.content.replace(/\\<a type="page"/g, '<lotelink type="page"');
                            e.content = e.content.replace(/\\<a type="file"/g, '<lotelink type="file"');
                            var data = e.content;
                            $(data).find("a").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    var text = $(this).attr('href');
                                    e.content = e.content.replace('<a href="'+text+'"', '<lotelink href="'+text+'"');
                                }
                            });
                            var data = e.content;
                            $(data).find("a").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    e.content = e.content.replace('<a lote_id="'+attr+'"', '<lotelink lote_id="'+attr+'"');
                                }
                            });
                        }
                    });
                    editor.on('paste', function (e) {
                        var paste;
                        if (e.clipboardData.types.indexOf('text/plain') >= 0) {
                            paste = e.clipboardData.getData('text/plain');
                        }

                        if (e.clipboardData.types.indexOf('text/html') >= 0) {
                            var tempPaste = e.clipboardData.getData('text/html');
                            if (tempPaste.includes('')) { // check if the content is a special type such as actual html, image or file
                                var regex = new RegExp("([^]*)|([^]*)", "g"); // tinymce copy includes full html and body tags, and the actual content is actually between the comments
                                paste = tempPaste.replace(regex, '');
                            }
                        }

                        if (paste !== undefined) {
                            paste = paste.replace(/<script[^]*<\\/script>/g, ''); // replaces everything in-between and including (<scrip -- <\\script>)
                            e.preventDefault();
                            insertIntoWysiwyg(paste);
                        }
                    });
                    editor.on('paste_preprocess', function (e) {
                        console.log('paste_preprocess', e.content);
                    });
                    editor.on('beforeSetContent', function (e) {

                        if (e.content.indexOf("<lotelink") >= 0) {

                            var data = e.content;
                            $(data).find("lotelink").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    var text = $(this).attr('href');
                                    e.content = e.content.replace('<lotelink href="'+text+'"', '<a href="'+text+'"');
                                }

                            });

                            var data = e.content;
                            $(data).find("lotelink").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    e.content = e.content.replace('<lotelink lote_id="'+attr+'"', '<a lote_id="'+attr+'"');
                                }

                            });

                            e.content = e.content.replace(/\\<lotelink type="img"/g, '<img');
                            e.content = e.content.replace(/\\<lotelink type="page"/g, '<a type="page"');
                            e.content = e.content.replace(/\\<lotelink type="file"/g, '<a type="file"');
                            e.content = e.content.replace(/\\<\\/lotelink>/g, '</a>');

                        }

                    });
                },
                spellchecker_language: "en_GB",
                spellchecker_rpc_url: 'spellchecker.php',
                is_campaign: (profile !== undefined && profile === "campaign"),
                sz_profile: profile
            };

            if(typeof(toolbar) != 'undefined') {
                settings.toolbar1 = toolbar1Custom;
            }

            //Add CSS includes if provided
            if(cssIncludes) {
                settings.content_css = cssIncludes;
            }

            //If newsletter editor...
            if(isNewsletter) {
                settings.width = "800px";
                settings.resize = true;
            }

            if(typeof relativeUrls == 'undefined' || relativeUrls == false) {
                settings.relative_urls = false;
                settings.convert_urls = false;
            }

            settings.sb_links_opts = {
                link_url: true,
                link_email: true,
                link_phone: true
            };

            settings.sb_images_opts = {
                link_upload: true,
                link_external: true
            };

            tinymce.init(settings);

        }
    }

    function setupContentEditor(id, isFullPage, toolbar1Custom, cssIncludes, isNewsletter, profile, relativeUrls, wildcards, overrideHeight) {
        var plugins = [
            "contextmenu", "advlist", "autolink", "lists", "print",  "searchreplace", "visualblocks", "visualchars",
            "code", "save", "directionality", "paste", "textcolor",
            "sb_filemanager", "sb_links", "sb_images", "sb_table", "spellchecker"
        ];
        var contextMenu = " sb_links sb_images inserttable elements web_link pdf_viewer";

        var wildcardSettings = {
            content_holder: false,
            update_forms: false
        };

        if (wildcards) {
            if (profile !== 'campaign') {
                plugins.push("sb_elements");
            }
            plugins.push("sb_wildcards");
            contextMenu = contextMenu + " sb_wildcards sb_wildcards_update_form ";

        }

        var toolbarOptions = "sb_images sb_gallery sb_video pdf_viewer sb_links | formatselect | fontsizeselect forecolor | bold italic underline strikethrough | removeformat | alignleft aligncenter alignright alignjustify | outdent indent | bullist numlist  |  undo redo | code";
        if (profile === "campaign"){
            toolbarOptions = "undo redo | fontsizeselect forecolor | bold italic | removeformat | alignleft aligncenter alignright alignjustify | outdent indent | bullist numlist | sb_links | code";
        }
        else if(profile === "manage_app_mobile") {
            toolbarOptions = "undo redo removeformat |  bold italic | alignleft aligncenter alignright | outdent indent | sb_links | sb_images | code ";
        }
        else {
            plugins.push("sb_gallery");
            plugins.push("sb_video");
            contextMenu = "sb_images sb_gallery sb_video pdf_viewer web_link inserttable elements sb_links";
            //contextMenu =  "sb_gallery sb_video "+contextMenu;

        }


        if(isFullPage || isNewsletter) {
            plugins.push("fullpage");
        }

        var validElements = "*[*]";
        var invalidElements = "";
        var validExtendedElements = '*[*]';
        var validChildren = "multiline[a],singleline[a]";

        var menubar = "edit insert view table tools sb_wildcards";
        if(profile === "manage_app_mobile"){
            menubar = false;
        }
        var height = "600px";
        if(profile == "quick_feed" || profile == "summary" ){
            height = "400px";
        }
        else if( profile === "manage_app_mobile"){
            height = "250px";
        }
        else if( profile === "new_content_holder"){
            height = "400px";
        }
        else if(profile === "company_note"){
            height = "330px";
        }


        if (overrideHeight) {
            height = overrideHeight + "px";
        }

        if($('#'+id).siblings('div.mce-tinymce').length == 0) {

            var settings = {
                branding: false,
                selector: '#' + id,
                width: "100%",
                height: height,
                statusbar: true,
                resize: "both",
                //theme_advanced_resizing: true,
                //theme_advanced_resizing_use_cookie : false,
                theme: "modern",
                allow_html_in_named_anchor: true,
                allow_unsafe_link_target: true,

                valid_elements: validElements,
                extended_valid_elements: validExtendedElements,
                invalid_elements: invalidElements,
//                extended_valid_elements: 'iframe[src|width|height|frameborder|scrolling|allowfullscreen]',
                valid_children : validChildren,
                plugins: plugins,
                // menu: {
                //     edit: { title: 'Edit', items: 'undo redo | cut copy paste pastetext | selectall' },
                //     insert: {title: 'Insert', items: 'sb_video sb_gallery sb_images'},
                //     view: {title: 'View', items: 'code | visualaid | spellcheck'},
                //     format: {title: 'Format', items: 'bold italic underline strikethrough superscript subscript | formats | removeformat'},
                //     table: {title: 'Table', items: 'inserttable tableprops deletetable | cell row column'},
                //     tools: {title: 'Tools', items: 'spellchecker code'},
                //     sb_wildcards: { title: 'Wildcards' }
                // },
                menubar: menubar,
                cleanup: false,
                verify_html: false,
                toolbar: toolbarOptions,
                fontsize_formats: "8px 9px 10px 11px 12px 14px 16px 18px 20px 24px 36px",

                image_advtab: true,
                image_list: [],
                contextmenu: contextMenu,
                setup: function (editor) {
                    editor.on("init", function () {
                        this.getDoc().body.style.fontSize = '14px';
                        this.getDoc().body.style.fontFamily = 'Verdana';
                    });
                    editor.on("keyup", function (editor, e) {
                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);
                    });
                    editor.on("click", function (editor, e) {
                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);
                    });
                    editor.on('getContent', function (e) {
                        e.content = e.content.replace(/<p>(<img[^<]*)<\\/p>/gi, function (a) {
                            return a.replace('<p>', '').replace('</p>', '');
                        });
                    });
                    editor.on('BeforePastePreProcess', function(e) {
                        // This will change any html text back to html tags and sanitise scripts and default comments
                        var regex = new RegExp("([^]*)|([^]*)", "g"); // tinymce copy includes full html and body tags, and the actual content is actually between the comments
                        e.content = e.content.replace(/(&lt;)/g, '<')
                                .replace(/(&gt;)/g, '>')
                                .replace(regex, '')
                                .replace(/<script[\\s\\S]*?<\\/script>/g, '');
                    });
                    editor.on('beforeSetContent', function (e) {
                        e.content = e.content.replace(/<p>(<img[^<]*)<\\/p>/gi, function (a) {
                            return a.replace('<p>', '').replace('</p>', '');
                        });
                    });





                },
                spellchecker_language: "en_GB",
                spellchecker_rpc_url: 'spellchecker.php',
                is_campaign: (profile !== undefined && profile === "campaign"),
                sz_profile: profile
            };

            if(typeof(toolbar) != 'undefined') {
                settings.toolbar1 = toolbar1Custom;
            }

            //Add CSS includes if provided
            if(cssIncludes) {
                if($.isArray(cssIncludes)){
                    cssIncludes.push("/theme/website/szschool/css/content.css");
                    cssIncludes.push("https://www.heath.derbyshire.sch.uk/_admin/cms/szschool/account-setting-colours.css");
                    cssIncludes.push("/theme/website/szschool/css/font-awesome.min.css");

                }
                settings.content_css = cssIncludes;

            }else{
                var cssIncludesDefault = ["/theme/website/szschool/css/content.css", "https://www.heath.derbyshire.sch.uk/_admin/cms/szschool/account-setting-colours.css", "/theme/website/szschool/css/font-awesome.min.css"];
                settings.content_css = cssIncludesDefault;
            }

            //If newsletter editor...
            if(isNewsletter) {
                settings.width = "100%";
                settings.resize = true;
                //settings.force_br_newlines = true;
                //settings.force_p_newlines = false;
                settings.forced_root_block = '';
            }

            if(typeof relativeUrls == 'undefined' || relativeUrls == false) {
                settings.relative_urls = false;
                settings.convert_urls = false;
            }

            if (wildcards) {
                settings.wildcards = wildcards;
                settings.wildcardAddons = wildcardSettings;
            }

            settings.is_user_admin = 0;

//            tinymce.execCommand('mceFocus', false, id);
            tinymce.execCommand('mceRemoveEditor', true, id);
            tinymce.init(settings);

        }
    }
</script>



<div id="lightboxOverlay" class="lightboxOverlay" style="display: none;"></div><div id="lightbox" class="lightbox" style="display: none;"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" alt="Lightbox Image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="><div class="lb-nav"><a class="lb-prev" name="Previous" href=""><span>Previous</span></a><a class="lb-next" name="Next" href=""><span>Next</span></a></div><div class="lb-loader"><a class="lb-cancel" name="Cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close" name="Close"></a></div></div></div></div><div style="background-color: rgb(255, 255, 255); border: 1px solid rgb(204, 204, 204); box-shadow: rgba(0, 0, 0, 0.2) 2px 2px 3px; position: absolute; transition: visibility linear 0.3s, opacity 0.3s linear; opacity: 0; visibility: hidden; z-index: 2000000000; left: 0px; top: -10000px;"><div style="width: 100%; height: 100%; position: fixed; top: 0px; left: 0px; z-index: 2000000000; background-color: rgb(255, 255, 255); opacity: 0.05;"></div><div class="g-recaptcha-bubble-arrow" style="border: 11px solid transparent; width: 0px; height: 0px; position: absolute; pointer-events: none; margin-top: -11px; z-index: 2000000000;"></div><div class="g-recaptcha-bubble-arrow" style="border: 10px solid transparent; width: 0px; height: 0px; position: absolute; pointer-events: none; margin-top: -10px; z-index: 2000000000;"></div><div style="z-index: 2000000000; position: relative;"><iframe title="recaptcha challenge expires in two minutes" name="c-c0f2reqzvtrp" frameborder="0" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox allow-storage-access-by-user-activation" src="https://www.google.com/recaptcha/api2/bframe?hl=en&amp;v=jdMmXeCQEkPbnFDy9T04NbgJ&amp;k=6LeZNsoZAAAAAC_atze0mLyfoGUm4ICz_xBWIl7d&amp;bft=0dAFcWeA7FXQ6WCTaFda6u5-0giVJ_KVkbAnq3eIotHyR5qUJXakzxl7-X7hytbTBJZKpbEUk7tteWNC26JO2d2AZD818cbG16FQ" style="width: 100%; height: 100%;"></iframe></div></div>` }} />
      <Script src="/assets/js/tinymce.min.js" strategy="afterInteractive" key="/assets/js/tinymce.min.js" />
      <Script src="/assets/js/tinymcefunctions.js" strategy="afterInteractive" key="/assets/js/tinymcefunctions.js" />
      <Script src="https://www.google.com/recaptcha/api.js" strategy="afterInteractive" key="https://www.google.com/recaptcha/api.js" />
      
      <Script src="/assets/js/plugins.js" strategy="afterInteractive" key="/assets/js/plugins.js" />
      <Script src="/assets/js/bs-switches.js" strategy="afterInteractive" key="/assets/js/bs-switches.js" />
      {/* External canvas/functions.js removed - using local /assets/js/functions.js instead via ScriptsLoader */}
      <Script src="/website/custom.js?skin_id=" strategy="afterInteractive" key="/website/custom.js?skin_id=" />
      <Script src="/assets/js/tinymce.min.js" strategy="afterInteractive" key="/assets/js/tinymce.min.js" />
      <Script id="inline-0" strategy="afterInteractive" dangerouslySetInnerHTML={{ __html: `
    if(window.location.pathname=='' || window.location.pathname=='/') {
        window.location = '/latest';
    }
` }} />
      <Script id="inline-1" strategy="afterInteractive" dangerouslySetInnerHTML={{ __html: `
    function LoteCfForm() {

    }

    LoteCfForm.prototype.getCfValues = function (formData, cfArrayName) {
        const promises = $(".custom_field_edit").map(function (i, e) {
            if (LoteCfForm.prototype.isInVisibleGroup(e)) {
                var f = $(e).data('function');
                if (f && typeof LoteCfForm.prototype[f] == 'function') {
                    return LoteCfForm.prototype[f](formData, e, cfArrayName);
                }
            }
        });

        return Promise.all(promises);
    };

    LoteCfForm.prototype.isInVisibleGroup = function (e) {
        return ! $(".custom_group_edit[data-value='" + $(e).data('group') + "']").hasClass("group_disabled");;
    };

    LoteCfForm.prototype.getTextValue = function (formData, e, cfArrayName) {
        formData[cfArrayName][$(e).attr("data-id")] = $(e).val();
    };

    LoteCfForm.prototype.getWysiwygValue = function (formData, e, cfArrayName) {
        formData[cfArrayName][$(e).attr("data-id")] = getWysiwygValue($(e).attr("id"));
    };

    LoteCfForm.prototype.getDateTimeValue = function (formData, e, cfArrayName) {
        var id = $(e).attr('id');
        var element = $('#' + id + '_time');
        var time = timepickiConvert(element);

        var value = null;
        var date = $('#' + id + '_date_alt').val();
        if (date && time) {
            value = date + ' ' + time;
        }
        else if (date) {
            value = date;
        }
        else if (time) {
            value = time;
        }
        formData[cfArrayName][$(e).attr("data-id")] = value;
    };

    LoteCfForm.prototype.getDateValue = function (formData, e, cfArrayName) {
        var id = $(e).attr('id');
        formData[cfArrayName][$(e).attr("data-id")] = $('#' + id + '_date_alt').val();
    };

    LoteCfForm.prototype.getTimeValue = function (formData, e, cfArrayName) {
        var id = $(e).attr('id');
        var element = $('#' + id + '_time');
        var time = timepickiConvert(element);

        formData[cfArrayName][$(e).attr("data-id")] = time;
    };

    LoteCfForm.prototype.getCheckboxValues = function (formData, e, cfArrayName) {
        var id = $(e).data('id');
        var counter = 0;
        var values = [];
        $(e.form).find('input[name="checkbox_' + id + '"]').each(function (i, el) {
            if ($(el).is(":checked")) {
                values[counter] = $(el).val();
                counter++;
            }
        });
        if (values.length === 0) {
            values = "";
        }
        formData[cfArrayName][$(e).attr("data-id")] = values;
    };

    LoteCfForm.prototype.getRadioValue = function (formData, e, cfArrayName) {
        var id = $(e).attr('id');
        var baseObj = [];
        $.each($(e).find('input[type="radio"]'), function (index, item) {
            var obj = {};
            if ($(item).is(':checked')) {
                obj['id'] = $(item).val();

                var itemValid = true;
                if ($(item).val() == 0 && $('#cf_field_edit_radio_' + $(e).data('id') + '_custom').is(':visible')) {
                    var customInput = $('#cf_field_edit_radio_' + $(e).data('id') + '_custom').val();
                    obj['value'] = customInput;
                    itemValid = customInput !== '';
                } else {
                    obj['value'] = $(item).data('value');
                }

                if (itemValid) {
                    baseObj.push(obj);
                }
            }
        });
        formData[cfArrayName][$(e).attr("data-id")] = '';
        if (baseObj.length > 0) {
            formData[cfArrayName][$(e).attr("data-id")] = JSON.stringify(baseObj);
        }
    };

    LoteCfForm.prototype.getMatrixValues = function (formData, e, cfArrayName) {
        if (typeof(formData[cfArrayName][$(e).attr("data-default")]) == 'undefined') {
            formData[cfArrayName][$(e).attr("data-default")] = {};
        }
        formData[cfArrayName][$(e).attr("data-default")][$(e).attr("data-id")] = $(e).val();
    };

    LoteCfForm.prototype.getRecaptchaValue = function (formData, e, cfArrayName) {
        formData[cfArrayName][$(e).attr("data-id")] = grecaptcha.getResponse();
    };

    LoteCfForm.prototype.getFileValues = function (formData, e, cfArrayName) {
        return new Promise((resolve, reject) => {
            var file = e.files[0];
            if (!file) {
                return resolve();
            }
            var r = new FileReader();

            r.onload = function(read) {
                var contents = read.target.result;
                var attr = $(e).attr("data-id")
                formData[cfArrayName][attr] = contents;
                resolve();
            }

            r.readAsDataURL(file)
        })
    };

    LoteCfForm.prototype.getCheckedValues = function (formData, e, cfArrayName) {
        var name = $(e).data('name');
        var counter = 0;
        var values = [];
        $(e).find('input[name="' + name + '"]').each(function (i, el) {
            if ($(el).is(":checked")) {
                values[counter] = $(this).val();
                counter++;
            }
        });
        formData[cfArrayName][$(e).attr("data-id")] = values;
    };

    LoteCfForm.prototype.getOptionValue = function (formData, e, cfArrayName) {
        var id = $(e).attr('id');
        var obj = {
            id: $(e).val()
        };

        if ($(e).val() == 0 && $('#' + id + '_custom').is(':visible')) {
            obj['value'] = $('#' + id + '_custom').val();
        } else if ($(e).val() !== '') {
            obj['value'] = $(e).find(':selected').data('value');
        }

        formData[cfArrayName][$(e).attr("data-id")] = '';
        if (obj.value !== undefined) {
            formData[cfArrayName][$(e).attr("data-id")] = JSON.stringify([obj]);
        }
    };

    LoteCfForm.prototype.getOptionMultiValue = function (formData, e, cfArrayName) {
        var id = $(e).attr('id');
        var baseObj = [];
        if ($(e).val() !== null) {
            $.each($(e).val(), function (index, itemId) {
                var obj = {
                    id: itemId,
                    value: ''
                };

                var itemValid = true;
                if (itemId == 0 && $('#' + id + "_custom").is(':visible')) {
                    var customInput = $('#' + id + "_custom").val();
                    obj['value'] = customInput;
                    itemValid = customInput !== '';
                } else {
                    obj['value'] = $('#' + id + '_option_' + itemId).data('value');
                }

                if (itemValid) {
                    baseObj.push(obj);
                }
            });
        }

        formData[cfArrayName][$(e).attr("data-id")] = '';
        if (baseObj.length > 0) {
            formData[cfArrayName][$(e).attr("data-id")] = JSON.stringify(baseObj);
        }
    };

    var customBaseObjectRemove = [];

    LoteCfForm.prototype.getMultiCheckboxValue = function (formData, e, cfArrayName) {
        var baseObj = [];
        $.each($(e).find('input[type="checkbox"]'), function (index, item) {
            var obj = {};
            if ($(item).is(':checked')) {
                obj['id'] = $(item).val();

                var itemValid = true;
                var cfField = $('#cf_field_edit_' + $(e).data('id') + '_custom');
                if ($(item).val() === 0 && cfField.is(':visible')) {
                    var customInput = cfField.val();
                    obj['value'] = customInput;
                    itemValid = customInput !== '';
                } else {
                    obj['value'] = $(item).data('value');
                }

                if (itemValid) {
                    baseObj.push(obj);
                }
            } else {
                obj['id'] = $(item).data('id');
                customBaseObjectRemove.push(obj);
            }

        });
        if (baseObj.length > 0) {
            formData[cfArrayName][$(e).attr("data-id")] = JSON.stringify(baseObj);
        }
        if (baseObj.length === 0 && customBaseObjectRemove.length > 0) {
            console.log("Remove object", e);
            formData['_custom_remove'] = JSON.stringify(customBaseObjectRemove);
        }
    };

    function loteCfEditBeforeSerialise(parentForm)
    {
        var f = new LoteCfForm();
        f.beforeCfSerialise(parentForm);
    }

    function loteCfEditBeforeSubmit(parentForm)
    {
        var f = new LoteCfForm();
        return f.beforeCfSubmit(parentForm);
    }

    async function getLoteCfEditValues(formData, cfArrayName, parentForm) {
        formData[cfArrayName] = {};
        var f = new LoteCfForm();
        if (parentForm) {
            await f.getFormCfValues(formData, cfArrayName, parentForm);
        }
        else {
            await f.getCfValues(formData, cfArrayName);
        }
        return formData;
    }


    LoteCfForm.prototype.getFormCfValues = function (formData, cfArrayName, parentForm) {
        $(parentForm).find(".custom_field_edit").each(function (i, e) {
            var f = $(e).data('function');
            if (f && typeof LoteCfForm.prototype[f] == 'function') {
                LoteCfForm.prototype[f](formData, e, cfArrayName);
            }
        });
    };


    LoteCfForm.prototype.beforeCfSerialise = function (parentForm) {
        $(parentForm).find(".custom_field_edit").each(function (i, e) {
            var f = $(e).data('serialise-function');
            if (f && typeof LoteCfForm.prototype[f] == 'function') {
                LoteCfForm.prototype[f](parentForm, e);
            }
        });
    };

    LoteCfForm.prototype.beforeCfSubmit = function (parentForm) {
        var fields = [];
        var emptyFields = [];
        $(parentForm).find('input[type="radio"].custom_field_edit.required').each(function (i, e) {
            if($(e).is(':checked')) {
                fields[$(e).attr('name')] = 'required';
            }
        });
        $(parentForm).find('input[type="radio"].custom_field_edit.required').each(function (i, e) {
            if($(e).is(':checked')) {

            } else {
                if($(e).attr('name') != undefined && fields[$(e).attr('name')] == undefined) emptyFields[$(e).attr('name')] = 'required';
            }
        });
        setCfErrors(emptyFields, parentForm);
        if(emptyFields.length > 0) {
            $('.form_buttons').show();
            $('.form_processing').hide();
            return false;
        }
    };

    LoteCfForm.prototype.beforeCfSerialisePublicGroup = function (formData, e, cfArrayName) {
        var name = $(e).data('name');
        var publicGroups = {};
        $(e).parent().find('input[data-key="' + name + '"]').each(function (i, el) {
            if($(el).is(":checked")){
                publicGroups[$(el).attr("data-value")] = "1";
            }
            else {
                publicGroups[$(el).attr("data-value")] = "0";
            }
        });
        $(e).val(JSON.stringify(publicGroups));
    };

    LoteCfForm.prototype.beforeCfSerialiseMediaFile = function (formData, e, cfArrayName) {
        var container = jQuery(e).closest('.media_field_container');
        var numInProgress = jQuery('li.qq-in-progress', container).length;
        if(numInProgress > 0) {
            jQuery(e).val("in-progress");
        } else {
            jQuery(e).val(jQuery(e).attr('data-media-files'));
        }
    };

    LoteCfForm.prototype.beforeCfSerialiseMatrix = function (formData, e, cfArrayName) {
        var values = {};
        var id = $(e).data('id');
        var matrixType = $(e).data('matrix-type');
        if(matrixType=="radio" || matrixType=="checkbox") {
            $(e.form).find('input[data-id="matrix_'+matrixType+'_' + id + '"]').each(function (i, el) {
                if ($(el).is(":checked")) {
                    if(typeof(values[$(el).data("matrix-row")]) == 'undefined') {
                        values[$(el).data("matrix-row")] = {};
                    }
                    values[$(el).data("matrix-row")][$(el).data("matrix-column")] = 1;
                }
            });
        }
        else {
            $(e.form).find('input[data-id="matrix_text_' + id + '"]').each(function (i, el) {
                if($(el).val()) {
                    if(typeof(values[$(el).data("matrix-row")]) == 'undefined') {
                        values[$(el).data("matrix-row")] = {};
                    }
                    values[$(el).data("matrix-row")][$(el).data("matrix-column")] = $(el).val();
                }
            });
        }
        $(e).val(JSON.stringify(values));
    };

    LoteCfForm.prototype.beforeCfSerialiseRecaptcha = function (parentForm, e) {
        var dataElement = $('#' + $(e).data('id'));
        $(dataElement).val(grecaptcha.getResponse());
    };

    LoteCfForm.prototype.beforeCfSerialiseDate = function (parentForm, e) {
        var id = $(e).attr('id');
        $(e).val($('#' + id + '_date_alt').val());
    };

    LoteCfForm.prototype.beforeCfSerialiseTime = function (parentForm, e) {
        var id = $(e).attr('id');
        var element = $('#' + id + '_time');
        var time = timepickiConvert(element);
        $(e).val(time);
    };

    LoteCfForm.prototype.beforeCfSerialiseDateTime = function (formData, e, cfArrayName) {
        var id = $(e).attr('id');
        var element = $('#' + id + '_time');
        var time = timepickiConvert(element);

        var value = null;
        var date = $('#' + id + '_date_alt').val();
        if (date && time) {
            value = date + ' ' + time;
        }
        else if (date) {
            value = date;
        }
        else if (time) {
            value = time;
        }
        $(e).val(value);
    };
    LoteCfForm.prototype.beforeCfSerialiseSignature = function (formData, e, cfArrayName) {

    };

    LoteCfForm.prototype.beforeCfSerialiseMultiSelect = function (parentForm, e) {
        var id = $(e).attr('id');
        var baseObj = [];
        if ($(e).val() !== null) {
            $.each($(e).val(), function (index, itemId) {
                var obj = {
                    id: itemId,
                    value: ''
                };

                var itemValid = true;
                if (itemId == 0 && $('#' + id + "_custom").is(':visible')) {
                    var customInput = $('#' + id + "_custom").val();
                    obj['value'] = customInput;
                    itemValid = customInput !== '';
                } else {
                    obj['value'] = $('#' + id + '_option_' + itemId).data('value');
                }

                if (itemValid) {
                    baseObj.push(obj);
                }
            });
        }

        var dataField = $(parentForm).find("input[name='"+$(e).data('id')+"']");
        if (baseObj.length > 0) {
            dataField.val(JSON.stringify(baseObj));
        }
    };


    LoteCfForm.prototype.beforeCfSerialiseCheckBox = function (parentForm, e) {
        var id = $(e).attr('id');
        var dataField = $(parentForm).find("input[name='" + $(e).data('id') + "']");
        var baseObj = [];
        $.each($(e).find('input[type="checkbox"]'), function (index, item) {
            var obj = {};
            if ($(item).is(':checked')) {
                obj['id'] = $(item).val();

                var itemValid = true;
                if ($(item).val() == 0 && $('#cf_field_edit_' + $(e).data('id') + '_custom').is(':visible')) {
                    var customInput = $('#cf_field_edit_' + $(e).data('id') + '_custom').val();
                    obj['value'] = customInput;
                    itemValid = customInput !== '';
                } else {
                    obj['value'] = $(item).data('value');
                }

                if (itemValid) {
                    baseObj.push(obj);
                }
            }
        });
        if (baseObj.length > 0) {
            dataField.val(JSON.stringify(baseObj));
        }
    };


    LoteCfForm.prototype.beforeCfSerialiseRadioButton = function (parentForm, e) {
        var id = $(e).attr('id');
        var dataField = $(parentForm).find("input[name='" + $(e).data('id') + "']");
        var baseObj = [];
        $.each($(e).find('input[type="radio"]'), function (index, item) {
            var obj = {};
            if ($(item).is(':checked')) {
                obj['id'] = $(item).val();

                var itemValid = true;
                if ($(item).val() == 0 && $('#cf_field_edit_radio_' + $(e).data('id') + '_custom').is(':visible')) {
                    var customInput = $('#cf_field_edit_radio_' + $(e).data('id') + '_custom').val();
                    obj['value'] = customInput;
                    itemValid = customInput !== '';
                } else {
                    obj['value'] = $(item).data('value');
                }

                if (itemValid) {
                    baseObj.push(obj);
                }
            }
        });
        if (baseObj.length > 0) {
            dataField.val(JSON.stringify(baseObj));
        } else {
            dataField.val("");
        }
    };


    LoteCfForm.prototype.beforeCfSerialiseSingleSelect = function (parentForm, e) {
        var id = $(e).attr('id');
        var dataField = $(parentForm).find("input[name='"+$(e).data('id')+"']");
        var obj = {
            id: $(e).val()
        };

        var itemValid = true;
        if ($(e).val() == '0' && $('#' + id + '_custom').is(':visible')) {
            var customInput = $('#' + id + '_custom').val();
            obj['value'] = customInput;
            itemValid = customInput !== '';
        } else if ($(e).val() !== '') {
            obj['value'] = $(e).find(':selected').data('value');
        } else {
            itemValid = false;
        }

        var baseObj = [obj];

        if (itemValid) {
            dataField.val(JSON.stringify(baseObj));
        }
    };





    function setCfErrors(errors, form) {
        for (var f in errors) {
            if (form) {
                var htmlError = document.createElement('div');
                htmlError.textContent = 'There are errors within your form. Please check that all your mandatory fields are completed.';
                htmlError.setAttribute('class','errorDiv');

                $(form).find('#cf_field_edit_error_' + f).html(errors[f]).closest('.fwrp').addClass('fer');
                if ($('div.errorDiv').length) {

                } else {
                    $(form).find('.form_buttons').prepend(htmlError);
                }
            }
            else {
                $('#cf_field_edit_error_' + f).html(errors[f]).closest('.fwrp').addClass('fer');
            }
        }

    }

    function setFormProcessing(form, isProcessing, isBack) {
        if (isProcessing) {
            if(isBack){
                $(form).addClass("is-processing-back");
            }
            else{
                $(form).find('input[type="submit"], button[type="submit"]').prop('disabled', true).addClass("loading");
                $(form).addClass("is-processing");
            }
        }
        else {
            if(isBack){
                $(form).removeClass("is-processing-back");
            }
            else{
                $(form).find('input[type="submit"], button[type="submit"]').prop('disabled', false).removeClass("loading");
                $(form).removeClass("is-processing");
            }
        }
    }

    $(function() {
        $('.only_one_radio').off().on('click', function() {
            $('.only_one_radio').prop('checked', false);
            $(this).prop('checked', true);
        });
    });


` }} />
      <Script id="inline-2" strategy="afterInteractive" dangerouslySetInnerHTML={{ __html: `

    function setupFormButtons(formId, recordId, nextPage, prevPage, formInstance)
    {
        setupPrevButton(formId, recordId, prevPage, formInstance);
        setupFormSubmit(formId, recordId, nextPage, formInstance);
        $('#lote_form_'+formId+' .lote_form_main button[type=submit], .lote_form_main input[type=button]').off().on('click', function(e) {
            e.preventDefault();
            var thisForm = $("#lote_form_"+formId);
            /*
            $('#lote_form_'+formId+' .form_buttons .btn').addClass('greyed_out');
            $('#lote_form_'+formId+' .form_buttons .btn').prop('disabled', true);
            $(this).addClass('loading');
            */
            if(typeof(formInstance) != 'undefined' && formInstance != '') {
                thisForm = $("[id='lote_form_"+formId+"'][data-form-instance='"+formInstance+"']");
            }
            if($(this).hasClass("form_prev_button_"+formId)) {
                goToFormPage(formId, recordId, prevPage, true);
            } else {
                thisForm.submit();
            }
        });
    }

    function setupPrevButton(formId, recordId, prevPage, formInstance)
    {
        setupProgressClick(formId, recordId);
    }

    function setupFormSubmit(formId, recordId, nextPage, formInstance)
    {
        var thisForm = $("#lote_form_"+formId);
        if(typeof(formInstance) != 'undefined' && formInstance != '') {
            thisForm = $("[id='lote_form_"+formId+"'][data-form-instance='"+formInstance+"']");
        }
        var options = {
            url: 'https://www.heath.derbyshire.sch.uk/form/submit.json',
            dataType : "json",
            type: "POST",
            data : { submit_url : window.location.href, group_id : $(thisForm).find(".group_id").val(), '_lote_form_module' : '1' },
            success:    function(json) {
                clearFormErrors();
                if (json.success) {
                    if(json.completed) {
                        completeForm(thisForm, formId, json.record_id, formInstance, json);
                    }
                    else {
                        goToFormPage(formId, json.record_id, json.next_page, false);
                    }
                }
                else if(json.error) {
                    setFormProcessing(thisForm, false);
                    alert(json.error);
                }
                else {
                    $('#lote_form_'+formId+' .form_buttons .btn').removeClass('greyed_out');
                    $('#lote_form_'+formId+' .form_buttons .btn').removeClass('loading');
                    $('#lote_form_'+formId+' .form_buttons .btn').prop('disabled', false);
                    setCfErrors(json.errors, thisForm);
                    setAdditionalFormErrors(json.additional_form_errors);
                    setFormProcessing(thisForm, false);
                }
                var fName = "onLoteFormSubmitCallback"+formId;
                if (typeof window[fName] === "function") {
                    window[fName](formId, thisForm, json);
                }
            },
            error: function (request, status, error) {
                if (request.status) {
                    alert('Error: ' + request.status + '\n' + request.statusText);
                }
                setFormProcessing(thisForm, false);
            },
            beforeSerialize: function($form, options) {
                loteCfEditBeforeSerialise(thisForm);
            },
            beforeSubmit: function(formData, jqForm, options) {
                var fName = "getAdditionalFormData"+formInstance;
                if (typeof window[fName] === "function") {
                    window[fName](formData);
                }
                setFormProcessing(thisForm, true);
                return loteCfEditBeforeSubmit(thisForm);
            }

        };
        $(thisForm).ajaxForm(options);
    }

    function setAdditionalFormErrors(additionalFormErrors)
    {
        for(formErrors in additionalFormErrors) {
            for (var f in additionalFormErrors[formErrors]) {
                $('#' + f + '_error').html(additionalFormErrors[formErrors][f][0]).parent().addClass('fer');
            }
        }

    }


    function setupProgressClick(formId, recordId) {

        $('#save_progress').off('click').on('click', function() {
            var form = $("#lote_form_"+formId);
            var formData = {} ;
            getLoteCfEditValues(formData,'_fields', $(this).parents());

            formData['id'] = formId;
            formData['submit_url'] = window.location.href;
            formData['group_id'] = $(form).find(".group_id").val();
            formData['record_id'] = $(form).find("#record_id").val();
            formData['current_page'] = $(form).find("#group_id").val();

            $.ajax({
                url: 'https://www.heath.derbyshire.sch.uk/form/saveprogress.json',
                method: 'POST',
                data: formData,
                success: function (json) {
                    clearFormErrors();
                    if (json.success) {
                        $('#record_id').val(json.record_id);
                        alert('Progress Saved');
                    } else if(json.error) {
                        alert(json.error);
                    }
                },
                error: function (request, status, error) {
                    if (request.status) {
                        alert('Error: ' + request.status + '\n' + request.statusText);
                    }
                }
            });

            return false;
        });
    }


    function clearFormErrors() {
        $('.fermsg').html('');
        $('.fwrp').removeClass("fer");
        $('.errorDiv').remove();
    }

    function completeForm(form, formId, recordId, formInstance, rawJsonResponse) {
        
        var customCallbackName = 'onLoteFormCompletedCallback'+formId;

        if (typeof(callback) != 'undefined' && typeof window[callback] === "function") {
            window[callback](formId, recordId);
        }
        else if (typeof window[customCallbackName] === "function") {
            window[customCallbackName](formId, recordId);
        } else if (rawJsonResponse.redirect_url !== undefined) {
            window.location = rawJsonResponse.redirect_url;
        } else {
                        var form = $("#lote_form_"+formId);
            if(typeof(formInstance) != 'undefined' && formInstance != '') {
                var form = $("[id='lote_form_"+formId+"'][data-form-instance='"+formInstance+"']");
            }
            var formData = {} ;
            getLoteCfEditValues(formData,'_fields', form);
            formData['id'] = formId;
            formData['submit_url'] = window.location.href;
            formData['group_id'] = $(form).find(".group_id").val();
            formData['record_id'] = recordId;
            formData['current_page'] = $(form).find("#group_id").val();

            $.ajax({
                url: 'https://www.heath.derbyshire.sch.uk/form/confirmation/2.shtml',
                method: 'POST',
                data : formData,
                success: function (html) {
                    $('.lote_form_completed', form).html(html);
                },
                error: function (request, status, error) {
                    if (request.status) {
                        alert('Error: ' + request.status + '\n' + request.statusText);
                    }
                }
            });
                        $(form).find(".lote_form_main").hide();
            $(form).parent().find(".lote_form_completed").show();
            $('html, body').animate({
                scrollTop:  $(form).parent().offset().top - 200
            }, 500);
            var thisForm = $("#lote_form_"+formId);
            setFormProcessing(thisForm, false);

        }
    }

    function goToFormPage(formId, recordId, page, isBack) {
        var thisForm = $("#lote_form_"+formId);
        if(isBack){
            setFormProcessing(thisForm, true, true);
        }
        $.get( "https://www.heath.derbyshire.sch.uk/form/page/" + formId + "/" + page + "/" + recordId + ".shtml", function( data ) {
            var loteForm = $("#lote_form_" + formId);
            loteForm.find('.lote_form_main').html(data);
            if(isBack){
                setFormProcessing(thisForm, false, true);
            }
            else{
                setFormProcessing(thisForm, false);
            }

            $('html, body').animate({
                scrollTop: Math.max(loteForm.offset().top - 150, 0)
            }, 350);


        });
    }


` }} />
      <Script id="inline-3" strategy="afterInteractive" dangerouslySetInnerHTML={{ __html: `
    $(function(){
        setupFormButtons('2', '', '', '', '');

		    });
` }} />
      <Script id="inline-4" strategy="afterInteractive" dangerouslySetInnerHTML={{ __html: `

                    jQuery('.sz-gallery').each(function() {
                        var array = jQuery(this).attr('data-parameters').split(',');
                        var parameters = {};

                        jQuery.each(array, function(key, value) {
                            var split = value.split(':');

                            if (!isNaN(Number(split[1]))) {
                                split[1] = Number(split[1]);
                            } else if (split[1] === "true" || split[1] === "false") {
                                split[1] = (split[1] === "true");
                            } else {
                                split[1] = String(split[1]);
                            }
                            parameters[split[0]] = split[1];
                        });

                        jQuery(this).unitegallery(parameters);
                        jQuery(this).show();
                    });
                    $('.read-more-item').each(function(){
                        var firstPara = $(this).find('p:first').html();
                        $(this).parent().prepend('<p class="articleSummary">' + firstPara.substring(0,500) + '...</p>');
                    });
                }
			})


	}

	$(function(){

        $('.tags_checked').off('change').on("change", function () {
           executeSearch();
           console.log('Tags Checked');
        });


		$("#search_phrase").keypress(function (e) {
			if(e.which == 13) { // the enter key code
				executeSearch();
                console.log('Search Phase');
			}
		});

        $("#search_clear").click(function(){
            $("#search_phrase").val("");
            executeSearch();
            console.log('Search Clear');
        });

        $('.clearTags').on('click', function(){
            $('.tagwrp input:radio').prop("checked", false);
            executeSearch();
            console.log('Uncheck');
        });
        $('.clearSideTags').on('click', function(){
            $('aside.sidebar input:radio').prop("checked", false);
            $('#clearButton').addClass('grey');
            executeSearch();
        });
         $('aside.sidebar label.radio-style-1-label').on('click', function(){
            $('#clearButton').removeClass('grey');
         });

         $(document).on('click', '.event-tag, .article-tag', function () {
             $('input.tags_checked[id="radio-' + $(this).attr('id') + '"]').prop('checked', true);
             executeSearch();
         });
	});

` }} />
      <Script id="inline-6" strategy="afterInteractive" dangerouslySetInnerHTML={{ __html: `
    var actualCaretPositionBookmark;
` }} />
      <Script id="inline-7" strategy="afterInteractive" dangerouslySetInnerHTML={{ __html: `
	function setWysiwygValue(id, value) {
		tinymce.get(id).setContent(value);
	}
    function getWysiwygValue(id) {
        return tinyMCE.get(id).getContent();
    }
	function getWysiwygValuePlainText(id) {
		return tinyMCE.get(id).getContent({ format: 'text' });
	}
	function insertIntoWysiwyg(value, id) {
        if(actualCaretPositionBookmark != undefined) tinyMCE.activeEditor.selection.moveToBookmark(actualCaretPositionBookmark);
//        console.log(tinyMCE.activeEditor);
//        //tinyMCE.setActive(id);
//        tinyMCE.activeEditor.id = id;
//        console.log(tinyMCE.activeEditor.id);
//        tinyMCE.execCommand('mceFocus',false,'#'+id);
        tinyMCE.activeEditor.execCommand('mceInsertContent', false, ' ' + value + ' ');
	}
	function setUpTextEditor(id, isFullPage, toolbar1Custom, cssIncludes, isNewsletter, profile, relativeUrls) {

		var plugins = [
			"linkfrontend spellchecker link image external responsivefilemanager jbimages custom email phone sb_url"
		];

		var menubar = false;
		var height = "400px";
		if($('#'+id).data('tinymce-height') != undefined) {
			height = $('#'+id).data('tinymce-height');
		}
		toolbarOptions = "   link | styleselect |  bold italic underline bullist numlist | spellchecker | removeformat  ";
		if($('#'+id).siblings('div.mce-tinymce').length == 0) {

			var settings = {
                branding: false,
				selector: '#' + id,
				width: "auto",
				height: height,
				statusbar: true,
				resize: "both",
				theme: "modern",
				valid_elements: "*[*]",
				extended_valid_elements: "*[*]",
                valid_children : "multiline[a],singleline[a]",
				plugins: plugins,
				menubar: menubar,
				cleanup: false,
				verify_html: false,
                toolbar: toolbarOptions,
				image_advtab: true,
				contextmenu: "link image inserttable | cell row column deletetable",
				external_filemanager_path: "https://www.heath.derbyshire.sch.uk/theme/_admin/bluetree/js/tinymce/js/filemanager/",
				filemanager_title: "File Manager",
				external_plugins: {"filemanager": "https://www.heath.derbyshire.sch.uk/theme/_admin/bluetree/js/tinymce/js/filemanager/plugin.js"},
				image_list: [],
                paste_preprocess: function (plugin, args) {

					args.content += '';
				},
				setup: function (editor) {
                    editor.on("keyup", function (editor, e) {
                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);
                    });
                    editor.on("click", function (editor, e) {
                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);
                    });
					editor.on('getContent', function (e) {

                        if (e.content.indexOf("<a") >= 0) {
                            var data = e.content;
                            var hrefArr = [];
                            $(data).find("a").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    var text = $(this).text();
                                    e.content = e.content.replace(text+"</a>", text+'</lotelink>');
                                }
                            });
                            e.content = e.content.replace(/\<a type="page"/g, '<lotelink type="page"');
                            e.content = e.content.replace(/\<a type="file"/g, '<lotelink type="file"');
                            var data = e.content;
                            $(data).find("a").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    var text = $(this).attr('href');
                                    e.content = e.content.replace('<a href="'+text+'"', '<lotelink href="'+text+'"');
                                }
                            });
                            var data = e.content;
                            $(data).find("a").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    e.content = e.content.replace('<a lote_id="'+attr+'"', '<lotelink lote_id="'+attr+'"');
                                }
                            });
                        }
					});
                    editor.on('paste', function (e) {
                        var paste;
                        if (e.clipboardData.types.indexOf('text/plain') >= 0) {
                            paste = e.clipboardData.getData('text/plain');
                        }

                        if (e.clipboardData.types.indexOf('text/html') >= 0) {
                            var tempPaste = e.clipboardData.getData('text/html');
                            if (tempPaste.includes('')) { // check if the content is a special type such as actual html, image or file
                                var regex = new RegExp("([^]*)|([^]*)", "g"); // tinymce copy includes full html and body tags, and the actual content is actually between the comments
                                paste = tempPaste.replace(regex, '');
                            }
                        }

                        if (paste !== undefined) {
                            paste = paste.replace(/<script[^]*<\/script>/g, ''); // replaces everything in-between and including (<scrip -- <\script>)
                            e.preventDefault();
                            insertIntoWysiwyg(paste);
                        }
                    });
					editor.on('paste_preprocess', function (e) {
						console.log('paste_preprocess', e.content);
					});
					editor.on('beforeSetContent', function (e) {
                        e.content = e.content.replace(/<p>(<a[^<]*(<img[^<]*)<\/a>)<\/p>/gi, function (a) {
                            return a.replace('<p>', '').replace('</p>', '');
                        });
						if (e.content.indexOf("<lotelink") >= 0) {

                            var data = e.content;
                            $(data).find("lotelink").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    var text = $(this).attr('href');
                                    e.content = e.content.replace('<lotelink href="'+text+'"', '<a href="'+text+'"');
                                }

                            });

                            var data = e.content;
                            $(data).find("lotelink").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    e.content = e.content.replace('<lotelink lote_id="'+attr+'"', '<a lote_id="'+attr+'"');
                                }

                            });

							e.content = e.content.replace(/\<lotelink type="img"/g, '<img');
							e.content = e.content.replace(/\<lotelink type="page"/g, '<a type="page"');
							e.content = e.content.replace(/\<lotelink type="file"/g, '<a type="file"');
                            e.content = e.content.replace(/\<\/lotelink>/g, '</a>');

						}

					});
				},
                spellchecker_language: "en_GB",
                spellchecker_rpc_url: 'spellchecker.php',
                link_formats: ["Link To URL", "Link To Email", "Link To Phone"],
                is_campaign: (profile !== undefined && profile === "campaign"),
                sz_profile: profile
			};

            if(typeof(toolbar) != 'undefined') {
                settings.toolbar1 = toolbar1Custom;
            }

            //Add CSS includes if provided
            if(cssIncludes) {
                settings.content_css = cssIncludes;
            }

            //If newsletter editor...
            if(isNewsletter) {
                settings.width = "800px";
                settings.resize = true;
            }

            if(typeof relativeUrls == 'undefined' || relativeUrls == false) {
                settings.relative_urls = false;
                settings.convert_urls = false;
            }

			tinymce.init(settings);
		}
	}

    function setUpTextEditorFrontEnd(id, isFullPage, toolbar1Custom, cssIncludes, isNewsletter, profile, relativeUrls) {

        var plugins = [
            "sb_links paste spellchecker textcolor sb_images sb_filemanager sb_table lists"
        ];

        var menubar = false;
        var height = "400px";
        if($('#'+id).data('tinymce-height') != undefined) {
            height = $('#'+id).data('tinymce-height');
        }
        toolbarOptions = "sb_links | sb_images | table |styleselect |  fontsizeselect forecolor | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | removeformat  ";
        if($('#'+id).siblings('div.mce-tinymce').length == 0) {

            var settings = {
                branding: false,
                selector: '#' + id,
                width: "auto",
                height: height,
                statusbar: true,
                paste_auto_cleanup_on_paste : true,
                paste_remove_styles: true,
                paste_remove_styles_if_webkit: true,
                paste_strip_class_attributes: true,
                resize: "both",
                theme: "modern",
                valid_elements: "*[*]",
                extended_valid_elements: "*[*]",
                valid_children : "multiline[a],singleline[a]",
                plugins: plugins,
                menubar: menubar,
                cleanup: false,
                verify_html: false,
                toolbar: toolbarOptions,
                image_advtab: true,
                contextmenu: "link image inserttable | cell row column deletetable",
                fontsize_formats: "8px 9px 10px 11px 12px 14px 16px 18px 20px 24px 36px",
                image_list: [],
                paste_preprocess: function (plugin, args) {
                    args.content += '';
                },
                setup: function (editor) {
                    editor.on("keyup", function (editor, e) {
                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);
                    });
                    editor.on("click", function (editor, e) {
                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);
                    });
                    editor.on('getContent', function (e) {
                       
                        if (e.content.indexOf("<a") >= 0) {
                            var data = e.content;
                            var hrefArr = [];
                            $(data).find("a").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    var text = $(this).text();
                                    e.content = e.content.replace(text+"</a>", text+'</lotelink>');
                                }
                            });
                            e.content = e.content.replace(/\<a type="page"/g, '<lotelink type="page"');
                            e.content = e.content.replace(/\<a type="file"/g, '<lotelink type="file"');
                            var data = e.content;
                            $(data).find("a").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    var text = $(this).attr('href');
                                    e.content = e.content.replace('<a href="'+text+'"', '<lotelink href="'+text+'"');
                                }
                            });
                            var data = e.content;
                            $(data).find("a").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    e.content = e.content.replace('<a lote_id="'+attr+'"', '<lotelink lote_id="'+attr+'"');
                                }
                            });
                        }
                    });
                    editor.on('paste', function (e) {
                        var paste;
                        if (e.clipboardData.types.indexOf('text/plain') >= 0) {
                            paste = e.clipboardData.getData('text/plain');
                        }

                        if (e.clipboardData.types.indexOf('text/html') >= 0) {
                            var tempPaste = e.clipboardData.getData('text/html');
                            if (tempPaste.includes('')) { // check if the content is a special type such as actual html, image or file
                                var regex = new RegExp("([^]*)|([^]*)", "g"); // tinymce copy includes full html and body tags, and the actual content is actually between the comments
                                paste = tempPaste.replace(regex, '');
                            }
                        }

                        if (paste !== undefined) {
                            paste = paste.replace(/<script[^]*<\/script>/g, ''); // replaces everything in-between and including (<scrip -- <\script>)
                            e.preventDefault();
                            insertIntoWysiwyg(paste);
                        }
                    });
                    editor.on('paste_preprocess', function (e) {
                        console.log('paste_preprocess', e.content);
                    });
                    editor.on('beforeSetContent', function (e) {

                        if (e.content.indexOf("<lotelink") >= 0) {

                            var data = e.content;
                            $(data).find("lotelink").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    var text = $(this).attr('href');
                                    e.content = e.content.replace('<lotelink href="'+text+'"', '<a href="'+text+'"');
                                }

                            });

                            var data = e.content;
                            $(data).find("lotelink").each(function () {
                                var attr = $(this).attr('lote_id');
                                if (typeof attr !== typeof undefined && attr !== false && $.isNumeric(attr)) {
                                    e.content = e.content.replace('<lotelink lote_id="'+attr+'"', '<a lote_id="'+attr+'"');
                                }

                            });

                            e.content = e.content.replace(/\<lotelink type="img"/g, '<img');
                            e.content = e.content.replace(/\<lotelink type="page"/g, '<a type="page"');
                            e.content = e.content.replace(/\<lotelink type="file"/g, '<a type="file"');
                            e.content = e.content.replace(/\<\/lotelink>/g, '</a>');

                        }

                    });
                },
                spellchecker_language: "en_GB",
                spellchecker_rpc_url: 'spellchecker.php',
                is_campaign: (profile !== undefined && profile === "campaign"),
                sz_profile: profile
            };

            if(typeof(toolbar) != 'undefined') {
                settings.toolbar1 = toolbar1Custom;
            }

            //Add CSS includes if provided
            if(cssIncludes) {
                settings.content_css = cssIncludes;
            }

            //If newsletter editor...
            if(isNewsletter) {
                settings.width = "800px";
                settings.resize = true;
            }

            if(typeof relativeUrls == 'undefined' || relativeUrls == false) {
                settings.relative_urls = false;
                settings.convert_urls = false;
            }

            settings.sb_links_opts = {
                link_url: true,
                link_email: true,
                link_phone: true
            };

            settings.sb_images_opts = {
                link_upload: true,
                link_external: true
            };

            tinymce.init(settings);

        }
    }

    function setupContentEditor(id, isFullPage, toolbar1Custom, cssIncludes, isNewsletter, profile, relativeUrls, wildcards, overrideHeight) {
        var plugins = [
            "contextmenu", "advlist", "autolink", "lists", "print",  "searchreplace", "visualblocks", "visualchars",
            "code", "save", "directionality", "paste", "textcolor",
            "sb_filemanager", "sb_links", "sb_images", "sb_table", "spellchecker"
        ];
        var contextMenu = " sb_links sb_images inserttable elements web_link pdf_viewer";

        var wildcardSettings = {
            content_holder: false,
            update_forms: false
        };

        if (wildcards) {
            if (profile !== 'campaign') {
                plugins.push("sb_elements");
            }
            plugins.push("sb_wildcards");
            contextMenu = contextMenu + " sb_wildcards sb_wildcards_update_form ";

        }

        var toolbarOptions = "sb_images sb_gallery sb_video pdf_viewer sb_links | formatselect | fontsizeselect forecolor | bold italic underline strikethrough | removeformat | alignleft aligncenter alignright alignjustify | outdent indent | bullist numlist  |  undo redo | code";
        if (profile === "campaign"){
            toolbarOptions = "undo redo | fontsizeselect forecolor | bold italic | removeformat | alignleft aligncenter alignright alignjustify | outdent indent | bullist numlist | sb_links | code";
        }
        else if(profile === "manage_app_mobile") {
            toolbarOptions = "undo redo removeformat |  bold italic | alignleft aligncenter alignright | outdent indent | sb_links | sb_images | code ";
        }
        else {
            plugins.push("sb_gallery");
            plugins.push("sb_video");
            contextMenu = "sb_images sb_gallery sb_video pdf_viewer web_link inserttable elements sb_links";
            //contextMenu =  "sb_gallery sb_video "+contextMenu;

        }


        if(isFullPage || isNewsletter) {
            plugins.push("fullpage");
        }

        var validElements = "*[*]";
        var invalidElements = "";
        var validExtendedElements = '*[*]';
        var validChildren = "multiline[a],singleline[a]";

        var menubar = "edit insert view table tools sb_wildcards";
        if(profile === "manage_app_mobile"){
            menubar = false;
        }
        var height = "600px";
        if(profile == "quick_feed" || profile == "summary" ){
            height = "400px";
        }
        else if( profile === "manage_app_mobile"){
            height = "250px";
        }
        else if( profile === "new_content_holder"){
            height = "400px";
        }
        else if(profile === "company_note"){
            height = "330px";
        }


        if (overrideHeight) {
            height = overrideHeight + "px";
        }

        if($('#'+id).siblings('div.mce-tinymce').length == 0) {

            var settings = {
                branding: false,
                selector: '#' + id,
                width: "100%",
                height: height,
                statusbar: true,
                resize: "both",
                //theme_advanced_resizing: true,
                //theme_advanced_resizing_use_cookie : false,
                theme: "modern",
                allow_html_in_named_anchor: true,
                allow_unsafe_link_target: true,

                valid_elements: validElements,
                extended_valid_elements: validExtendedElements,
                invalid_elements: invalidElements,
//                extended_valid_elements: 'iframe[src|width|height|frameborder|scrolling|allowfullscreen]',
                valid_children : validChildren,
                plugins: plugins,
                // menu: {
                //     edit: { title: 'Edit', items: 'undo redo | cut copy paste pastetext | selectall' },
                //     insert: {title: 'Insert', items: 'sb_video sb_gallery sb_images'},
                //     view: {title: 'View', items: 'code | visualaid | spellcheck'},
                //     format: {title: 'Format', items: 'bold italic underline strikethrough superscript subscript | formats | removeformat'},
                //     table: {title: 'Table', items: 'inserttable tableprops deletetable | cell row column'},
                //     tools: {title: 'Tools', items: 'spellchecker code'},
                //     sb_wildcards: { title: 'Wildcards' }
                // },
                menubar: menubar,
                cleanup: false,
                verify_html: false,
                toolbar: toolbarOptions,
                fontsize_formats: "8px 9px 10px 11px 12px 14px 16px 18px 20px 24px 36px",

                image_advtab: true,
                image_list: [],
                contextmenu: contextMenu,
                setup: function (editor) {
                    editor.on("init", function () {
                        this.getDoc().body.style.fontSize = '14px';
                        this.getDoc().body.style.fontFamily = 'Verdana';
                    });
                    editor.on("keyup", function (editor, e) {
                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);
                    });
                    editor.on("click", function (editor, e) {
                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);
                    });
                    editor.on('getContent', function (e) {
                        e.content = e.content.replace(/<p>(<img[^<]*)<\/p>/gi, function (a) {
                            return a.replace('<p>', '').replace('</p>', '');
                        });
                    });
                    editor.on('BeforePastePreProcess', function(e) {
                        // This will change any html text back to html tags and sanitise scripts and default comments
                        var regex = new RegExp("([^]*)|([^]*)", "g"); // tinymce copy includes full html and body tags, and the actual content is actually between the comments
                        e.content = e.content.replace(/(&lt;)/g, '<')
                                .replace(/(&gt;)/g, '>')
                                .replace(regex, '')
                                .replace(/<script[\s\S]*?<\/script>/g, '');
                    });
                    editor.on('beforeSetContent', function (e) {
                        e.content = e.content.replace(/<p>(<img[^<]*)<\/p>/gi, function (a) {
                            return a.replace('<p>', '').replace('</p>', '');
                        });
                    });





                },
                spellchecker_language: "en_GB",
                spellchecker_rpc_url: 'spellchecker.php',
                is_campaign: (profile !== undefined && profile === "campaign"),
                sz_profile: profile
            };

            if(typeof(toolbar) != 'undefined') {
                settings.toolbar1 = toolbar1Custom;
            }

            //Add CSS includes if provided
            if(cssIncludes) {
                if($.isArray(cssIncludes)){
                    cssIncludes.push("/theme/website/szschool/css/content.css");
                    cssIncludes.push("https://www.heath.derbyshire.sch.uk/_admin/cms/szschool/account-setting-colours.css");
                    cssIncludes.push("/theme/website/szschool/css/font-awesome.min.css");

                }
                settings.content_css = cssIncludes;

            }else{
                var cssIncludesDefault = ["/theme/website/szschool/css/content.css", "https://www.heath.derbyshire.sch.uk/_admin/cms/szschool/account-setting-colours.css", "/theme/website/szschool/css/font-awesome.min.css"];
                settings.content_css = cssIncludesDefault;
            }

            //If newsletter editor...
            if(isNewsletter) {
                settings.width = "100%";
                settings.resize = true;
                //settings.force_br_newlines = true;
                //settings.force_p_newlines = false;
                settings.forced_root_block = '';
            }

            if(typeof relativeUrls == 'undefined' || relativeUrls == false) {
                settings.relative_urls = false;
                settings.convert_urls = false;
            }

            if (wildcards) {
                settings.wildcards = wildcards;
                settings.wildcardAddons = wildcardSettings;
            }

            settings.is_user_admin = 0;

//            tinymce.execCommand('mceFocus', false, id);
            tinymce.execCommand('mceRemoveEditor', true, id);
            tinymce.init(settings);

        }
    }
` }} /></div><!--$--><!--/$--><script src="/_next/static/chunks/2a40d0dd147273b3.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\nc:I[68027,[],\"default\"]\n:HL[\"/_next/static/chunks/a6d5fcc06170fc8c.css\",\"style\"]\n:HL[\"/assets/css/font-awesome.min.css\",\"style\"]\n:HL[\"https://fonts.googleapis.com/css?family=Lato:300,400,400i,700|Raleway:300,400,500,600,700|Crete+Round:400i\",\"style\"]\n:HL[\"/assets/css/jquery-ui.css\",\"style\"]\n:HL[\"/assets/css/bootstrap.css\",\"style\"]\n:HL[\"/assets/css/style.css\",\"style\"]\n:HL[\"/assets/css/swiper.css\",\"style\"]\n:HL[\"/assets/css/dark.css\",\"style\"]\n:HL[\"/assets/css/font-icons.css\",\"style\"]\n:HL[\"/assets/css/animate.css\",\"style\"]\n:HL[\"/assets/css/magnific-popup.css\",\"style\"]\n:HL[\"/assets/css/bs-switches.css\",\"style\"]\n:HL[\"/assets/css/szwebstyle.css?v=1.0\",\"style\"]\n:HL[\"/assets/css/content.css\",\"style\"]\n:HL[\"/school-colours.css?skin_id=3?v=1.0\",\"style\"]\n:HL[\"/assets/css/responsive.css\",\"style\"]\n:HL[\"//www.schoolzineplus.co.uk/schoolzine/global.css\",\"style\"]\n:HL[\"/website/custom.css?skin=3\",\"style\"]\n:HL[\"/assets/css/lightbox.css\",\"style\"]\n:HL[\"/assets/css/-1.12.1.custom.min.css\",\"style\"]\n:HL[\"/assets/css/timepicki.css\",\"style\"]\n2:T1ba3,"])</script><script>self.__next_f.push([1,"\n              (function() {\n                function removeSchoolzineLogo() {\n                  // Remove by class\n                  var logos = document.querySelectorAll('.footer-logo, a.footer-logo, a[href*=\"schoolzine.co.uk\"]');\n                  for (var i = 0; i \u003c logos.length; i++) {\n                    logos[i].remove();\n                  }\n                  // Also check footer specifically\n                  var footer = document.getElementById('footer');\n                  if (footer) {\n                    var footerLogos = footer.querySelectorAll('a[href*=\"schoolzine.co.uk\"], .footer-logo');\n                    for (var j = 0; j \u003c footerLogos.length; j++) {\n                      footerLogos[j].remove();\n                    }\n                  }\n                }\n                \n                function hidePDFBannersWithEmbeddedPDFs() {\n                  // Hide all wysiwyg-only PDF viewer headings (duplicates)\n                  var hideHeadings = document.querySelectorAll('.wysiwyg-only.pdf-viewer-heading');\n                  for (var k = 0; k \u003c hideHeadings.length; k++) {\n                    hideHeadings[k].style.display = 'none';\n                    hideHeadings[k].style.visibility = 'hidden';\n                    hideHeadings[k].style.height = '0';\n                    hideHeadings[k].style.margin = '0';\n                    hideHeadings[k].style.padding = '0';\n                    hideHeadings[k].style.opacity = '0';\n                  }\n                  \n                  // Show wysiwyg-hide PDF viewer headings (the ones with file size)\n                  var showHeadings = document.querySelectorAll('.wysiwyg-hide .pdf-viewer-heading');\n                  for (var m = 0; m \u003c showHeadings.length; m++) {\n                    var heading = showHeadings[m];\n                    // Check if this heading's wrap contains an embedded PDF\n                    var wrap = heading.closest('.pdf-viewer-heading-wrap');\n                    if (wrap \u0026\u0026 !wrap.querySelector('.pdf-view.HTML-only')) {\n                      // No embedded PDF, so show this heading\n                      heading.style.display = 'block';\n                      heading.style.visibility = 'visible';\n                      heading.style.opacity = '1';\n                    }\n                  }\n                  \n                  // Find all PDF viewer heading wraps\n                  var wraps = document.querySelectorAll('.pdf-viewer-heading-wrap');\n                  for (var i = 0; i \u003c wraps.length; i++) {\n                    var wrap = wraps[i];\n                    // Check if this wrap contains an embedded PDF\n                    var hasEmbeddedPDF = wrap.querySelector('.pdf-view.HTML-only');\n                    if (hasEmbeddedPDF) {\n                      // Hide PDF viewer headings in this wrap when there's an embedded PDF\n                      var headings = wrap.querySelectorAll('.pdf-viewer-heading, .wysiwyg-hide .pdf-viewer-heading');\n                      for (var j = 0; j \u003c headings.length; j++) {\n                        headings[j].style.display = 'none';\n                        headings[j].style.visibility = 'hidden';\n                        headings[j].style.height = '0';\n                        headings[j].style.margin = '0';\n                        headings[j].style.padding = '0';\n                        headings[j].style.opacity = '0';\n                      }\n                    }\n                  }\n                }\n                \n                function fixSpacingIssues() {\n                  // Hide empty divs that cause spacing issues\n                  var emptyDivs = document.querySelectorAll('div:empty');\n                  for (var i = 0; i \u003c emptyDivs.length; i++) {\n                    var div = emptyDivs[i];\n                    // Don't hide divs with important classes or IDs\n                    if (!div.className \u0026\u0026 !div.id) {\n                      div.style.display = 'none';\n                      div.style.height = '0';\n                      div.style.margin = '0';\n                      div.style.padding = '0';\n                    }\n                  }\n                  \n                  // Hide wysiwyg-hide containers that only contain scripts (not PDFs or headings)\n                  var wysiwygHides = document.querySelectorAll('.wysiwyg-hide');\n                  for (var j = 0; j \u003c wysiwygHides.length; j++) {\n                    var container = wysiwygHides[j];\n                    var hasPDF = container.querySelector('.pdf-view.HTML-only');\n                    var hasHeading = container.querySelector('.pdf-viewer-heading');\n                    var scripts = container.querySelectorAll('script');\n                    var otherContent = container.querySelectorAll('*:not(script)');\n                    \n                    // If it only has scripts and no PDF or heading, hide it\n                    if (!hasPDF \u0026\u0026 !hasHeading \u0026\u0026 scripts.length \u003e 0 \u0026\u0026 otherContent.length === 0) {\n                      container.style.display = 'none';\n                      container.style.height = '0';\n                      container.style.margin = '0';\n                      container.style.padding = '0';\n                    }\n                  }\n                  \n                  // Remove extra spacing from empty paragraphs\n                  var emptyParas = document.querySelectorAll('p:empty');\n                  for (var k = 0; k \u003c emptyParas.length; k++) {\n                    emptyParas[k].style.display = 'none';\n                    emptyParas[k].style.height = '0';\n                    emptyParas[k].style.margin = '0';\n                    emptyParas[k].style.padding = '0';\n                  }\n                }\n                \n                // Run immediately\n                removeSchoolzineLogo();\n                hidePDFBannersWithEmbeddedPDFs();\n                fixSpacingIssues();\n                \n                // Run when DOM is ready\n                if (document.readyState === 'loading') {\n                  document.addEventListener('DOMContentLoaded', function() {\n                    removeSchoolzineLogo();\n                    hidePDFBannersWithEmbeddedPDFs();\n                    fixSpacingIssues();\n                  });\n                } else {\n                  removeSchoolzineLogo();\n                  hidePDFBannersWithEmbeddedPDFs();\n                  fixSpacingIssues();\n                }\n                \n                // Run after delays\n                setTimeout(function() {\n                  removeSchoolzineLogo();\n                  hidePDFBannersWithEmbeddedPDFs();\n                  fixSpacingIssues();\n                }, 100);\n                setTimeout(function() {\n                  removeSchoolzineLogo();\n                  hidePDFBannersWithEmbeddedPDFs();\n                  fixSpacingIssues();\n                }, 500);\n                setTimeout(function() {\n                  removeSchoolzineLogo();\n                  hidePDFBannersWithEmbeddedPDFs();\n                  fixSpacingIssues();\n                }, 1000);\n              })();\n            "])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"uWIx26tBS-vrAQh4fpXPs\",\"c\":[\"\",\"parent-area\",\"home-learning\",\"upper-key-stage-2-home-learning\",\"\"],\"q\":\"\",\"i\":false,\"f\":[[[\"\",{\"children\":[\"parent-area\",{\"children\":[\"home-learning\",{\"children\":[\"upper-key-stage-2-home-learning\",{\"children\":[\"__PAGE__\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],[[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/chunks/a6d5fcc06170fc8c.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"script\",\"script-0\",{\"src\":\"/_next/static/chunks/3f21afa8930fb57b.js\",\"async\":true,\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/css/font-awesome.min.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"https://fonts.googleapis.com/css?family=Lato:300,400,400i,700|Raleway:300,400,500,600,700|Crete+Round:400i\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/css/jquery-ui.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/css/bootstrap.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/css/style.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/css/swiper.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/css/dark.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/css/font-icons.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/css/animate.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/css/magnific-popup.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/css/bs-switches.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/css/szwebstyle.css?v=1.0\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/css/content.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/school-colours.css?skin_id=3?v=1.0\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/css/responsive.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"//www.schoolzineplus.co.uk/schoolzine/global.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/website/custom.css?skin=3\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/css/lightbox.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/css/-1.12.1.custom.min.css\"}],[\"$\",\"link\",null,{\"rel\":\"stylesheet\",\"href\":\"/assets/css/timepicki.css\"}]]}],[\"$\",\"body\",null,{\"className\":\"stretched\",\"children\":[[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$2\"}}],\"$L3\",\"$L4\",\"$L5\",\"$L6\"]}]]}]]}],{\"children\":[\"$L7\",{\"children\":[\"$L8\",{\"children\":[\"$L9\",{\"children\":[\"$La\",{},null,false,false]},null,false,false]},null,false,false]},null,false,false]},null,false,false],\"$Lb\",false]],\"m\":\"$undefined\",\"G\":[\"$c\",[]],\"S\":true}\n"])</script><script>self.__next_f.push([1,"f:I[75105,[\"/_next/static/chunks/3f21afa8930fb57b.js\"],\"default\"]\n10:I[39756,[\"/_next/static/chunks/42879de7b8087bc9.js\"],\"default\"]\n11:I[37457,[\"/_next/static/chunks/42879de7b8087bc9.js\"],\"default\"]\n14:I[97367,[\"/_next/static/chunks/42879de7b8087bc9.js\"],\"ViewportBoundary\"]\n16:I[97367,[\"/_next/static/chunks/42879de7b8087bc9.js\"],\"MetadataBoundary\"]\n17:\"$Sreact.suspense\"\nd:T672,"])</script><script>self.__next_f.push([1,"\n              (function() {\n                if (typeof window.jQuery === 'undefined' \u0026\u0026 typeof window.$ === 'undefined') {\n                  var script = document.createElement('script');\n                  script.src = '/assets/js/jquery.js?v=' + Date.now();\n                  script.async = false;\n                  script.defer = false;\n                  // Make it blocking by using document.write in head, or append to head and wait\n                  var loaded = false;\n                  script.onload = script.onreadystatechange = function() {\n                    if (!loaded \u0026\u0026 (!this.readyState || this.readyState === 'loaded' || this.readyState === 'complete')) {\n                      loaded = true;\n                      // Ensure jQuery is set\n                      if (window.$ \u0026\u0026 !window.jQuery) {\n                        window.jQuery = window.$;\n                      }\n                      if (window.jQuery \u0026\u0026 !window.$) {\n                        window.$ = window.jQuery;\n                      }\n                      // Force both to be available\n                      if (window.jQuery) {\n                        window.$ = window.jQuery;\n                      }\n                      console.log('jQuery loaded in blocking script');\n                    }\n                  };\n                  document.head.insertBefore(script, document.head.firstChild);\n                } else {\n                  // jQuery already loaded\n                  if (window.$ \u0026\u0026 !window.jQuery) window.jQuery = window.$;\n                  if (window.jQuery \u0026\u0026 !window.$) window.$ = window.jQuery;\n                }\n              })();\n            "])</script><script>self.__next_f.push([1,"3:[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$d\"}}]\ne:T1044,"])</script><script>self.__next_f.push([1,"\n              (function() {\n                console.log('ScriptLoader: Starting script loading sequence');\n                \n                // Function to load script and return promise\n                function loadScript(src, id) {\n                  return new Promise(function(resolve, reject) {\n                    // Check if already loaded\n                    if (id \u0026\u0026 document.getElementById(id)) {\n                      console.log('ScriptLoader: ' + id + ' already loaded');\n                      resolve();\n                      return;\n                    }\n                    \n                    var script = document.createElement('script');\n                    script.src = src + '?v=' + Date.now();\n                    script.async = false;\n                    script.defer = false;\n                    if (id) script.id = id;\n                    \n                    script.onload = function() {\n                      console.log('ScriptLoader: Loaded ' + src);\n                      resolve();\n                    };\n                    \n                    script.onerror = function() {\n                      console.error('ScriptLoader: Failed to load ' + src);\n                      reject(new Error('Failed to load ' + src));\n                    };\n                    \n                    document.head.appendChild(script);\n                  });\n                }\n                \n                // Wait for jQuery, then load other scripts\n                function waitForJQuery() {\n                  var attempts = 0;\n                  var maxAttempts = 100; // Increased to 10 seconds\n                  var checkInterval = setInterval(function() {\n                    attempts++;\n                    var jq = null;\n                    try {\n                      jq = window.jQuery || window.$;\n                    } catch(e) {\n                      // Ignore errors\n                    }\n                    \n                    if (jq \u0026\u0026 typeof jq === 'function') {\n                      clearInterval(checkInterval);\n                      // Ensure both are set\n                      if (!window.jQuery) window.jQuery = jq;\n                      if (!window.$) window.$ = jq;\n                      console.log('ScriptLoader: jQuery confirmed available');\n                      \n                      // Now load other scripts in sequence\n                      loadScript('/assets/js/jquery-ui.min.js', 'jquery-ui')\n                        .then(function() {\n                          return loadScript('/assets/js/plugins.js', 'plugins');\n                        })\n                        .then(function() {\n                          return new Promise(function(resolve) {\n                            setTimeout(resolve, 100);\n                          });\n                        })\n                        .then(function() {\n                          return loadScript('/assets/js/functions-loader.js', 'functions-loader');\n                        })\n                        .then(function() {\n                          console.log('ScriptLoader: All scripts loaded successfully');\n                        })\n                        .catch(function(error) {\n                          console.error('ScriptLoader: Error loading scripts:', error);\n                        });\n                    } else if (attempts \u003e= maxAttempts) {\n                      clearInterval(checkInterval);\n                      console.warn('ScriptLoader: jQuery not found after', maxAttempts * 100, 'ms');\n                      // Try to continue anyway - maybe jQuery will load later\n                      setTimeout(function() {\n                        if (window.jQuery || window.$) {\n                          console.log('ScriptLoader: jQuery found after timeout, retrying...');\n                          waitForJQuery();\n                        }\n                      }, 1000);\n                    }\n                  }, 100);\n                }\n                \n                // Start waiting for jQuery after a short delay to let the jQuery loading script start\n                setTimeout(waitForJQuery, 50);\n              })();\n            "])</script><script>self.__next_f.push([1,"4:[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$e\"}}]\n5:[\"$\",\"$Lf\",null,{}]\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"$L10\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L11\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L10\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L11\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\n8:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L10\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L11\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\n9:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L10\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L11\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\n12:T23fc7,"])</script><script>self.__next_f.push([1,"\u003cscript src=\"/assets/js/tinymce.min.js\"\u003e\u003c/script\u003e\n\n\u003cscript src=\"/assets/js/tinymcefunctions.js\"\u003e\u003c/script\u003e\n\n\u003cdiv id=\"access\"\u003e\n  \u003cul\u003e\n    \u003cli\u003e\u003ca href=\"#content01\"\u003eSkip to content\u003c/a\u003e\u003c/li\u003e\n    \u003cli\u003e\u003ca href=\"#primary-menu\"\u003eSkip to navigation\u003c/a\u003e\u003c/li\u003e\n    \u003cli\u003e\u003ca href=\"#footer\"\u003eSkip to footer\u003c/a\u003e\u003c/li\u003e\n  \u003c/ul\u003e\n\u003c/div\u003e\n\n\u003cdiv id=\"wrapper\" class=\"clearfix\"\u003e\n\n\t\n\n\n\n\n\u003cheader id=\"header\" class=\"transparent-header semi-transparent full-header\"\u003e\n\n\t\u003cdiv id=\"header-wrap\" class=\"\"\u003e\n\n\t\t\u003cdiv class=\"container clearfix\"\u003e\n\n\t\t\t\u003cdiv id=\"primary-menu-trigger\"\u003e\u003ci class=\"icon-reorder\"\u003e\u003c/i\u003e\u003c/div\u003e\n\n\t\t\t\n\t\t\t\u003cdiv id=\"logo\"\u003e\n\n\t\t\t\t\u003ca href=\"/\" class=\"standard-logo\" data-dark-logo=\"/images/large-logo.png\"\u003e\u003cimg src=\"/images/large-logo.png\" alt=\"Heath Primary School\"\u003e\u003c/a\u003e\n\t\t\t\t\n\t\t\t\u003c/div\u003e\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\u003cnav id=\"primary-menu\" class=\"style-5 \"\u003e\n\t\n\n\t\u003cul class=\"count7 sf-js-enabled\" style=\"touch-action: pan-y;\"\u003e\n\t\t\t\u003cli\u003e\n\t\t\t \u003ca href=\"/\" title=\"Home\"\u003e\n\t\t\t \t\u003cdiv class=\"stickyHidden\"\u003e\u003ci class=\"fa fa-home\"\u003e\u003c/i\u003e\u003cspan\u003eHome\u003c/span\u003e\u003c/div\u003e\n\t\t\t \t\u003c/a\u003e\n\t\t\t \t\t\t\t \t\n\t\t\t \n\t\t\u003c/li\u003e\n\t\t\t\u003cli class=\"sub-menu\"\u003e\n\t\t\t \u003ca href=\"javascript:;\" title=\"Key Information\" class=\"sf-with-ul\"\u003e\n\t\t\t \t\u003cdiv class=\"stickyHidden\"\u003e\u003ci class=\"fa fa-folder\"\u003e\u003c/i\u003e\u003cspan\u003eKey Information\u003c/span\u003e\u003c/div\u003e\n\t\t\t \t\u003c/a\u003e\n\t\t\t \t\t\t\t\t\t\u003cul style=\"display: none;\" class=\"nav-submenu\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/attendance-and-admissions-copy\" title=\"Admissions\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tAdmissions\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/attendance\" title=\"Attendance\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tAttendance\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/embark\" title=\"Embark Federation MAT\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tEmbark Federation MAT\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/equality-and-diversity\" title=\"Diversity, Equity and Inclusion\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tDiversity, Equity and Inclusion\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/GDPR\" title=\"GDPR\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tGDPR\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli class=\"sub-menu\"\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/governors\" title=\"Governors\" class=\"sf-with-ul\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tGovernors\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cul style=\"display: none;\" class=\"nav-submenu\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\u003ca href=\"https://heathprimary.plus.co.uk/governors/governors-secure-area\" title=\"Governors Secure Link\"\u003e\u003cdiv\u003eGovernors Secure Link\u003c/div\u003e\u003c/a\u003e\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/ul\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/nursery-admissions\" title=\"Nursery Admissions\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tNursery Admissions\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/ofsted-performance-tables\" title=\"Ofsted/Performance Tables\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tOfsted/Performance Tables\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/policies-copy\" title=\"Policies \"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tPolicies \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/pupil-premium-and-sports-premium\" title=\"Pupil Premium and Sports Premium\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tPupil Premium and Sports Premium\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/school-meals\" title=\"School Meals\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tSchool Meals\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/SEND/Inclusion\" title=\"SEND/Inclusion\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tSEND/Inclusion\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/travel-\" title=\"Travel \"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tTravel \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/uniform-shop\" title=\"Uniform \"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tUniform \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/ul\u003e\n\t\t\t\t\t\t \t\n\t\t\t \n\t\t\u003c/li\u003e\n\t\t\t\u003cli class=\"sub-menu\"\u003e\n\t\t\t \u003ca href=\"javascript:;\" title=\"Safeguarding\" class=\"sf-with-ul\"\u003e\n\t\t\t \t\u003cdiv class=\"stickyHidden\"\u003e\u003ci class=\"fa fa-clipboard\"\u003e\u003c/i\u003e\u003cspan\u003eSafeguarding\u003c/span\u003e\u003c/div\u003e\n\t\t\t \t\u003c/a\u003e\n\t\t\t \t\t\t\t\t\t\u003cul style=\"display: none;\" class=\"nav-submenu\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli class=\"sub-menu\"\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/school-policies\" title=\"Safeguarding (Including Policies)\" class=\"sf-with-ul\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tSafeguarding (Including Policies)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cul style=\"display: none;\" class=\"nav-submenu\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\u003ca href=\"/school-policies/child-friendly-safeguarding-policies-\" title=\"Child Friendly Safeguarding Policies \"\u003e\u003cdiv\u003eChild Friendly Safeguarding Policies \u003c/div\u003e\u003c/a\u003e\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/ul\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/protected-characteristics\" title=\"Protected Characteristics\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tProtected Characteristics\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/prevent\" title=\"Prevent\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tPrevent\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/online-safety\" title=\"Online Safety\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tOnline Safety\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/parental-guidance\" title=\"Useful Links \u0026amp; Parental Guidance\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tUseful Links \u0026amp; Parental Guidance\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/ul\u003e\n\t\t\t\t\t\t \t\n\t\t\t \n\t\t\u003c/li\u003e\n\t\t\t\u003cli class=\"sub-menu\"\u003e\n\t\t\t \u003ca href=\"javascript:;\" title=\"Parent Area\" class=\"sf-with-ul\"\u003e\n\t\t\t \t\u003cdiv class=\"stickyHidden\"\u003e\u003ci class=\"fa fa-group\"\u003e\u003c/i\u003e\u003cspan\u003eParent Area\u003c/span\u003e\u003c/div\u003e\n\t\t\t \t\u003c/a\u003e\n\t\t\t \t\t\t\t\t\t\u003cul style=\"display: none;\" class=\"nav-submenu\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/clubs\" title=\"Clubs\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tClubs\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/parent-area/home-learning/-embark-award\" title=\" Embark Award\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\t Embark Award\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/events-and-celebrations\" title=\"Events and Celebrations\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tEvents and Celebrations\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/parent-area/newsletters\" title=\"Newsletters\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tNewsletters\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/parent-view-and-surveys\" title=\"Parent View and Surveys\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tParent View and Surveys\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/pupil-voice\" title=\"Pupil Voice\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tPupil Voice\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli class=\"sub-menu\"\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/parent-area/remote-learning\" title=\"Remote Learning\" class=\"sf-with-ul\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tRemote Learning\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cul style=\"display: none;\" class=\"nav-submenu\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\u003ca href=\"/parent-area/home-learning/lower-key-stage-2-home-learning\" title=\"Lower Key Stage 2 Home Learning\"\u003e\u003cdiv\u003eLower Key Stage 2 Home Learning\u003c/div\u003e\u003c/a\u003e\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\u003ca href=\"/parent-area/home-learning/upper-key-stage-2-home-learning\" title=\"Upper Key Stage 2 Home Learning\"\u003e\u003cdiv\u003eUpper Key Stage 2 Home Learning\u003c/div\u003e\u003c/a\u003e\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\u003ca href=\"/parent-area/home-learning/key-stage-1-home-learning\" title=\"Key Stage 1 Remote Learning\"\u003e\u003cdiv\u003eKey Stage 1 Remote Learning\u003c/div\u003e\u003c/a\u003e\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\u003ca href=\"/parent-area/home-learning/EYFS-home-learning\" title=\"EYFS Home Learning\"\u003e\u003cdiv\u003eEYFS Home Learning\u003c/div\u003e\u003c/a\u003e\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/ul\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/Term-dates\" title=\"Term Dates\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tTerm Dates\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/safeguarding-newsletters-\" title=\"Safeguarding Newsletters \"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tSafeguarding Newsletters \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/ul\u003e\n\t\t\t\t\t\t \t\n\t\t\t \n\t\t\u003c/li\u003e\n\t\t\t\u003cli class=\"sub-menu\"\u003e\n\t\t\t \u003ca href=\"/curriculum\" title=\"Curriculum\" class=\"sf-with-ul\"\u003e\n\t\t\t \t\u003cdiv class=\"stickyHidden\"\u003e\u003ci class=\"fa fa-book\"\u003e\u003c/i\u003e\u003cspan\u003eCurriculum\u003c/span\u003e\u003c/div\u003e\n\t\t\t \t\u003c/a\u003e\n\t\t\t \t\t\t\t\t\t\u003cul style=\"display: none;\" class=\"nav-submenu\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/curriculum/teaching-learning-\" title=\"Teaching \u0026amp; Learning \"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tTeaching \u0026amp; Learning \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/curriculum/english\" title=\"English\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tEnglish\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/curriculum/maths\" title=\"Maths\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tMaths\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/curriculum\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tCurriculum \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/curriculum/assemblies\" title=\"Assemblies\" target=\"_blank\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tAssemblies\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/curriculum/nurture-at-heath\" title=\"Nurture \"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tNurture \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/curriculum/eyfs\" title=\"EYFS\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tEYFS\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/curriculum/history\" title=\"History\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tHistory\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/curriculum/geography-\" title=\"Geography \"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tGeography \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/curriculum/science\" title=\"Science\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tScience\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/curriculum/art-\u0026amp;Design\" title=\"Art \u0026amp; Design \"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tArt \u0026amp; Design \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/pe\" title=\"PE \"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tPE \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/curriculum/forest-school\" title=\"Explorers\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tExplorers\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/curriculum/opal\" title=\"OPAL\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tOPAL\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/ul\u003e\n\t\t\t\t\t\t \t\n\t\t\t \n\t\t\u003c/li\u003e\n\t\t\t\u003cli class=\"sub-menu\"\u003e\n\t\t\t \u003ca href=\"javascript:;\" title=\"School Community\" class=\"sf-with-ul\"\u003e\n\t\t\t \t\u003cdiv class=\"stickyHidden\"\u003e\u003ci class=\"fa fa-child\"\u003e\u003c/i\u003e\u003cspan\u003eSchool Community\u003c/span\u003e\u003c/div\u003e\n\t\t\t \t\u003c/a\u003e\n\t\t\t \t\t\t\t\t\t\u003cul style=\"display: none;\" class=\"nav-submenu\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/EmotionalHealthandWellbeing\" title=\"Emotional Health and Wellbeing\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tEmotional Health and Wellbeing\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/after-and-before-school-club\" title=\" Before and After School Club\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\t Before and After School Club\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"http://www.letslocalise.co.uk/school/heath-primary-school/sch128250/campaigns/\" title=\"Lets Localise \" target=\"_blank\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tLets Localise \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/schoolcommunity/local-clubs\" title=\"Local Clubs\" target=\"_blank\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tLocal Clubs\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/behaviour-and-rewards\" title=\"Behaviour and Rewards\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tBehaviour and Rewards\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/friends-of-school\" title=\"Friends of School\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tFriends of School\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/family-liaison-worker\" title=\"Family Liaison Worker\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tFamily Liaison Worker\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/schoolcommunity/early-help-offer\" title=\"Early Help Offer \" target=\"_blank\"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tEarly Help Offer \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cli\u003e\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\u003ca href=\"/meet-our-staff\" title=\"Meet our staff \"\u003e\n\t\t\t\t\t\t\t\t\t\t\u003cdiv\u003e\n\t\t\t\t\t\t\t\t\t\t\tMeet our staff \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\u003c/a\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/li\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/ul\u003e\n\t\t\t\t\t\t \t\n\t\t\t \n\t\t\u003c/li\u003e\n\t\t\t\u003cli\u003e\n\t\t\t \u003ca href=\"/contact\" title=\"Contact Us\"\u003e\n\t\t\t \t\u003cdiv class=\"stickyHidden\"\u003e\u003ci class=\"fa fa-comments\"\u003e\u003c/i\u003e\u003cspan\u003eContact Us\u003c/span\u003e\u003c/div\u003e\n\t\t\t \t\u003c/a\u003e\n\t\t\t \t\t\t\t \t\n\t\t\t \n\t\t\u003c/li\u003e\n\t\n\t\t\n\n\t\t\u003c/ul\u003e\n\t\t\n\t\u003cdiv id=\"top-search\"\u003e\n\t\u003ca id=\"top-search-trigger\" tabindex=\"0\" role=\"search\"\u003e\u003cspan\u003eSite Search\u003c/span\u003e\u003ci class=\"icon-search3\"\u003e\u003c/i\u003e\u003ci class=\"icon-line-cross\"\u003e\u003c/i\u003e\u003c/a\u003e\n\t\u003cform action=\"/site-search\" method=\"get\" name=\"search-form\" id=\"search-form\"\u003e\n\t\t\u003ca tabindex=\"0\" id=\"searchTrap\" role=\"presentation\"\u003e\u003cspan\u003eFunction to remove keyboard trap from search\u003c/span\u003e\u003c/a\u003e\n\t\t\u003clabel for=\"Search\" style=\"position: absolute !important; left: -9999px !important;\"\u003eSearch\u003c/label\u003e\n\t\t\u003cinput type=\"text\" id=\"Search\" name=\"s\" class=\"form-control\" value=\"\" placeholder=\"Type \u0026amp; Hit Enter..\"\u003e\n\t\t\u003cbutton type=\"submit\"\u003eSearch\u003c/button\u003e\n\t\u003c/form\u003e\n\u003c/div\u003e\t\n\t\u003c/nav\u003e\n\t\t\t\n\n\t\t\u003c/div\u003e\n\n\t\u003c/div\u003e\n\t\u003c/header\u003e\n\t\n\n\n\n\t\t\t\t\t\t\u003csection id=\"slider\" class=\"slider-element swiper_wrapper full-width clearfix\" data-autoplay=\"7000\" data-speed=\"650\" data-loop=\"true\"\u003e\n\t\t\u003cdiv class=\"swiper-container swiper-parent swiper-container-horizontal\" style=\"cursor: grab;\"\u003e\n\t\t\t\u003cdiv class=\"swiper-wrapper\" style=\"transition-duration: 0ms; transform: translate3d(-800px, 0px, 0px);\"\u003e\u003cdiv class=\"swiper-slide swiper-slide-duplicate swiper-slide-prev\" style=\"background-image: url(\u0026quot;/heath/s5.jpg\u0026quot;); width: 800px;\" data-swiper-slide-index=\"4\"\u003e\n\t\t\t\t\t\t\t\u003cdiv class=\"container clearfix\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\u003c/div\u003e\n\t\n\t\n\t\n\t\t\t\t\t\t\t       \n\t    \t \t\t    \t\t    \t\t\t\t\t        \t\t\t    \t    \t\t    \n\t    \t    \t    \t    \t    \t    \t    \n\t    \t\n\t    \t\t    \n\t    \t    \t\t\t\t\t\t    \t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cdiv class=\"swiper-slide dark swiper-slide-active\" style=\"background-image: url(\u0026quot;/heath/s1.jpg\u0026quot;); width: 800px;\" data-swiper-slide-index=\"0\"\u003e\n\t\t\t\t\t\t\t\u003cdiv class=\"container clearfix\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cdiv class=\"slider-caption slider-caption-center\" style=\"top: 140px;\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003ch2 data-caption-animate=\"fadeInUp\" class=\"fadeInUp animated\"\u003eWelcome to Heath Primary School\u003c/h2\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t       \n\t    \t \t\t    \t\t    \t\t\t\t\t        \t\t\t    \t    \t\t    \n\t    \t    \t    \t    \t    \t    \t    \n\t    \t    \t\t    \n\t    \t    \t\t\t\t\t\t    \t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cdiv class=\"swiper-slide swiper-slide-next\" style=\"background-image: url(\u0026quot;/heath/s2.jpg\u0026quot;); width: 800px;\" data-swiper-slide-index=\"1\"\u003e\n\t\t\t\t\t\t\t\u003cdiv class=\"container clearfix\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t       \n\t    \t \t\t    \t\t    \t\t\t\t\t        \t\t\t    \t    \t\t    \n\t    \t    \t    \t    \t    \t    \t    \n\t    \t    \t\t    \n\t    \t    \t\t\t\t\t\t    \t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cdiv class=\"swiper-slide\" style=\"background-image: url(\u0026quot;/heath/s3.jpg\u0026quot;); width: 800px;\" data-swiper-slide-index=\"2\"\u003e\n\t\t\t\t\t\t\t\u003cdiv class=\"container clearfix\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t       \n\t    \t \t\t    \t\t    \t\t\t\t\t        \t\t\t    \t    \t\t    \n\t    \t    \t    \t    \t    \t    \t    \n\t    \t    \t\t    \n\t    \t    \t\t\t\t\t\t    \t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cdiv class=\"swiper-slide\" style=\"background-image: url(\u0026quot;/heath/s4.jpg\u0026quot;); width: 800px;\" data-swiper-slide-index=\"3\"\u003e\n\t\t\t\t\t\t\t\u003cdiv class=\"container clearfix\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t       \n\t    \t \t\t    \t\t    \t\t\t\t\t        \t\t\t    \t    \t\t    \n\t    \t    \t    \t    \t    \t    \t    \n\t    \t    \t\t    \n\t    \t    \t\t\t\t\t\t    \t\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cdiv class=\"swiper-slide swiper-slide-duplicate-prev\" style=\"background-image: url(\u0026quot;/heath/s5.jpg\u0026quot;); width: 800px;\" data-swiper-slide-index=\"4\"\u003e\n\t\t\t\t\t\t\t\u003cdiv class=\"container clearfix\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\u003cdiv class=\"swiper-slide dark swiper-slide-duplicate swiper-slide-duplicate-active\" style=\"background-image: url(\u0026quot;/heath/s1.jpg\u0026quot;); width: 800px;\" data-swiper-slide-index=\"0\"\u003e\n\t\t\t\t\t\t\t\u003cdiv class=\"container clearfix\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003cdiv class=\"slider-caption slider-caption-center\" style=\"top: 140px;\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003ch2 data-caption-animate=\"fadeInUp\" class=\"not-animated\"\u003eWelcome to Heath Primary School\u003c/h2\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\u003c/div\u003e\n\t\t\t\t\t\t\u003c/div\u003e\u003c/div\u003e\n\t\t\t\u003cdiv class=\"slider-arrow-left\" tabindex=\"0\" role=\"button\" aria-label=\"Previous slide\"\u003e\u003ci class=\"icon-angle-left\"\u003e\u003c/i\u003e\u003c/div\u003e\n\t\t\t\u003cdiv class=\"slider-arrow-right\" tabindex=\"0\" role=\"button\" aria-label=\"Next slide\"\u003e\u003ci class=\"icon-angle-right\"\u003e\u003c/i\u003e\u003c/div\u003e\n\t\t\t\t\t\t\u003cdiv class=\"slide-number\"\u003e\u003cdiv class=\"slide-number-current\"\u003e1\u003c/div\u003e\u003cspan\u003e/\u003c/span\u003e\u003cdiv class=\"slide-number-total\"\u003e5\u003c/div\u003e\u003c/div\u003e\n\t\t\t\u003cdiv class=\"swiper-pagination swiper-pagination-clickable swiper-pagination-bullets\"\u003e\u003cspan class=\"swiper-pagination-bullet swiper-pagination-bullet-active\" tabindex=\"0\" role=\"button\" aria-label=\"Go to slide 1\"\u003e\u003c/span\u003e\u003cspan class=\"swiper-pagination-bullet\" tabindex=\"0\" role=\"button\" aria-label=\"Go to slide 2\"\u003e\u003c/span\u003e\u003cspan class=\"swiper-pagination-bullet\" tabindex=\"0\" role=\"button\" aria-label=\"Go to slide 3\"\u003e\u003c/span\u003e\u003cspan class=\"swiper-pagination-bullet\" tabindex=\"0\" role=\"button\" aria-label=\"Go to slide 4\"\u003e\u003c/span\u003e\u003cspan class=\"swiper-pagination-bullet\" tabindex=\"0\" role=\"button\" aria-label=\"Go to slide 5\"\u003e\u003c/span\u003e\u003c/div\u003e\n\t\t\u003cspan class=\"swiper-notification\" aria-live=\"assertive\" aria-atomic=\"true\"\u003e\u003c/span\u003e\u003c/div\u003e\n\n\u003c/section\u003e\t\t\t\n\n\u003csection id=\"content01\" name=\"content01\" class=\"\"\u003e\n\n\t\n\n\n\n\n\u003cdiv class=\"content-wrap\"\u003e\n\t\t\t\u003cscript type=\"text/javascript\"\u003e\n    if(window.location.pathname=='' || window.location.pathname=='/') {\n        window.location = '/latest';\n    }\n\u003c/script\u003e\n\n\u003cdiv id=\"pageNotFound\" class=\"container content-wrap\"\u003e\n    \u003cdiv id=\"errholder\" class=\"page_not_found_wrap\"\u003e\n        \u003cdiv class=\"errimage\"\u003e\u003c/div\u003e\n        \u003cdiv class=\"errmessage\"\u003e\n          \u003cdiv class=\"heading-block\"\u003e\n              \u003ch1\u003ePage not found!\u003c/h1\u003e\n              \u003cspan\u003eSomething seems to have gone wrong.\u003c/span\u003e\n            \u003c/div\u003e\n    \n            \u003cp\u003eSorry, the page you are trying to view does not exist or is missing. \u003cbr\u003eIf this problem persists complete the form below. We will resolve the issue right away.\u003c/p\u003e\n        \u003c/div\u003e\n    \u003c/div\u003e\n\u003c/div\u003e\n\n\n    \u003cscript type=\"text/javascript\"\u003e\n    function LoteCfForm() {\n\n    }\n\n    LoteCfForm.prototype.getCfValues = function (formData, cfArrayName) {\n        const promises = $(\".custom_field_edit\").map(function (i, e) {\n            if (LoteCfForm.prototype.isInVisibleGroup(e)) {\n                var f = $(e).data('function');\n                if (f \u0026\u0026 typeof LoteCfForm.prototype[f] == 'function') {\n                    return LoteCfForm.prototype[f](formData, e, cfArrayName);\n                }\n            }\n        });\n\n        return Promise.all(promises);\n    };\n\n    LoteCfForm.prototype.isInVisibleGroup = function (e) {\n        return ! $(\".custom_group_edit[data-value='\" + $(e).data('group') + \"']\").hasClass(\"group_disabled\");;\n    };\n\n    LoteCfForm.prototype.getTextValue = function (formData, e, cfArrayName) {\n        formData[cfArrayName][$(e).attr(\"data-id\")] = $(e).val();\n    };\n\n    LoteCfForm.prototype.getWysiwygValue = function (formData, e, cfArrayName) {\n        formData[cfArrayName][$(e).attr(\"data-id\")] = getWysiwygValue($(e).attr(\"id\"));\n    };\n\n    LoteCfForm.prototype.getDateTimeValue = function (formData, e, cfArrayName) {\n        var id = $(e).attr('id');\n        var element = $('#' + id + '_time');\n        var time = timepickiConvert(element);\n\n        var value = null;\n        var date = $('#' + id + '_date_alt').val();\n        if (date \u0026\u0026 time) {\n            value = date + ' ' + time;\n        }\n        else if (date) {\n            value = date;\n        }\n        else if (time) {\n            value = time;\n        }\n        formData[cfArrayName][$(e).attr(\"data-id\")] = value;\n    };\n\n    LoteCfForm.prototype.getDateValue = function (formData, e, cfArrayName) {\n        var id = $(e).attr('id');\n        formData[cfArrayName][$(e).attr(\"data-id\")] = $('#' + id + '_date_alt').val();\n    };\n\n    LoteCfForm.prototype.getTimeValue = function (formData, e, cfArrayName) {\n        var id = $(e).attr('id');\n        var element = $('#' + id + '_time');\n        var time = timepickiConvert(element);\n\n        formData[cfArrayName][$(e).attr(\"data-id\")] = time;\n    };\n\n    LoteCfForm.prototype.getCheckboxValues = function (formData, e, cfArrayName) {\n        var id = $(e).data('id');\n        var counter = 0;\n        var values = [];\n        $(e.form).find('input[name=\"checkbox_' + id + '\"]').each(function (i, el) {\n            if ($(el).is(\":checked\")) {\n                values[counter] = $(el).val();\n                counter++;\n            }\n        });\n        if (values.length === 0) {\n            values = \"\";\n        }\n        formData[cfArrayName][$(e).attr(\"data-id\")] = values;\n    };\n\n    LoteCfForm.prototype.getRadioValue = function (formData, e, cfArrayName) {\n        var id = $(e).attr('id');\n        var baseObj = [];\n        $.each($(e).find('input[type=\"radio\"]'), function (index, item) {\n            var obj = {};\n            if ($(item).is(':checked')) {\n                obj['id'] = $(item).val();\n\n                var itemValid = true;\n                if ($(item).val() == 0 \u0026\u0026 $('#cf_field_edit_radio_' + $(e).data('id') + '_custom').is(':visible')) {\n                    var customInput = $('#cf_field_edit_radio_' + $(e).data('id') + '_custom').val();\n                    obj['value'] = customInput;\n                    itemValid = customInput !== '';\n                } else {\n                    obj['value'] = $(item).data('value');\n                }\n\n                if (itemValid) {\n                    baseObj.push(obj);\n                }\n            }\n        });\n        formData[cfArrayName][$(e).attr(\"data-id\")] = '';\n        if (baseObj.length \u003e 0) {\n            formData[cfArrayName][$(e).attr(\"data-id\")] = JSON.stringify(baseObj);\n        }\n    };\n\n    LoteCfForm.prototype.getMatrixValues = function (formData, e, cfArrayName) {\n        if (typeof(formData[cfArrayName][$(e).attr(\"data-default\")]) == 'undefined') {\n            formData[cfArrayName][$(e).attr(\"data-default\")] = {};\n        }\n        formData[cfArrayName][$(e).attr(\"data-default\")][$(e).attr(\"data-id\")] = $(e).val();\n    };\n\n    LoteCfForm.prototype.getRecaptchaValue = function (formData, e, cfArrayName) {\n        formData[cfArrayName][$(e).attr(\"data-id\")] = grecaptcha.getResponse();\n    };\n\n    LoteCfForm.prototype.getFileValues = function (formData, e, cfArrayName) {\n        return new Promise((resolve, reject) =\u003e {\n            var file = e.files[0];\n            if (!file) {\n                return resolve();\n            }\n            var r = new FileReader();\n\n            r.onload = function(read) {\n                var contents = read.target.result;\n                var attr = $(e).attr(\"data-id\")\n                formData[cfArrayName][attr] = contents;\n                resolve();\n            }\n\n            r.readAsDataURL(file)\n        })\n    };\n\n    LoteCfForm.prototype.getCheckedValues = function (formData, e, cfArrayName) {\n        var name = $(e).data('name');\n        var counter = 0;\n        var values = [];\n        $(e).find('input[name=\"' + name + '\"]').each(function (i, el) {\n            if ($(el).is(\":checked\")) {\n                values[counter] = $(this).val();\n                counter++;\n            }\n        });\n        formData[cfArrayName][$(e).attr(\"data-id\")] = values;\n    };\n\n    LoteCfForm.prototype.getOptionValue = function (formData, e, cfArrayName) {\n        var id = $(e).attr('id');\n        var obj = {\n            id: $(e).val()\n        };\n\n        if ($(e).val() == 0 \u0026\u0026 $('#' + id + '_custom').is(':visible')) {\n            obj['value'] = $('#' + id + '_custom').val();\n        } else if ($(e).val() !== '') {\n            obj['value'] = $(e).find(':selected').data('value');\n        }\n\n        formData[cfArrayName][$(e).attr(\"data-id\")] = '';\n        if (obj.value !== undefined) {\n            formData[cfArrayName][$(e).attr(\"data-id\")] = JSON.stringify([obj]);\n        }\n    };\n\n    LoteCfForm.prototype.getOptionMultiValue = function (formData, e, cfArrayName) {\n        var id = $(e).attr('id');\n        var baseObj = [];\n        if ($(e).val() !== null) {\n            $.each($(e).val(), function (index, itemId) {\n                var obj = {\n                    id: itemId,\n                    value: ''\n                };\n\n                var itemValid = true;\n                if (itemId == 0 \u0026\u0026 $('#' + id + \"_custom\").is(':visible')) {\n                    var customInput = $('#' + id + \"_custom\").val();\n                    obj['value'] = customInput;\n                    itemValid = customInput !== '';\n                } else {\n                    obj['value'] = $('#' + id + '_option_' + itemId).data('value');\n                }\n\n                if (itemValid) {\n                    baseObj.push(obj);\n                }\n            });\n        }\n\n        formData[cfArrayName][$(e).attr(\"data-id\")] = '';\n        if (baseObj.length \u003e 0) {\n            formData[cfArrayName][$(e).attr(\"data-id\")] = JSON.stringify(baseObj);\n        }\n    };\n\n    var customBaseObjectRemove = [];\n\n    LoteCfForm.prototype.getMultiCheckboxValue = function (formData, e, cfArrayName) {\n        var baseObj = [];\n        $.each($(e).find('input[type=\"checkbox\"]'), function (index, item) {\n            var obj = {};\n            if ($(item).is(':checked')) {\n                obj['id'] = $(item).val();\n\n                var itemValid = true;\n                var cfField = $('#cf_field_edit_' + $(e).data('id') + '_custom');\n                if ($(item).val() === 0 \u0026\u0026 cfField.is(':visible')) {\n                    var customInput = cfField.val();\n                    obj['value'] = customInput;\n                    itemValid = customInput !== '';\n                } else {\n                    obj['value'] = $(item).data('value');\n                }\n\n                if (itemValid) {\n                    baseObj.push(obj);\n                }\n            } else {\n                obj['id'] = $(item).data('id');\n                customBaseObjectRemove.push(obj);\n            }\n\n        });\n        if (baseObj.length \u003e 0) {\n            formData[cfArrayName][$(e).attr(\"data-id\")] = JSON.stringify(baseObj);\n        }\n        if (baseObj.length === 0 \u0026\u0026 customBaseObjectRemove.length \u003e 0) {\n            console.log(\"Remove object\", e);\n            formData['_custom_remove'] = JSON.stringify(customBaseObjectRemove);\n        }\n    };\n\n    function loteCfEditBeforeSerialise(parentForm)\n    {\n        var f = new LoteCfForm();\n        f.beforeCfSerialise(parentForm);\n    }\n\n    function loteCfEditBeforeSubmit(parentForm)\n    {\n        var f = new LoteCfForm();\n        return f.beforeCfSubmit(parentForm);\n    }\n\n    async function getLoteCfEditValues(formData, cfArrayName, parentForm) {\n        formData[cfArrayName] = {};\n        var f = new LoteCfForm();\n        if (parentForm) {\n            await f.getFormCfValues(formData, cfArrayName, parentForm);\n        }\n        else {\n            await f.getCfValues(formData, cfArrayName);\n        }\n        return formData;\n    }\n\n\n    LoteCfForm.prototype.getFormCfValues = function (formData, cfArrayName, parentForm) {\n        $(parentForm).find(\".custom_field_edit\").each(function (i, e) {\n            var f = $(e).data('function');\n            if (f \u0026\u0026 typeof LoteCfForm.prototype[f] == 'function') {\n                LoteCfForm.prototype[f](formData, e, cfArrayName);\n            }\n        });\n    };\n\n\n    LoteCfForm.prototype.beforeCfSerialise = function (parentForm) {\n        $(parentForm).find(\".custom_field_edit\").each(function (i, e) {\n            var f = $(e).data('serialise-function');\n            if (f \u0026\u0026 typeof LoteCfForm.prototype[f] == 'function') {\n                LoteCfForm.prototype[f](parentForm, e);\n            }\n        });\n    };\n\n    LoteCfForm.prototype.beforeCfSubmit = function (parentForm) {\n        var fields = [];\n        var emptyFields = [];\n        $(parentForm).find('input[type=\"radio\"].custom_field_edit.required').each(function (i, e) {\n            if($(e).is(':checked')) {\n                fields[$(e).attr('name')] = 'required';\n            }\n        });\n        $(parentForm).find('input[type=\"radio\"].custom_field_edit.required').each(function (i, e) {\n            if($(e).is(':checked')) {\n\n            } else {\n                if($(e).attr('name') != undefined \u0026\u0026 fields[$(e).attr('name')] == undefined) emptyFields[$(e).attr('name')] = 'required';\n            }\n        });\n        setCfErrors(emptyFields, parentForm);\n        if(emptyFields.length \u003e 0) {\n            $('.form_buttons').show();\n            $('.form_processing').hide();\n            return false;\n        }\n    };\n\n    LoteCfForm.prototype.beforeCfSerialisePublicGroup = function (formData, e, cfArrayName) {\n        var name = $(e).data('name');\n        var publicGroups = {};\n        $(e).parent().find('input[data-key=\"' + name + '\"]').each(function (i, el) {\n            if($(el).is(\":checked\")){\n                publicGroups[$(el).attr(\"data-value\")] = \"1\";\n            }\n            else {\n                publicGroups[$(el).attr(\"data-value\")] = \"0\";\n            }\n        });\n        $(e).val(JSON.stringify(publicGroups));\n    };\n\n    LoteCfForm.prototype.beforeCfSerialiseMediaFile = function (formData, e, cfArrayName) {\n        var container = jQuery(e).closest('.media_field_container');\n        var numInProgress = jQuery('li.qq-in-progress', container).length;\n        if(numInProgress \u003e 0) {\n            jQuery(e).val(\"in-progress\");\n        } else {\n            jQuery(e).val(jQuery(e).attr('data-media-files'));\n        }\n    };\n\n    LoteCfForm.prototype.beforeCfSerialiseMatrix = function (formData, e, cfArrayName) {\n        var values = {};\n        var id = $(e).data('id');\n        var matrixType = $(e).data('matrix-type');\n        if(matrixType==\"radio\" || matrixType==\"checkbox\") {\n            $(e.form).find('input[data-id=\"matrix_'+matrixType+'_' + id + '\"]').each(function (i, el) {\n                if ($(el).is(\":checked\")) {\n                    if(typeof(values[$(el).data(\"matrix-row\")]) == 'undefined') {\n                        values[$(el).data(\"matrix-row\")] = {};\n                    }\n                    values[$(el).data(\"matrix-row\")][$(el).data(\"matrix-column\")] = 1;\n                }\n            });\n        }\n        else {\n            $(e.form).find('input[data-id=\"matrix_text_' + id + '\"]').each(function (i, el) {\n                if($(el).val()) {\n                    if(typeof(values[$(el).data(\"matrix-row\")]) == 'undefined') {\n                        values[$(el).data(\"matrix-row\")] = {};\n                    }\n                    values[$(el).data(\"matrix-row\")][$(el).data(\"matrix-column\")] = $(el).val();\n                }\n            });\n        }\n        $(e).val(JSON.stringify(values));\n    };\n\n    LoteCfForm.prototype.beforeCfSerialiseRecaptcha = function (parentForm, e) {\n        var dataElement = $('#' + $(e).data('id'));\n        $(dataElement).val(grecaptcha.getResponse());\n    };\n\n    LoteCfForm.prototype.beforeCfSerialiseDate = function (parentForm, e) {\n        var id = $(e).attr('id');\n        $(e).val($('#' + id + '_date_alt').val());\n    };\n\n    LoteCfForm.prototype.beforeCfSerialiseTime = function (parentForm, e) {\n        var id = $(e).attr('id');\n        var element = $('#' + id + '_time');\n        var time = timepickiConvert(element);\n        $(e).val(time);\n    };\n\n    LoteCfForm.prototype.beforeCfSerialiseDateTime = function (formData, e, cfArrayName) {\n        var id = $(e).attr('id');\n        var element = $('#' + id + '_time');\n        var time = timepickiConvert(element);\n\n        var value = null;\n        var date = $('#' + id + '_date_alt').val();\n        if (date \u0026\u0026 time) {\n            value = date + ' ' + time;\n        }\n        else if (date) {\n            value = date;\n        }\n        else if (time) {\n            value = time;\n        }\n        $(e).val(value);\n    };\n    LoteCfForm.prototype.beforeCfSerialiseSignature = function (formData, e, cfArrayName) {\n\n    };\n\n    LoteCfForm.prototype.beforeCfSerialiseMultiSelect = function (parentForm, e) {\n        var id = $(e).attr('id');\n        var baseObj = [];\n        if ($(e).val() !== null) {\n            $.each($(e).val(), function (index, itemId) {\n                var obj = {\n                    id: itemId,\n                    value: ''\n                };\n\n                var itemValid = true;\n                if (itemId == 0 \u0026\u0026 $('#' + id + \"_custom\").is(':visible')) {\n                    var customInput = $('#' + id + \"_custom\").val();\n                    obj['value'] = customInput;\n                    itemValid = customInput !== '';\n                } else {\n                    obj['value'] = $('#' + id + '_option_' + itemId).data('value');\n                }\n\n                if (itemValid) {\n                    baseObj.push(obj);\n                }\n            });\n        }\n\n        var dataField = $(parentForm).find(\"input[name='\"+$(e).data('id')+\"']\");\n        if (baseObj.length \u003e 0) {\n            dataField.val(JSON.stringify(baseObj));\n        }\n    };\n\n\n    LoteCfForm.prototype.beforeCfSerialiseCheckBox = function (parentForm, e) {\n        var id = $(e).attr('id');\n        var dataField = $(parentForm).find(\"input[name='\" + $(e).data('id') + \"']\");\n        var baseObj = [];\n        $.each($(e).find('input[type=\"checkbox\"]'), function (index, item) {\n            var obj = {};\n            if ($(item).is(':checked')) {\n                obj['id'] = $(item).val();\n\n                var itemValid = true;\n                if ($(item).val() == 0 \u0026\u0026 $('#cf_field_edit_' + $(e).data('id') + '_custom').is(':visible')) {\n                    var customInput = $('#cf_field_edit_' + $(e).data('id') + '_custom').val();\n                    obj['value'] = customInput;\n                    itemValid = customInput !== '';\n                } else {\n                    obj['value'] = $(item).data('value');\n                }\n\n                if (itemValid) {\n                    baseObj.push(obj);\n                }\n            }\n        });\n        if (baseObj.length \u003e 0) {\n            dataField.val(JSON.stringify(baseObj));\n        }\n    };\n\n\n    LoteCfForm.prototype.beforeCfSerialiseRadioButton = function (parentForm, e) {\n        var id = $(e).attr('id');\n        var dataField = $(parentForm).find(\"input[name='\" + $(e).data('id') + \"']\");\n        var baseObj = [];\n        $.each($(e).find('input[type=\"radio\"]'), function (index, item) {\n            var obj = {};\n            if ($(item).is(':checked')) {\n                obj['id'] = $(item).val();\n\n                var itemValid = true;\n                if ($(item).val() == 0 \u0026\u0026 $('#cf_field_edit_radio_' + $(e).data('id') + '_custom').is(':visible')) {\n                    var customInput = $('#cf_field_edit_radio_' + $(e).data('id') + '_custom').val();\n                    obj['value'] = customInput;\n                    itemValid = customInput !== '';\n                } else {\n                    obj['value'] = $(item).data('value');\n                }\n\n                if (itemValid) {\n                    baseObj.push(obj);\n                }\n            }\n        });\n        if (baseObj.length \u003e 0) {\n            dataField.val(JSON.stringify(baseObj));\n        } else {\n            dataField.val(\"\");\n        }\n    };\n\n\n    LoteCfForm.prototype.beforeCfSerialiseSingleSelect = function (parentForm, e) {\n        var id = $(e).attr('id');\n        var dataField = $(parentForm).find(\"input[name='\"+$(e).data('id')+\"']\");\n        var obj = {\n            id: $(e).val()\n        };\n\n        var itemValid = true;\n        if ($(e).val() == '0' \u0026\u0026 $('#' + id + '_custom').is(':visible')) {\n            var customInput = $('#' + id + '_custom').val();\n            obj['value'] = customInput;\n            itemValid = customInput !== '';\n        } else if ($(e).val() !== '') {\n            obj['value'] = $(e).find(':selected').data('value');\n        } else {\n            itemValid = false;\n        }\n\n        var baseObj = [obj];\n\n        if (itemValid) {\n            dataField.val(JSON.stringify(baseObj));\n        }\n    };\n\n\n\n\n\n    function setCfErrors(errors, form) {\n        for (var f in errors) {\n            if (form) {\n                var htmlError = document.createElement('div');\n                htmlError.textContent = 'There are errors within your form. Please check that all your mandatory fields are completed.';\n                htmlError.setAttribute('class','errorDiv');\n\n                $(form).find('#cf_field_edit_error_' + f).html(errors[f]).closest('.fwrp').addClass('fer');\n                if ($('div.errorDiv').length) {\n\n                } else {\n                    $(form).find('.form_buttons').prepend(htmlError);\n                }\n            }\n            else {\n                $('#cf_field_edit_error_' + f).html(errors[f]).closest('.fwrp').addClass('fer');\n            }\n        }\n\n    }\n\n    function setFormProcessing(form, isProcessing, isBack) {\n        if (isProcessing) {\n            if(isBack){\n                $(form).addClass(\"is-processing-back\");\n            }\n            else{\n                $(form).find('input[type=\"submit\"], button[type=\"submit\"]').prop('disabled', true).addClass(\"loading\");\n                $(form).addClass(\"is-processing\");\n            }\n        }\n        else {\n            if(isBack){\n                $(form).removeClass(\"is-processing-back\");\n            }\n            else{\n                $(form).find('input[type=\"submit\"], button[type=\"submit\"]').prop('disabled', false).removeClass(\"loading\");\n                $(form).removeClass(\"is-processing\");\n            }\n        }\n    }\n\n    $(function() {\n        $('.only_one_radio').off().on('click', function() {\n            $('.only_one_radio').prop('checked', false);\n            $(this).prop('checked', true);\n        });\n    });\n\n\n\u003c/script\u003e\u003cscript type=\"text/javascript\"\u003e\n\n    function setupFormButtons(formId, recordId, nextPage, prevPage, formInstance)\n    {\n        setupPrevButton(formId, recordId, prevPage, formInstance);\n        setupFormSubmit(formId, recordId, nextPage, formInstance);\n        $('#lote_form_'+formId+' .lote_form_main button[type=submit], .lote_form_main input[type=button]').off().on('click', function(e) {\n            e.preventDefault();\n            var thisForm = $(\"#lote_form_\"+formId);\n            /*\n            $('#lote_form_'+formId+' .form_buttons .btn').addClass('greyed_out');\n            $('#lote_form_'+formId+' .form_buttons .btn').prop('disabled', true);\n            $(this).addClass('loading');\n            */\n            if(typeof(formInstance) != 'undefined' \u0026\u0026 formInstance != '') {\n                thisForm = $(\"[id='lote_form_\"+formId+\"'][data-form-instance='\"+formInstance+\"']\");\n            }\n            if($(this).hasClass(\"form_prev_button_\"+formId)) {\n                goToFormPage(formId, recordId, prevPage, true);\n            } else {\n                thisForm.submit();\n            }\n        });\n    }\n\n    function setupPrevButton(formId, recordId, prevPage, formInstance)\n    {\n        setupProgressClick(formId, recordId);\n    }\n\n    function setupFormSubmit(formId, recordId, nextPage, formInstance)\n    {\n        var thisForm = $(\"#lote_form_\"+formId);\n        if(typeof(formInstance) != 'undefined' \u0026\u0026 formInstance != '') {\n            thisForm = $(\"[id='lote_form_\"+formId+\"'][data-form-instance='\"+formInstance+\"']\");\n        }\n        var options = {\n            url: 'https://www.heath.derbyshire.sch.uk/form/submit.json',\n            dataType : \"json\",\n            type: \"POST\",\n            data : { submit_url : window.location.href, group_id : $(thisForm).find(\".group_id\").val(), '_lote_form_module' : '1' },\n            success:    function(json) {\n                clearFormErrors();\n                if (json.success) {\n                    if(json.completed) {\n                        completeForm(thisForm, formId, json.record_id, formInstance, json);\n                    }\n                    else {\n                        goToFormPage(formId, json.record_id, json.next_page, false);\n                    }\n                }\n                else if(json.error) {\n                    setFormProcessing(thisForm, false);\n                    alert(json.error);\n                }\n                else {\n                    $('#lote_form_'+formId+' .form_buttons .btn').removeClass('greyed_out');\n                    $('#lote_form_'+formId+' .form_buttons .btn').removeClass('loading');\n                    $('#lote_form_'+formId+' .form_buttons .btn').prop('disabled', false);\n                    setCfErrors(json.errors, thisForm);\n                    setAdditionalFormErrors(json.additional_form_errors);\n                    setFormProcessing(thisForm, false);\n                }\n                var fName = \"onLoteFormSubmitCallback\"+formId;\n                if (typeof window[fName] === \"function\") {\n                    window[fName](formId, thisForm, json);\n                }\n            },\n            error: function (request, status, error) {\n                if (request.status) {\n                    alert('Error: ' + request.status + '\\\\n' + request.statusText);\n                }\n                setFormProcessing(thisForm, false);\n            },\n            beforeSerialize: function($form, options) {\n                loteCfEditBeforeSerialise(thisForm);\n            },\n            beforeSubmit: function(formData, jqForm, options) {\n                var fName = \"getAdditionalFormData\"+formInstance;\n                if (typeof window[fName] === \"function\") {\n                    window[fName](formData);\n                }\n                setFormProcessing(thisForm, true);\n                return loteCfEditBeforeSubmit(thisForm);\n            }\n\n        };\n        $(thisForm).ajaxForm(options);\n    }\n\n    function setAdditionalFormErrors(additionalFormErrors)\n    {\n        for(formErrors in additionalFormErrors) {\n            for (var f in additionalFormErrors[formErrors]) {\n                $('#' + f + '_error').html(additionalFormErrors[formErrors][f][0]).parent().addClass('fer');\n            }\n        }\n\n    }\n\n\n    function setupProgressClick(formId, recordId) {\n\n        $('#save_progress').off('click').on('click', function() {\n            var form = $(\"#lote_form_\"+formId);\n            var formData = {} ;\n            getLoteCfEditValues(formData,'_fields', $(this).parents());\n\n            formData['id'] = formId;\n            formData['submit_url'] = window.location.href;\n            formData['group_id'] = $(form).find(\".group_id\").val();\n            formData['record_id'] = $(form).find(\"#record_id\").val();\n            formData['current_page'] = $(form).find(\"#group_id\").val();\n\n            $.ajax({\n                url: 'https://www.heath.derbyshire.sch.uk/form/saveprogress.json',\n                method: 'POST',\n                data: formData,\n                success: function (json) {\n                    clearFormErrors();\n                    if (json.success) {\n                        $('#record_id').val(json.record_id);\n                        alert('Progress Saved');\n                    } else if(json.error) {\n                        alert(json.error);\n                    }\n                },\n                error: function (request, status, error) {\n                    if (request.status) {\n                        alert('Error: ' + request.status + '\\\\n' + request.statusText);\n                    }\n                }\n            });\n\n            return false;\n        });\n    }\n\n\n    function clearFormErrors() {\n        $('.fermsg').html('');\n        $('.fwrp').removeClass(\"fer\");\n        $('.errorDiv').remove();\n    }\n\n    function completeForm(form, formId, recordId, formInstance, rawJsonResponse) {\n        \n        var customCallbackName = 'onLoteFormCompletedCallback'+formId;\n\n        if (typeof(callback) != 'undefined' \u0026\u0026 typeof window[callback] === \"function\") {\n            window[callback](formId, recordId);\n        }\n        else if (typeof window[customCallbackName] === \"function\") {\n            window[customCallbackName](formId, recordId);\n        } else if (rawJsonResponse.redirect_url !== undefined) {\n            window.location = rawJsonResponse.redirect_url;\n        } else {\n                        var form = $(\"#lote_form_\"+formId);\n            if(typeof(formInstance) != 'undefined' \u0026\u0026 formInstance != '') {\n                var form = $(\"[id='lote_form_\"+formId+\"'][data-form-instance='\"+formInstance+\"']\");\n            }\n            var formData = {} ;\n            getLoteCfEditValues(formData,'_fields', form);\n            formData['id'] = formId;\n            formData['submit_url'] = window.location.href;\n            formData['group_id'] = $(form).find(\".group_id\").val();\n            formData['record_id'] = recordId;\n            formData['current_page'] = $(form).find(\"#group_id\").val();\n\n            $.ajax({\n                url: 'https://www.heath.derbyshire.sch.uk/form/confirmation/2.shtml',\n                method: 'POST',\n                data : formData,\n                success: function (html) {\n                    $('.lote_form_completed', form).html(html);\n                },\n                error: function (request, status, error) {\n                    if (request.status) {\n                        alert('Error: ' + request.status + '\\\\n' + request.statusText);\n                    }\n                }\n            });\n                        $(form).find(\".lote_form_main\").hide();\n            $(form).parent().find(\".lote_form_completed\").show();\n            $('html, body').animate({\n                scrollTop:  $(form).parent().offset().top - 200\n            }, 500);\n            var thisForm = $(\"#lote_form_\"+formId);\n            setFormProcessing(thisForm, false);\n\n        }\n    }\n\n    function goToFormPage(formId, recordId, page, isBack) {\n        var thisForm = $(\"#lote_form_\"+formId);\n        if(isBack){\n            setFormProcessing(thisForm, true, true);\n        }\n        $.get( \"https://www.heath.derbyshire.sch.uk/form/page/\" + formId + \"/\" + page + \"/\" + recordId + \".shtml\", function( data ) {\n            var loteForm = $(\"#lote_form_\" + formId);\n            loteForm.find('.lote_form_main').html(data);\n            if(isBack){\n                setFormProcessing(thisForm, false, true);\n            }\n            else{\n                setFormProcessing(thisForm, false);\n            }\n\n            $('html, body').animate({\n                scrollTop: Math.max(loteForm.offset().top - 150, 0)\n            }, 350);\n\n\n        });\n    }\n\n\n\u003c/script\u003e    \u003cdiv class=\"form_wrap clearfix container content-wrap\"\u003e\n        \u003cdiv class=\"form_h2_name emspace h20\"\u003e\u003c/div\u003e\n\n        \u003ch2 class=\"form_h2_name\"\u003eContact Us\u003c/h2\u003e\n        \u003cdiv class=\"form_h2_name emspace h10\"\u003e\u003c/div\u003e\n\n        \u003cform id=\"lote_form_2\" autocomplete=\"off\" class=\"fom hide-title\" enctype=\"multipart/form-data\" data-form-instance=\"\" novalidate=\"novalidate\"\u003e\n            \u003cdiv class=\"lote_form_main\"\u003e\n                \u003cdiv class=\"lote_form_msg\"\u003e\u003c/div\u003e\n\u003cdiv id=\"lote_form_additional_fields\"\u003e\n    \u003c/div\u003e\n\u003cdiv class=\"lote_form_page_fields\"\u003e\n\t    \u003cinput type=\"hidden\" class=\"group_id\" value=\"6\"\u003e\n                    \t\t\t\u003cdiv class=\"form_question_wrapper\"\u003e\n\t\t\t            \t\u003cdiv class=\"form-group fwrp \"\u003e\n            \u003clabel for=\"cf_field_edit_27\"\u003eFirst Name   *\u003c/label\u003e\n            \u003cinput type=\"text\" class=\"auto_complete_field custom_field_edit form-control\" id=\"cf_field_edit_27\" name=\"27\" data-function=\"getTextValue\" data-id=\"27\" data-group=\"6\" value=\"\"\u003e\n            \u003cdiv class=\"form_description\"\u003e\n        \u003cdiv class=\"form_description\"\u003e\n            \n        \u003c/div\u003e\n    \u003c/div\u003e\n        \u003cdiv class=\"fermsg\" id=\"cf_field_edit_error_27\"\u003e\u003c/div\u003e\n\u003c/div\u003e\n\t\t\t\t\t\t\u003c/div\u003e\n                            \t\t\t\u003cdiv class=\"form_question_wrapper\"\u003e\n\t\t\t            \t\u003cdiv class=\"form-group fwrp \"\u003e\n            \u003clabel for=\"cf_field_edit_28\"\u003eLast Name   *\u003c/label\u003e\n            \u003cinput type=\"text\" class=\"auto_complete_field custom_field_edit form-control\" id=\"cf_field_edit_28\" name=\"28\" data-function=\"getTextValue\" data-id=\"28\" data-group=\"6\" value=\"\"\u003e\n            \u003cdiv class=\"form_description\"\u003e\n        \u003cdiv class=\"form_description\"\u003e\n            \n        \u003c/div\u003e\n    \u003c/div\u003e\n        \u003cdiv class=\"fermsg\" id=\"cf_field_edit_error_28\"\u003e\u003c/div\u003e\n\u003c/div\u003e\n\t\t\t\t\t\t\u003c/div\u003e\n                            \t\t\t\u003cdiv class=\"form_question_wrapper\"\u003e\n\t\t\t            \t\u003cdiv class=\"form-group fwrp \"\u003e\n            \u003clabel for=\"cf_field_edit_30\"\u003eEmail  *\u003c/label\u003e\n            \u003cinput type=\"email\" class=\"custom_field_edit form-control\" id=\"cf_field_edit_30\" name=\"30\" data-function=\"getTextValue\" data-id=\"30\" data-group=\"6\" value=\"\"\u003e\n                \u003cdiv class=\"form_description\"\u003e\n            \n        \u003c/div\u003e\n        \u003cdiv class=\"fermsg\" id=\"cf_field_edit_error_30\"\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\t\t\t\t\t\t\u003c/div\u003e\n                            \t\t\t\u003cdiv class=\"form_question_wrapper\"\u003e\n\t\t\t            \t\u003cdiv class=\"form-group fwrp \"\u003e\n            \u003clabel for=\"cf_field_edit_42\"\u003eMobile Phone  \u003c/label\u003e\n            \u003cinput type=\"text\" class=\"auto_complete_field custom_field_edit form-control\" id=\"cf_field_edit_42\" name=\"42\" data-function=\"getTextValue\" data-id=\"42\" data-group=\"6\" value=\"\"\u003e\n            \u003cdiv class=\"form_description\"\u003e\n        \u003cdiv class=\"form_description\"\u003e\n            \n        \u003c/div\u003e\n    \u003c/div\u003e\n        \u003cdiv class=\"fermsg\" id=\"cf_field_edit_error_42\"\u003e\u003c/div\u003e\n\u003c/div\u003e\n\t\t\t\t\t\t\u003c/div\u003e\n                            \t\t\t\u003cdiv class=\"form_question_wrapper\"\u003e\n\t\t\t            \t\u003cdiv class=\"form-group fwrp \"\u003e\n            \u003clabel for=\"cf_field_edit_31\"\u003eMessage  *\u003c/label\u003e\n            \u003ctextarea class=\"custom_field_edit form-control\" id=\"cf_field_edit_31\" name=\"31\" data-function=\"getTextValue\" data-id=\"31\" data-group=\"6\"\u003e\u003c/textarea\u003e\n                \u003cdiv class=\"form_description\"\u003e\n            \n        \u003c/div\u003e\n        \u003cdiv class=\"fermsg\" id=\"cf_field_edit_error_31\"\u003e\u003c/div\u003e\n\u003c/div\u003e\n\n\t\t\t\t\t\t\u003c/div\u003e\n                            \t\t\t\u003cdiv class=\"form_question_wrapper\"\u003e\n\t\t\t            \t\u003cdiv class=\"form-group fwrp \"\u003e\n\t\u003cscript src=\"https://www.google.com/recaptcha/api.js\"\u003e\u003c/script\u003e\n\t\u003cdiv class=\"g-recaptcha custom_field_edit\" data-sitekey=\"6LeZNsoZAAAAAC_atze0mLyfoGUm4ICz_xBWIl7d\" id=\"cf_field_edit_64\" data-function=\"getRecaptchaValue\" data-serialise-function=\"beforeCfSerialiseRecaptcha\" data-id=\"64\" data-group=\"6\"\u003e\u003cdiv style=\"width: 304px; height: 78px;\"\u003e\u003cdiv\u003e\u003ciframe title=\"reCAPTCHA\" width=\"304\" height=\"78\" role=\"presentation\" name=\"a-c0f2reqzvtrp\" frameborder=\"0\" scrolling=\"no\" sandbox=\"allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox allow-storage-access-by-user-activation\" src=\"https://www.google.com/recaptcha/api2/anchor?ar=1\u0026amp;k=6LeZNsoZAAAAAC_atze0mLyfoGUm4ICz_xBWIl7d\u0026amp;co=aHR0cHM6Ly93d3cuaGVhdGguZGVyYnlzaGlyZS5zY2gudWs6NDQz\u0026amp;hl=en\u0026amp;v=jdMmXeCQEkPbnFDy9T04NbgJ\u0026amp;size=normal\u0026amp;anchor-ms=20000\u0026amp;execute-ms=15000\u0026amp;cb=7hs8m9grnhxd\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003ctextarea id=\"g-recaptcha-response\" name=\"g-recaptcha-response\" class=\"g-recaptcha-response\" style=\"width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;\"\u003e\u003c/textarea\u003e\u003c/div\u003e\u003ciframe style=\"display: none;\"\u003e\u003c/iframe\u003e\u003c/div\u003e\n    \u003cdiv class=\"fermsg\" id=\"cf_field_edit_error_64\"\u003e\u003c/div\u003e\n    \u003cinput name=\"64\" type=\"hidden\" id=\"64\"\u003e\n\u003c/div\u003e\n\n\t\t\t\t\t\t\u003c/div\u003e\n            \u003c/div\u003e\n\n\u003cdiv class=\"emspace h20 bod\"\u003e\u003c/div\u003e\n\u003cdiv class=\"fwrp bod\"\u003e\n\n    \u003cdiv class=\"form_buttons\"\u003e\n\t    \t    \t                \u003cbutton type=\"submit\" class=\"nomargin button button-large button-rounded submit_button\"\u003e\u003cspan\u003eSubmit\u003c/span\u003e\u003ci class=\"fa fa-spinner fa-spin fa-2x fa-fw progress-ind\"\u003e\u003c/i\u003e\u003c/button\u003e\n\t    \t    \u003cinput type=\"hidden\" name=\"id\" value=\"2\" id=\"form_id\"\u003e\n\t    \u003cinput type=\"hidden\" name=\"record_id\" value=\"\" id=\"record_id\"\u003e\n\t    \u003cinput type=\"hidden\" name=\"instance\" value=\"\" id=\"instance\"\u003e\n    \u003c/div\u003e\n    \u003cdiv class=\"form_processing\"\u003e\n        \u003cbutton\u003e\u003cdiv class=\"form_loader\"\u003eLoading...\u003c/div\u003e\u003c/button\u003e\n    \u003c/div\u003e\n\n\u003c/div\u003e\n\n\u003cscript type=\"text/javascript\"\u003e\n    $(function(){\n        setupFormButtons('2', '', '', '', '');\n\n\t\t    });\n\u003c/script\u003e            \u003c/div\u003e\n            \u003cdiv class=\"lote_form_completed\" style=\"display: none;\"\u003e\n                                    \u003cp\u003eThank you for contacting us. Your submission was successful.\u003c/p\u003e\n                            \u003c/div\u003e\n        \u003c/form\u003e\n    \u003c/div\u003e\n\n\n\u003c/div\u003e\n\n    \n                    \n\u003cdiv id=\"tiles_2\" class=\"portfolio portfolio-nomargin grid-container portfolio-notitle portfolio-full grid-container clearfix\"\u003e\n    \u003carticle class=\"portfolio-item pf-media pf-icons\"\u003e\u003cdiv class=\"portfolio-image\"\u003e\n            \u003ca href=\"/contact\"\u003e\n                \u003cimg src=\"/images/contact_tile.jpg\" alt=\"Contact Us\"\u003e\u003cdiv class=\"portfolio-overlay\"\u003e\u003c/div\u003e\n            \u003c/a\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\"portfolio-desc\"\u003e\n            \u003ch3\u003e\u003ca href=\"/contact\"\u003eContact Us\u003c/a\u003e\u003c/h3\u003e\n            \u003cspan\u003eGet help with your enquiry\u003c/span\u003e        \u003c/div\u003e\n    \u003c/article\u003e\u003carticle class=\"portfolio-item pf-media pf-icons\"\u003e\u003cdiv class=\"portfolio-image\"\u003e\n            \u003ca href=\"https://twitter.com/HPSDerbyshire\"\u003e\n                \u003cimg src=\"/images/twitter_tile.jpg\" alt=\"Twitter\"\u003e\u003cdiv class=\"portfolio-overlay\"\u003e\u003c/div\u003e\n            \u003c/a\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\"portfolio-desc\"\u003e\n            \u003ch3\u003e\u003ca href=\"https://twitter.com/HPSDerbyshire\"\u003eTwitter\u003c/a\u003e\u003c/h3\u003e\n            \u003cspan\u003eLearn more about us\u003c/span\u003e        \u003c/div\u003e\n    \u003c/article\u003e\u003carticle class=\"portfolio-item pf-media pf-icons\"\u003e\u003cdiv class=\"portfolio-image\"\u003e\n            \u003ca href=\"https://heathprimary.plus.co.uk/calendar/1\"\u003e\n                \u003cimg src=\"/images/hop1_slide3.jpg\" alt=\"School Calendar\"\u003e\u003cdiv class=\"portfolio-overlay\"\u003e\u003c/div\u003e\n            \u003c/a\u003e\n        \u003c/div\u003e\n        \u003cdiv class=\"portfolio-desc\"\u003e\n            \u003ch3\u003e\u003ca href=\"https://heathprimary.plus.co.uk/calendar/1\"\u003eSchool Calendar\u003c/a\u003e\u003c/h3\u003e\n            \u003cspan\u003eWhat's upcoming in the school?\u003c/span\u003e        \u003c/div\u003e\n    \u003c/article\u003e\u003c/div\u003e\n\n        \n    \n\n\u003c/section\u003e\n\n\n\n\n    \n\n\n\n\u003cfooter id=\"footer\" class=\"footer4 primaryBg dark\"\u003e\n\t\u003cdiv class=\"container\"\u003e\n\n\t\t\t\u003cdiv class=\"row\"\u003e\n\t\t\t\t\u003cdiv class=\"col-sm-4\"\u003e\n\t\t\t\t\t\t\u003cp\u003e\n\t\t\t\t\t\t\u003cstrong\u003ePhone:\u003c/strong\u003e 01246 850277\u003cbr\u003e\t\t\t\t\t\t\t\t\t\t\t\t\t\tSlack Lane\u003cbr\u003e\n\t\t\t\t\t\t\tHeath Chesterfield S44 5RH\n\t\t\t\t\t\t\u003c/p\u003e\n\t\t\t\t\t\u003cp class=\"policies\"\u003e\n\t\t\t\t\t\t\t\t\t\t\t\t\t\u003ca href=\"/privacy\" title=\"Privacy Policy\"\u003ePrivacy Policy\u003c/a\u003e /\t\t\t\t\t\t\t\t\t\t\t\t\t\u003ca href=\"/cookie\" title=\"Cookie Policy\"\u003eCookie Policy\u003c/a\u003e /\t\t\t\t\t\t\t\t\t\t\t\t\t\u003ca href=\"/site-map\" title=\"Site Map\"\u003eSite Map\u003c/a\u003e \t\t\t\t\t\t\t\t\t\t\t\t\u003cbr\u003e\n\n\n\t\t\t\t\t\t\t\t\t\t\tCopyrights  2025 All Rights Reserved by Heath Primary School\u003c/p\u003e\n\t\t\t\t\t\n\t\t\t\t\u003c/div\u003e\n\t\t\t\t\u003cdiv class=\"col-sm-8\"\u003e\n\n\t\t\t\t\t\u003cdiv class=\"dflex justifyend\"\u003e\n    \u003ca href=\"https://twitter.com/HPSDerbyshire\" class=\"social-icon si-light si-rounded si-twitter\"\u003e\n        \u003cspan\u003eVisit our Twitter\u003c/span\u003e\n      \t\u003ci class=\"icon-twitter\"\u003e\u003c/i\u003e\n\t\t\u003ci class=\"icon-twitter\"\u003e\u003c/i\u003e\n    \u003c/a\u003e\n\n\n\n \u003c/div\u003e\n\n\t\t\t\t\u003c/div\u003e\n\n\t\t\t\u003c/div\u003e\n\t\u003c/div\u003e\n\u003c/footer\u003e\n\n    \n                    \n\u003cscript\u003e\n\n                    jQuery('.sz-gallery').each(function() {\n                        var array = jQuery(this).attr('data-parameters').split(',');\n                        var parameters = {};\n\n                        jQuery.each(array, function(key, value) {\n                            var split = value.split(':');\n\n                            if (!isNaN(Number(split[1]))) {\n                                split[1] = Number(split[1]);\n                            } else if (split[1] === \"true\" || split[1] === \"false\") {\n                                split[1] = (split[1] === \"true\");\n                            } else {\n                                split[1] = String(split[1]);\n                            }\n                            parameters[split[0]] = split[1];\n                        });\n\n                        jQuery(this).unitegallery(parameters);\n                        jQuery(this).show();\n                    });\n                    $('.read-more-item').each(function(){\n                        var firstPara = $(this).find('p:first').html();\n                        $(this).parent().prepend('\u003cp class=\"articleSummary\"\u003e' + firstPara.substring(0,500) + '...\u003c/p\u003e');\n                    });\n                }\n\t\t\t})\n\n\n\t}\n\n\t$(function(){\n\n        $('.tags_checked').off('change').on(\"change\", function () {\n           executeSearch();\n           console.log('Tags Checked');\n        });\n\n\n\t\t$(\"#search_phrase\").keypress(function (e) {\n\t\t\tif(e.which == 13) { // the enter key code\n\t\t\t\texecuteSearch();\n                console.log('Search Phase');\n\t\t\t}\n\t\t});\n\n        $(\"#search_clear\").click(function(){\n            $(\"#search_phrase\").val(\"\");\n            executeSearch();\n            console.log('Search Clear');\n        });\n\n        $('.clearTags').on('click', function(){\n            $('.tagwrp input:radio').prop(\"checked\", false);\n            executeSearch();\n            console.log('Uncheck');\n        });\n        $('.clearSideTags').on('click', function(){\n            $('aside.sidebar input:radio').prop(\"checked\", false);\n            $('#clearButton').addClass('grey');\n            executeSearch();\n        });\n         $('aside.sidebar label.radio-style-1-label').on('click', function(){\n            $('#clearButton').removeClass('grey');\n         });\n\n         $(document).on('click', '.event-tag, .article-tag', function () {\n             $('input.tags_checked[id=\"radio-' + $(this).attr('id') + '\"]').prop('checked', true);\n             executeSearch();\n         });\n\t});\n\n\u003c/script\u003e\u003c!-- External canvas/functions.js removed - using local /assets/js/functions.js instead --\u003e\n\n\t\u003cscript src=\"/website/custom.js?skin_id=\"\u003e\u003c/script\u003e\n\n\t\u003cscript\u003e\n    var actualCaretPositionBookmark;\n\u003c/script\u003e\n\u003cscript src=\"/assets/js/tinymce.min.js\"\u003e\u003c/script\u003e\n\u003cscript\u003e\n\tfunction setWysiwygValue(id, value) {\n\t\ttinymce.get(id).setContent(value);\n\t}\n    function getWysiwygValue(id) {\n        return tinyMCE.get(id).getContent();\n    }\n\tfunction getWysiwygValuePlainText(id) {\n\t\treturn tinyMCE.get(id).getContent({ format: 'text' });\n\t}\n\tfunction insertIntoWysiwyg(value, id) {\n        if(actualCaretPositionBookmark != undefined) tinyMCE.activeEditor.selection.moveToBookmark(actualCaretPositionBookmark);\n//        console.log(tinyMCE.activeEditor);\n//        //tinyMCE.setActive(id);\n//        tinyMCE.activeEditor.id = id;\n//        console.log(tinyMCE.activeEditor.id);\n//        tinyMCE.execCommand('mceFocus',false,'#'+id);\n        tinyMCE.activeEditor.execCommand('mceInsertContent', false, ' ' + value + ' ');\n\t}\n\tfunction setUpTextEditor(id, isFullPage, toolbar1Custom, cssIncludes, isNewsletter, profile, relativeUrls) {\n\n\t\tvar plugins = [\n\t\t\t\"linkfrontend spellchecker link image external responsivefilemanager jbimages custom email phone sb_url\"\n\t\t];\n\n\t\tvar menubar = false;\n\t\tvar height = \"400px\";\n\t\tif($('#'+id).data('tinymce-height') != undefined) {\n\t\t\theight = $('#'+id).data('tinymce-height');\n\t\t}\n\t\ttoolbarOptions = \"   link | styleselect |  bold italic underline bullist numlist | spellchecker | removeformat  \";\n\t\tif($('#'+id).siblings('div.mce-tinymce').length == 0) {\n\n\t\t\tvar settings = {\n                branding: false,\n\t\t\t\tselector: '#' + id,\n\t\t\t\twidth: \"auto\",\n\t\t\t\theight: height,\n\t\t\t\tstatusbar: true,\n\t\t\t\tresize: \"both\",\n\t\t\t\ttheme: \"modern\",\n\t\t\t\tvalid_elements: \"*[*]\",\n\t\t\t\textended_valid_elements: \"*[*]\",\n                valid_children : \"multiline[a],singleline[a]\",\n\t\t\t\tplugins: plugins,\n\t\t\t\tmenubar: menubar,\n\t\t\t\tcleanup: false,\n\t\t\t\tverify_html: false,\n                toolbar: toolbarOptions,\n\t\t\t\timage_advtab: true,\n\t\t\t\tcontextmenu: \"link image inserttable | cell row column deletetable\",\n\t\t\t\texternal_filemanager_path: \"https://www.heath.derbyshire.sch.uk/theme/_admin/bluetree/js/tinymce/js/filemanager/\",\n\t\t\t\tfilemanager_title: \"File Manager\",\n\t\t\t\texternal_plugins: {\"filemanager\": \"https://www.heath.derbyshire.sch.uk/theme/_admin/bluetree/js/tinymce/js/filemanager/plugin.js\"},\n\t\t\t\timage_list: [],\n                paste_preprocess: function (plugin, args) {\n\n\t\t\t\t\targs.content += '';\n\t\t\t\t},\n\t\t\t\tsetup: function (editor) {\n                    editor.on(\"keyup\", function (editor, e) {\n                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);\n                    });\n                    editor.on(\"click\", function (editor, e) {\n                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);\n                    });\n\t\t\t\t\teditor.on('getContent', function (e) {\n\n                        if (e.content.indexOf(\"\u003ca\") \u003e= 0) {\n                            var data = e.content;\n                            var hrefArr = [];\n                            $(data).find(\"a\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    var text = $(this).text();\n                                    e.content = e.content.replace(text+\"\u003c/a\u003e\", text+'\u003c/lotelink\u003e');\n                                }\n                            });\n                            e.content = e.content.replace(/\\\\\u003ca type=\"page\"/g, '\u003clotelink type=\"page\"');\n                            e.content = e.content.replace(/\\\\\u003ca type=\"file\"/g, '\u003clotelink type=\"file\"');\n                            var data = e.content;\n                            $(data).find(\"a\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    var text = $(this).attr('href');\n                                    e.content = e.content.replace('\u003ca href=\"'+text+'\"', '\u003clotelink href=\"'+text+'\"');\n                                }\n                            });\n                            var data = e.content;\n                            $(data).find(\"a\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    e.content = e.content.replace('\u003ca lote_id=\"'+attr+'\"', '\u003clotelink lote_id=\"'+attr+'\"');\n                                }\n                            });\n                        }\n\t\t\t\t\t});\n                    editor.on('paste', function (e) {\n                        var paste;\n                        if (e.clipboardData.types.indexOf('text/plain') \u003e= 0) {\n                            paste = e.clipboardData.getData('text/plain');\n                        }\n\n                        if (e.clipboardData.types.indexOf('text/html') \u003e= 0) {\n                            var tempPaste = e.clipboardData.getData('text/html');\n                            if (tempPaste.includes('')) { // check if the content is a special type such as actual html, image or file\n                                var regex = new RegExp(\"([^]*)|([^]*)\", \"g\"); // tinymce copy includes full html and body tags, and the actual content is actually between the comments\n                                paste = tempPaste.replace(regex, '');\n                            }\n                        }\n\n                        if (paste !== undefined) {\n                            paste = paste.replace(/\u003cscript[^]*\u003c\\\\/script\u003e/g, ''); // replaces everything in-between and including (\u003cscrip -- \u003c\\\\script\u003e)\n                            e.preventDefault();\n                            insertIntoWysiwyg(paste);\n                        }\n                    });\n\t\t\t\t\teditor.on('paste_preprocess', function (e) {\n\t\t\t\t\t\tconsole.log('paste_preprocess', e.content);\n\t\t\t\t\t});\n\t\t\t\t\teditor.on('beforeSetContent', function (e) {\n                        e.content = e.content.replace(/\u003cp\u003e(\u003ca[^\u003c]*(\u003cimg[^\u003c]*)\u003c\\\\/a\u003e)\u003c\\\\/p\u003e/gi, function (a) {\n                            return a.replace('\u003cp\u003e', '').replace('\u003c/p\u003e', '');\n                        });\n\t\t\t\t\t\tif (e.content.indexOf(\"\u003clotelink\") \u003e= 0) {\n\n                            var data = e.content;\n                            $(data).find(\"lotelink\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    var text = $(this).attr('href');\n                                    e.content = e.content.replace('\u003clotelink href=\"'+text+'\"', '\u003ca href=\"'+text+'\"');\n                                }\n\n                            });\n\n                            var data = e.content;\n                            $(data).find(\"lotelink\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    e.content = e.content.replace('\u003clotelink lote_id=\"'+attr+'\"', '\u003ca lote_id=\"'+attr+'\"');\n                                }\n\n                            });\n\n\t\t\t\t\t\t\te.content = e.content.replace(/\\\\\u003clotelink type=\"img\"/g, '\u003cimg');\n\t\t\t\t\t\t\te.content = e.content.replace(/\\\\\u003clotelink type=\"page\"/g, '\u003ca type=\"page\"');\n\t\t\t\t\t\t\te.content = e.content.replace(/\\\\\u003clotelink type=\"file\"/g, '\u003ca type=\"file\"');\n                            e.content = e.content.replace(/\\\\\u003c\\\\/lotelink\u003e/g, '\u003c/a\u003e');\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\t\t\t\t},\n                spellchecker_language: \"en_GB\",\n                spellchecker_rpc_url: 'spellchecker.php',\n                link_formats: [\"Link To URL\", \"Link To Email\", \"Link To Phone\"],\n                is_campaign: (profile !== undefined \u0026\u0026 profile === \"campaign\"),\n                sz_profile: profile\n\t\t\t};\n\n            if(typeof(toolbar) != 'undefined') {\n                settings.toolbar1 = toolbar1Custom;\n            }\n\n            //Add CSS includes if provided\n            if(cssIncludes) {\n                settings.content_css = cssIncludes;\n            }\n\n            //If newsletter editor...\n            if(isNewsletter) {\n                settings.width = \"800px\";\n                settings.resize = true;\n            }\n\n            if(typeof relativeUrls == 'undefined' || relativeUrls == false) {\n                settings.relative_urls = false;\n                settings.convert_urls = false;\n            }\n\n\t\t\ttinymce.init(settings);\n\t\t}\n\t}\n\n    function setUpTextEditorFrontEnd(id, isFullPage, toolbar1Custom, cssIncludes, isNewsletter, profile, relativeUrls) {\n\n        var plugins = [\n            \"sb_links paste spellchecker textcolor sb_images sb_filemanager sb_table lists\"\n        ];\n\n        var menubar = false;\n        var height = \"400px\";\n        if($('#'+id).data('tinymce-height') != undefined) {\n            height = $('#'+id).data('tinymce-height');\n        }\n        toolbarOptions = \"sb_links | sb_images | table |styleselect |  fontsizeselect forecolor | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | removeformat  \";\n        if($('#'+id).siblings('div.mce-tinymce').length == 0) {\n\n            var settings = {\n                branding: false,\n                selector: '#' + id,\n                width: \"auto\",\n                height: height,\n                statusbar: true,\n                paste_auto_cleanup_on_paste : true,\n                paste_remove_styles: true,\n                paste_remove_styles_if_webkit: true,\n                paste_strip_class_attributes: true,\n                resize: \"both\",\n                theme: \"modern\",\n                valid_elements: \"*[*]\",\n                extended_valid_elements: \"*[*]\",\n                valid_children : \"multiline[a],singleline[a]\",\n                plugins: plugins,\n                menubar: menubar,\n                cleanup: false,\n                verify_html: false,\n                toolbar: toolbarOptions,\n                image_advtab: true,\n                contextmenu: \"link image inserttable | cell row column deletetable\",\n                fontsize_formats: \"8px 9px 10px 11px 12px 14px 16px 18px 20px 24px 36px\",\n                image_list: [],\n                paste_preprocess: function (plugin, args) {\n                    args.content += '';\n                },\n                setup: function (editor) {\n                    editor.on(\"keyup\", function (editor, e) {\n                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);\n                    });\n                    editor.on(\"click\", function (editor, e) {\n                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);\n                    });\n                    editor.on('getContent', function (e) {\n                       \n                        if (e.content.indexOf(\"\u003ca\") \u003e= 0) {\n                            var data = e.content;\n                            var hrefArr = [];\n                            $(data).find(\"a\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    var text = $(this).text();\n                                    e.content = e.content.replace(text+\"\u003c/a\u003e\", text+'\u003c/lotelink\u003e');\n                                }\n                            });\n                            e.content = e.content.replace(/\\\\\u003ca type=\"page\"/g, '\u003clotelink type=\"page\"');\n                            e.content = e.content.replace(/\\\\\u003ca type=\"file\"/g, '\u003clotelink type=\"file\"');\n                            var data = e.content;\n                            $(data).find(\"a\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    var text = $(this).attr('href');\n                                    e.content = e.content.replace('\u003ca href=\"'+text+'\"', '\u003clotelink href=\"'+text+'\"');\n                                }\n                            });\n                            var data = e.content;\n                            $(data).find(\"a\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    e.content = e.content.replace('\u003ca lote_id=\"'+attr+'\"', '\u003clotelink lote_id=\"'+attr+'\"');\n                                }\n                            });\n                        }\n                    });\n                    editor.on('paste', function (e) {\n                        var paste;\n                        if (e.clipboardData.types.indexOf('text/plain') \u003e= 0) {\n                            paste = e.clipboardData.getData('text/plain');\n                        }\n\n                        if (e.clipboardData.types.indexOf('text/html') \u003e= 0) {\n                            var tempPaste = e.clipboardData.getData('text/html');\n                            if (tempPaste.includes('')) { // check if the content is a special type such as actual html, image or file\n                                var regex = new RegExp(\"([^]*)|([^]*)\", \"g\"); // tinymce copy includes full html and body tags, and the actual content is actually between the comments\n                                paste = tempPaste.replace(regex, '');\n                            }\n                        }\n\n                        if (paste !== undefined) {\n                            paste = paste.replace(/\u003cscript[^]*\u003c\\\\/script\u003e/g, ''); // replaces everything in-between and including (\u003cscrip -- \u003c\\\\script\u003e)\n                            e.preventDefault();\n                            insertIntoWysiwyg(paste);\n                        }\n                    });\n                    editor.on('paste_preprocess', function (e) {\n                        console.log('paste_preprocess', e.content);\n                    });\n                    editor.on('beforeSetContent', function (e) {\n\n                        if (e.content.indexOf(\"\u003clotelink\") \u003e= 0) {\n\n                            var data = e.content;\n                            $(data).find(\"lotelink\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    var text = $(this).attr('href');\n                                    e.content = e.content.replace('\u003clotelink href=\"'+text+'\"', '\u003ca href=\"'+text+'\"');\n                                }\n\n                            });\n\n                            var data = e.content;\n                            $(data).find(\"lotelink\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    e.content = e.content.replace('\u003clotelink lote_id=\"'+attr+'\"', '\u003ca lote_id=\"'+attr+'\"');\n                                }\n\n                            });\n\n                            e.content = e.content.replace(/\\\\\u003clotelink type=\"img\"/g, '\u003cimg');\n                            e.content = e.content.replace(/\\\\\u003clotelink type=\"page\"/g, '\u003ca type=\"page\"');\n                            e.content = e.content.replace(/\\\\\u003clotelink type=\"file\"/g, '\u003ca type=\"file\"');\n                            e.content = e.content.replace(/\\\\\u003c\\\\/lotelink\u003e/g, '\u003c/a\u003e');\n\n                        }\n\n                    });\n                },\n                spellchecker_language: \"en_GB\",\n                spellchecker_rpc_url: 'spellchecker.php',\n                is_campaign: (profile !== undefined \u0026\u0026 profile === \"campaign\"),\n                sz_profile: profile\n            };\n\n            if(typeof(toolbar) != 'undefined') {\n                settings.toolbar1 = toolbar1Custom;\n            }\n\n            //Add CSS includes if provided\n            if(cssIncludes) {\n                settings.content_css = cssIncludes;\n            }\n\n            //If newsletter editor...\n            if(isNewsletter) {\n                settings.width = \"800px\";\n                settings.resize = true;\n            }\n\n            if(typeof relativeUrls == 'undefined' || relativeUrls == false) {\n                settings.relative_urls = false;\n                settings.convert_urls = false;\n            }\n\n            settings.sb_links_opts = {\n                link_url: true,\n                link_email: true,\n                link_phone: true\n            };\n\n            settings.sb_images_opts = {\n                link_upload: true,\n                link_external: true\n            };\n\n            tinymce.init(settings);\n\n        }\n    }\n\n    function setupContentEditor(id, isFullPage, toolbar1Custom, cssIncludes, isNewsletter, profile, relativeUrls, wildcards, overrideHeight) {\n        var plugins = [\n            \"contextmenu\", \"advlist\", \"autolink\", \"lists\", \"print\",  \"searchreplace\", \"visualblocks\", \"visualchars\",\n            \"code\", \"save\", \"directionality\", \"paste\", \"textcolor\",\n            \"sb_filemanager\", \"sb_links\", \"sb_images\", \"sb_table\", \"spellchecker\"\n        ];\n        var contextMenu = \" sb_links sb_images inserttable elements web_link pdf_viewer\";\n\n        var wildcardSettings = {\n            content_holder: false,\n            update_forms: false\n        };\n\n        if (wildcards) {\n            if (profile !== 'campaign') {\n                plugins.push(\"sb_elements\");\n            }\n            plugins.push(\"sb_wildcards\");\n            contextMenu = contextMenu + \" sb_wildcards sb_wildcards_update_form \";\n\n        }\n\n        var toolbarOptions = \"sb_images sb_gallery sb_video pdf_viewer sb_links | formatselect | fontsizeselect forecolor | bold italic underline strikethrough | removeformat | alignleft aligncenter alignright alignjustify | outdent indent | bullist numlist  |  undo redo | code\";\n        if (profile === \"campaign\"){\n            toolbarOptions = \"undo redo | fontsizeselect forecolor | bold italic | removeformat | alignleft aligncenter alignright alignjustify | outdent indent | bullist numlist | sb_links | code\";\n        }\n        else if(profile === \"manage_app_mobile\") {\n            toolbarOptions = \"undo redo removeformat |  bold italic | alignleft aligncenter alignright | outdent indent | sb_links | sb_images | code \";\n        }\n        else {\n            plugins.push(\"sb_gallery\");\n            plugins.push(\"sb_video\");\n            contextMenu = \"sb_images sb_gallery sb_video pdf_viewer web_link inserttable elements sb_links\";\n            //contextMenu =  \"sb_gallery sb_video \"+contextMenu;\n\n        }\n\n\n        if(isFullPage || isNewsletter) {\n            plugins.push(\"fullpage\");\n        }\n\n        var validElements = \"*[*]\";\n        var invalidElements = \"\";\n        var validExtendedElements = '*[*]';\n        var validChildren = \"multiline[a],singleline[a]\";\n\n        var menubar = \"edit insert view table tools sb_wildcards\";\n        if(profile === \"manage_app_mobile\"){\n            menubar = false;\n        }\n        var height = \"600px\";\n        if(profile == \"quick_feed\" || profile == \"summary\" ){\n            height = \"400px\";\n        }\n        else if( profile === \"manage_app_mobile\"){\n            height = \"250px\";\n        }\n        else if( profile === \"new_content_holder\"){\n            height = \"400px\";\n        }\n        else if(profile === \"company_note\"){\n            height = \"330px\";\n        }\n\n\n        if (overrideHeight) {\n            height = overrideHeight + \"px\";\n        }\n\n        if($('#'+id).siblings('div.mce-tinymce').length == 0) {\n\n            var settings = {\n                branding: false,\n                selector: '#' + id,\n                width: \"100%\",\n                height: height,\n                statusbar: true,\n                resize: \"both\",\n                //theme_advanced_resizing: true,\n                //theme_advanced_resizing_use_cookie : false,\n                theme: \"modern\",\n                allow_html_in_named_anchor: true,\n                allow_unsafe_link_target: true,\n\n                valid_elements: validElements,\n                extended_valid_elements: validExtendedElements,\n                invalid_elements: invalidElements,\n//                extended_valid_elements: 'iframe[src|width|height|frameborder|scrolling|allowfullscreen]',\n                valid_children : validChildren,\n                plugins: plugins,\n                // menu: {\n                //     edit: { title: 'Edit', items: 'undo redo | cut copy paste pastetext | selectall' },\n                //     insert: {title: 'Insert', items: 'sb_video sb_gallery sb_images'},\n                //     view: {title: 'View', items: 'code | visualaid | spellcheck'},\n                //     format: {title: 'Format', items: 'bold italic underline strikethrough superscript subscript | formats | removeformat'},\n                //     table: {title: 'Table', items: 'inserttable tableprops deletetable | cell row column'},\n                //     tools: {title: 'Tools', items: 'spellchecker code'},\n                //     sb_wildcards: { title: 'Wildcards' }\n                // },\n                menubar: menubar,\n                cleanup: false,\n                verify_html: false,\n                toolbar: toolbarOptions,\n                fontsize_formats: \"8px 9px 10px 11px 12px 14px 16px 18px 20px 24px 36px\",\n\n                image_advtab: true,\n                image_list: [],\n                contextmenu: contextMenu,\n                setup: function (editor) {\n                    editor.on(\"init\", function () {\n                        this.getDoc().body.style.fontSize = '14px';\n                        this.getDoc().body.style.fontFamily = 'Verdana';\n                    });\n                    editor.on(\"keyup\", function (editor, e) {\n                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);\n                    });\n                    editor.on(\"click\", function (editor, e) {\n                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);\n                    });\n                    editor.on('getContent', function (e) {\n                        e.content = e.content.replace(/\u003cp\u003e(\u003cimg[^\u003c]*)\u003c\\\\/p\u003e/gi, function (a) {\n                            return a.replace('\u003cp\u003e', '').replace('\u003c/p\u003e', '');\n                        });\n                    });\n                    editor.on('BeforePastePreProcess', function(e) {\n                        // This will change any html text back to html tags and sanitise scripts and default comments\n                        var regex = new RegExp(\"([^]*)|([^]*)\", \"g\"); // tinymce copy includes full html and body tags, and the actual content is actually between the comments\n                        e.content = e.content.replace(/(\u0026lt;)/g, '\u003c')\n                                .replace(/(\u0026gt;)/g, '\u003e')\n                                .replace(regex, '')\n                                .replace(/\u003cscript[\\\\s\\\\S]*?\u003c\\\\/script\u003e/g, '');\n                    });\n                    editor.on('beforeSetContent', function (e) {\n                        e.content = e.content.replace(/\u003cp\u003e(\u003cimg[^\u003c]*)\u003c\\\\/p\u003e/gi, function (a) {\n                            return a.replace('\u003cp\u003e', '').replace('\u003c/p\u003e', '');\n                        });\n                    });\n\n\n\n\n\n                },\n                spellchecker_language: \"en_GB\",\n                spellchecker_rpc_url: 'spellchecker.php',\n                is_campaign: (profile !== undefined \u0026\u0026 profile === \"campaign\"),\n                sz_profile: profile\n            };\n\n            if(typeof(toolbar) != 'undefined') {\n                settings.toolbar1 = toolbar1Custom;\n            }\n\n            //Add CSS includes if provided\n            if(cssIncludes) {\n                if($.isArray(cssIncludes)){\n                    cssIncludes.push(\"/theme/website/szschool/css/content.css\");\n                    cssIncludes.push(\"https://www.heath.derbyshire.sch.uk/_admin/cms/szschool/account-setting-colours.css\");\n                    cssIncludes.push(\"/theme/website/szschool/css/font-awesome.min.css\");\n\n                }\n                settings.content_css = cssIncludes;\n\n            }else{\n                var cssIncludesDefault = [\"/theme/website/szschool/css/content.css\", \"https://www.heath.derbyshire.sch.uk/_admin/cms/szschool/account-setting-colours.css\", \"/theme/website/szschool/css/font-awesome.min.css\"];\n                settings.content_css = cssIncludesDefault;\n            }\n\n            //If newsletter editor...\n            if(isNewsletter) {\n                settings.width = \"100%\";\n                settings.resize = true;\n                //settings.force_br_newlines = true;\n                //settings.force_p_newlines = false;\n                settings.forced_root_block = '';\n            }\n\n            if(typeof relativeUrls == 'undefined' || relativeUrls == false) {\n                settings.relative_urls = false;\n                settings.convert_urls = false;\n            }\n\n            if (wildcards) {\n                settings.wildcards = wildcards;\n                settings.wildcardAddons = wildcardSettings;\n            }\n\n            settings.is_user_admin = 0;\n\n//            tinymce.execCommand('mceFocus', false, id);\n            tinymce.execCommand('mceRemoveEditor', true, id);\n            tinymce.init(settings);\n\n        }\n    }\n\u003c/script\u003e\n\n\n\n\u003cdiv id=\"lightboxOverlay\" class=\"lightboxOverlay\" style=\"display: none;\"\u003e\u003c/div\u003e\u003cdiv id=\"lightbox\" class=\"lightbox\" style=\"display: none;\"\u003e\u003cdiv class=\"lb-outerContainer\"\u003e\u003cdiv class=\"lb-container\"\u003e\u003cimg class=\"lb-image\" alt=\"Lightbox Image\" src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\"\u003e\u003cdiv class=\"lb-nav\"\u003e\u003ca class=\"lb-prev\" name=\"Previous\" href=\"\"\u003e\u003cspan\u003ePrevious\u003c/span\u003e\u003c/a\u003e\u003ca class=\"lb-next\" name=\"Next\" href=\"\"\u003e\u003cspan\u003eNext\u003c/span\u003e\u003c/a\u003e\u003c/div\u003e\u003cdiv class=\"lb-loader\"\u003e\u003ca class=\"lb-cancel\" name=\"Cancel\"\u003e\u003c/a\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv class=\"lb-dataContainer\"\u003e\u003cdiv class=\"lb-data\"\u003e\u003cdiv class=\"lb-details\"\u003e\u003cspan class=\"lb-caption\"\u003e\u003c/span\u003e\u003cspan class=\"lb-number\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"lb-closeContainer\"\u003e\u003ca class=\"lb-close\" name=\"Close\"\u003e\u003c/a\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003c/div\u003e\u003cdiv style=\"background-color: rgb(255, 255, 255); border: 1px solid rgb(204, 204, 204); box-shadow: rgba(0, 0, 0, 0.2) 2px 2px 3px; position: absolute; transition: visibility linear 0.3s, opacity 0.3s linear; opacity: 0; visibility: hidden; z-index: 2000000000; left: 0px; top: -10000px;\"\u003e\u003cdiv style=\"width: 100%; height: 100%; position: fixed; top: 0px; left: 0px; z-index: 2000000000; background-color: rgb(255, 255, 255); opacity: 0.05;\"\u003e\u003c/div\u003e\u003cdiv class=\"g-recaptcha-bubble-arrow\" style=\"border: 11px solid transparent; width: 0px; height: 0px; position: absolute; pointer-events: none; margin-top: -11px; z-index: 2000000000;\"\u003e\u003c/div\u003e\u003cdiv class=\"g-recaptcha-bubble-arrow\" style=\"border: 10px solid transparent; width: 0px; height: 0px; position: absolute; pointer-events: none; margin-top: -10px; z-index: 2000000000;\"\u003e\u003c/div\u003e\u003cdiv style=\"z-index: 2000000000; position: relative;\"\u003e\u003ciframe title=\"recaptcha challenge expires in two minutes\" name=\"c-c0f2reqzvtrp\" frameborder=\"0\" scrolling=\"no\" sandbox=\"allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox allow-storage-access-by-user-activation\" src=\"https://www.google.com/recaptcha/api2/bframe?hl=en\u0026amp;v=jdMmXeCQEkPbnFDy9T04NbgJ\u0026amp;k=6LeZNsoZAAAAAC_atze0mLyfoGUm4ICz_xBWIl7d\u0026amp;bft=0dAFcWeA7FXQ6WCTaFda6u5-0giVJ_KVkbAnq3eIotHyR5qUJXakzxl7-X7hytbTBJZKpbEUk7tteWNC26JO2d2AZD818cbG16FQ\" style=\"width: 100%; height: 100%;\"\u003e\u003c/iframe\u003e\u003c/div\u003e\u003c/div\u003e` }} /\u003e\n      \u003cScript src=\"/assets/js/tinymce.min.js\" strategy=\"afterInteractive\" key=\"/assets/js/tinymce.min.js\" /\u003e\n      \u003cScript src=\"/assets/js/tinymcefunctions.js\" strategy=\"afterInteractive\" key=\"/assets/js/tinymcefunctions.js\" /\u003e\n      \u003cScript src=\"https://www.google.com/recaptcha/api.js\" strategy=\"afterInteractive\" key=\"https://www.google.com/recaptcha/api.js\" /\u003e\n      \n      \u003cScript src=\"/assets/js/plugins.js\" strategy=\"afterInteractive\" key=\"/assets/js/plugins.js\" /\u003e\n      \u003cScript src=\"/assets/js/bs-switches.js\" strategy=\"afterInteractive\" key=\"/assets/js/bs-switches.js\" /\u003e\n      {/* External canvas/functions.js removed - using local /assets/js/functions.js instead via ScriptsLoader */}\n      \u003cScript src=\"/website/custom.js?skin_id=\" strategy=\"afterInteractive\" key=\"/website/custom.js?skin_id=\" /\u003e\n      \u003cScript src=\"/assets/js/tinymce.min.js\" strategy=\"afterInteractive\" key=\"/assets/js/tinymce.min.js\" /\u003e\n      \u003cScript id=\"inline-0\" strategy=\"afterInteractive\" dangerouslySetInnerHTML={{ __html: `\n    if(window.location.pathname=='' || window.location.pathname=='/') {\n        window.location = '/latest';\n    }\n` }} /\u003e\n      \u003cScript id=\"inline-1\" strategy=\"afterInteractive\" dangerouslySetInnerHTML={{ __html: `\n    function LoteCfForm() {\n\n    }\n\n    LoteCfForm.prototype.getCfValues = function (formData, cfArrayName) {\n        const promises = $(\".custom_field_edit\").map(function (i, e) {\n            if (LoteCfForm.prototype.isInVisibleGroup(e)) {\n                var f = $(e).data('function');\n                if (f \u0026\u0026 typeof LoteCfForm.prototype[f] == 'function') {\n                    return LoteCfForm.prototype[f](formData, e, cfArrayName);\n                }\n            }\n        });\n\n        return Promise.all(promises);\n    };\n\n    LoteCfForm.prototype.isInVisibleGroup = function (e) {\n        return ! $(\".custom_group_edit[data-value='\" + $(e).data('group') + \"']\").hasClass(\"group_disabled\");;\n    };\n\n    LoteCfForm.prototype.getTextValue = function (formData, e, cfArrayName) {\n        formData[cfArrayName][$(e).attr(\"data-id\")] = $(e).val();\n    };\n\n    LoteCfForm.prototype.getWysiwygValue = function (formData, e, cfArrayName) {\n        formData[cfArrayName][$(e).attr(\"data-id\")] = getWysiwygValue($(e).attr(\"id\"));\n    };\n\n    LoteCfForm.prototype.getDateTimeValue = function (formData, e, cfArrayName) {\n        var id = $(e).attr('id');\n        var element = $('#' + id + '_time');\n        var time = timepickiConvert(element);\n\n        var value = null;\n        var date = $('#' + id + '_date_alt').val();\n        if (date \u0026\u0026 time) {\n            value = date + ' ' + time;\n        }\n        else if (date) {\n            value = date;\n        }\n        else if (time) {\n            value = time;\n        }\n        formData[cfArrayName][$(e).attr(\"data-id\")] = value;\n    };\n\n    LoteCfForm.prototype.getDateValue = function (formData, e, cfArrayName) {\n        var id = $(e).attr('id');\n        formData[cfArrayName][$(e).attr(\"data-id\")] = $('#' + id + '_date_alt').val();\n    };\n\n    LoteCfForm.prototype.getTimeValue = function (formData, e, cfArrayName) {\n        var id = $(e).attr('id');\n        var element = $('#' + id + '_time');\n        var time = timepickiConvert(element);\n\n        formData[cfArrayName][$(e).attr(\"data-id\")] = time;\n    };\n\n    LoteCfForm.prototype.getCheckboxValues = function (formData, e, cfArrayName) {\n        var id = $(e).data('id');\n        var counter = 0;\n        var values = [];\n        $(e.form).find('input[name=\"checkbox_' + id + '\"]').each(function (i, el) {\n            if ($(el).is(\":checked\")) {\n                values[counter] = $(el).val();\n                counter++;\n            }\n        });\n        if (values.length === 0) {\n            values = \"\";\n        }\n        formData[cfArrayName][$(e).attr(\"data-id\")] = values;\n    };\n\n    LoteCfForm.prototype.getRadioValue = function (formData, e, cfArrayName) {\n        var id = $(e).attr('id');\n        var baseObj = [];\n        $.each($(e).find('input[type=\"radio\"]'), function (index, item) {\n            var obj = {};\n            if ($(item).is(':checked')) {\n                obj['id'] = $(item).val();\n\n                var itemValid = true;\n                if ($(item).val() == 0 \u0026\u0026 $('#cf_field_edit_radio_' + $(e).data('id') + '_custom').is(':visible')) {\n                    var customInput = $('#cf_field_edit_radio_' + $(e).data('id') + '_custom').val();\n                    obj['value'] = customInput;\n                    itemValid = customInput !== '';\n                } else {\n                    obj['value'] = $(item).data('value');\n                }\n\n                if (itemValid) {\n                    baseObj.push(obj);\n                }\n            }\n        });\n        formData[cfArrayName][$(e).attr(\"data-id\")] = '';\n        if (baseObj.length \u003e 0) {\n            formData[cfArrayName][$(e).attr(\"data-id\")] = JSON.stringify(baseObj);\n        }\n    };\n\n    LoteCfForm.prototype.getMatrixValues = function (formData, e, cfArrayName) {\n        if (typeof(formData[cfArrayName][$(e).attr(\"data-default\")]) == 'undefined') {\n            formData[cfArrayName][$(e).attr(\"data-default\")] = {};\n        }\n        formData[cfArrayName][$(e).attr(\"data-default\")][$(e).attr(\"data-id\")] = $(e).val();\n    };\n\n    LoteCfForm.prototype.getRecaptchaValue = function (formData, e, cfArrayName) {\n        formData[cfArrayName][$(e).attr(\"data-id\")] = grecaptcha.getResponse();\n    };\n\n    LoteCfForm.prototype.getFileValues = function (formData, e, cfArrayName) {\n        return new Promise((resolve, reject) =\u003e {\n            var file = e.files[0];\n            if (!file) {\n                return resolve();\n            }\n            var r = new FileReader();\n\n            r.onload = function(read) {\n                var contents = read.target.result;\n                var attr = $(e).attr(\"data-id\")\n                formData[cfArrayName][attr] = contents;\n                resolve();\n            }\n\n            r.readAsDataURL(file)\n        })\n    };\n\n    LoteCfForm.prototype.getCheckedValues = function (formData, e, cfArrayName) {\n        var name = $(e).data('name');\n        var counter = 0;\n        var values = [];\n        $(e).find('input[name=\"' + name + '\"]').each(function (i, el) {\n            if ($(el).is(\":checked\")) {\n                values[counter] = $(this).val();\n                counter++;\n            }\n        });\n        formData[cfArrayName][$(e).attr(\"data-id\")] = values;\n    };\n\n    LoteCfForm.prototype.getOptionValue = function (formData, e, cfArrayName) {\n        var id = $(e).attr('id');\n        var obj = {\n            id: $(e).val()\n        };\n\n        if ($(e).val() == 0 \u0026\u0026 $('#' + id + '_custom').is(':visible')) {\n            obj['value'] = $('#' + id + '_custom').val();\n        } else if ($(e).val() !== '') {\n            obj['value'] = $(e).find(':selected').data('value');\n        }\n\n        formData[cfArrayName][$(e).attr(\"data-id\")] = '';\n        if (obj.value !== undefined) {\n            formData[cfArrayName][$(e).attr(\"data-id\")] = JSON.stringify([obj]);\n        }\n    };\n\n    LoteCfForm.prototype.getOptionMultiValue = function (formData, e, cfArrayName) {\n        var id = $(e).attr('id');\n        var baseObj = [];\n        if ($(e).val() !== null) {\n            $.each($(e).val(), function (index, itemId) {\n                var obj = {\n                    id: itemId,\n                    value: ''\n                };\n\n                var itemValid = true;\n                if (itemId == 0 \u0026\u0026 $('#' + id + \"_custom\").is(':visible')) {\n                    var customInput = $('#' + id + \"_custom\").val();\n                    obj['value'] = customInput;\n                    itemValid = customInput !== '';\n                } else {\n                    obj['value'] = $('#' + id + '_option_' + itemId).data('value');\n                }\n\n                if (itemValid) {\n                    baseObj.push(obj);\n                }\n            });\n        }\n\n        formData[cfArrayName][$(e).attr(\"data-id\")] = '';\n        if (baseObj.length \u003e 0) {\n            formData[cfArrayName][$(e).attr(\"data-id\")] = JSON.stringify(baseObj);\n        }\n    };\n\n    var customBaseObjectRemove = [];\n\n    LoteCfForm.prototype.getMultiCheckboxValue = function (formData, e, cfArrayName) {\n        var baseObj = [];\n        $.each($(e).find('input[type=\"checkbox\"]'), function (index, item) {\n            var obj = {};\n            if ($(item).is(':checked')) {\n                obj['id'] = $(item).val();\n\n                var itemValid = true;\n                var cfField = $('#cf_field_edit_' + $(e).data('id') + '_custom');\n                if ($(item).val() === 0 \u0026\u0026 cfField.is(':visible')) {\n                    var customInput = cfField.val();\n                    obj['value'] = customInput;\n                    itemValid = customInput !== '';\n                } else {\n                    obj['value'] = $(item).data('value');\n                }\n\n                if (itemValid) {\n                    baseObj.push(obj);\n                }\n            } else {\n                obj['id'] = $(item).data('id');\n                customBaseObjectRemove.push(obj);\n            }\n\n        });\n        if (baseObj.length \u003e 0) {\n            formData[cfArrayName][$(e).attr(\"data-id\")] = JSON.stringify(baseObj);\n        }\n        if (baseObj.length === 0 \u0026\u0026 customBaseObjectRemove.length \u003e 0) {\n            console.log(\"Remove object\", e);\n            formData['_custom_remove'] = JSON.stringify(customBaseObjectRemove);\n        }\n    };\n\n    function loteCfEditBeforeSerialise(parentForm)\n    {\n        var f = new LoteCfForm();\n        f.beforeCfSerialise(parentForm);\n    }\n\n    function loteCfEditBeforeSubmit(parentForm)\n    {\n        var f = new LoteCfForm();\n        return f.beforeCfSubmit(parentForm);\n    }\n\n    async function getLoteCfEditValues(formData, cfArrayName, parentForm) {\n        formData[cfArrayName] = {};\n        var f = new LoteCfForm();\n        if (parentForm) {\n            await f.getFormCfValues(formData, cfArrayName, parentForm);\n        }\n        else {\n            await f.getCfValues(formData, cfArrayName);\n        }\n        return formData;\n    }\n\n\n    LoteCfForm.prototype.getFormCfValues = function (formData, cfArrayName, parentForm) {\n        $(parentForm).find(\".custom_field_edit\").each(function (i, e) {\n            var f = $(e).data('function');\n            if (f \u0026\u0026 typeof LoteCfForm.prototype[f] == 'function') {\n                LoteCfForm.prototype[f](formData, e, cfArrayName);\n            }\n        });\n    };\n\n\n    LoteCfForm.prototype.beforeCfSerialise = function (parentForm) {\n        $(parentForm).find(\".custom_field_edit\").each(function (i, e) {\n            var f = $(e).data('serialise-function');\n            if (f \u0026\u0026 typeof LoteCfForm.prototype[f] == 'function') {\n                LoteCfForm.prototype[f](parentForm, e);\n            }\n        });\n    };\n\n    LoteCfForm.prototype.beforeCfSubmit = function (parentForm) {\n        var fields = [];\n        var emptyFields = [];\n        $(parentForm).find('input[type=\"radio\"].custom_field_edit.required').each(function (i, e) {\n            if($(e).is(':checked')) {\n                fields[$(e).attr('name')] = 'required';\n            }\n        });\n        $(parentForm).find('input[type=\"radio\"].custom_field_edit.required').each(function (i, e) {\n            if($(e).is(':checked')) {\n\n            } else {\n                if($(e).attr('name') != undefined \u0026\u0026 fields[$(e).attr('name')] == undefined) emptyFields[$(e).attr('name')] = 'required';\n            }\n        });\n        setCfErrors(emptyFields, parentForm);\n        if(emptyFields.length \u003e 0) {\n            $('.form_buttons').show();\n            $('.form_processing').hide();\n            return false;\n        }\n    };\n\n    LoteCfForm.prototype.beforeCfSerialisePublicGroup = function (formData, e, cfArrayName) {\n        var name = $(e).data('name');\n        var publicGroups = {};\n        $(e).parent().find('input[data-key=\"' + name + '\"]').each(function (i, el) {\n            if($(el).is(\":checked\")){\n                publicGroups[$(el).attr(\"data-value\")] = \"1\";\n            }\n            else {\n                publicGroups[$(el).attr(\"data-value\")] = \"0\";\n            }\n        });\n        $(e).val(JSON.stringify(publicGroups));\n    };\n\n    LoteCfForm.prototype.beforeCfSerialiseMediaFile = function (formData, e, cfArrayName) {\n        var container = jQuery(e).closest('.media_field_container');\n        var numInProgress = jQuery('li.qq-in-progress', container).length;\n        if(numInProgress \u003e 0) {\n            jQuery(e).val(\"in-progress\");\n        } else {\n            jQuery(e).val(jQuery(e).attr('data-media-files'));\n        }\n    };\n\n    LoteCfForm.prototype.beforeCfSerialiseMatrix = function (formData, e, cfArrayName) {\n        var values = {};\n        var id = $(e).data('id');\n        var matrixType = $(e).data('matrix-type');\n        if(matrixType==\"radio\" || matrixType==\"checkbox\") {\n            $(e.form).find('input[data-id=\"matrix_'+matrixType+'_' + id + '\"]').each(function (i, el) {\n                if ($(el).is(\":checked\")) {\n                    if(typeof(values[$(el).data(\"matrix-row\")]) == 'undefined') {\n                        values[$(el).data(\"matrix-row\")] = {};\n                    }\n                    values[$(el).data(\"matrix-row\")][$(el).data(\"matrix-column\")] = 1;\n                }\n            });\n        }\n        else {\n            $(e.form).find('input[data-id=\"matrix_text_' + id + '\"]').each(function (i, el) {\n                if($(el).val()) {\n                    if(typeof(values[$(el).data(\"matrix-row\")]) == 'undefined') {\n                        values[$(el).data(\"matrix-row\")] = {};\n                    }\n                    values[$(el).data(\"matrix-row\")][$(el).data(\"matrix-column\")] = $(el).val();\n                }\n            });\n        }\n        $(e).val(JSON.stringify(values));\n    };\n\n    LoteCfForm.prototype.beforeCfSerialiseRecaptcha = function (parentForm, e) {\n        var dataElement = $('#' + $(e).data('id'));\n        $(dataElement).val(grecaptcha.getResponse());\n    };\n\n    LoteCfForm.prototype.beforeCfSerialiseDate = function (parentForm, e) {\n        var id = $(e).attr('id');\n        $(e).val($('#' + id + '_date_alt').val());\n    };\n\n    LoteCfForm.prototype.beforeCfSerialiseTime = function (parentForm, e) {\n        var id = $(e).attr('id');\n        var element = $('#' + id + '_time');\n        var time = timepickiConvert(element);\n        $(e).val(time);\n    };\n\n    LoteCfForm.prototype.beforeCfSerialiseDateTime = function (formData, e, cfArrayName) {\n        var id = $(e).attr('id');\n        var element = $('#' + id + '_time');\n        var time = timepickiConvert(element);\n\n        var value = null;\n        var date = $('#' + id + '_date_alt').val();\n        if (date \u0026\u0026 time) {\n            value = date + ' ' + time;\n        }\n        else if (date) {\n            value = date;\n        }\n        else if (time) {\n            value = time;\n        }\n        $(e).val(value);\n    };\n    LoteCfForm.prototype.beforeCfSerialiseSignature = function (formData, e, cfArrayName) {\n\n    };\n\n    LoteCfForm.prototype.beforeCfSerialiseMultiSelect = function (parentForm, e) {\n        var id = $(e).attr('id');\n        var baseObj = [];\n        if ($(e).val() !== null) {\n            $.each($(e).val(), function (index, itemId) {\n                var obj = {\n                    id: itemId,\n                    value: ''\n                };\n\n                var itemValid = true;\n                if (itemId == 0 \u0026\u0026 $('#' + id + \"_custom\").is(':visible')) {\n                    var customInput = $('#' + id + \"_custom\").val();\n                    obj['value'] = customInput;\n                    itemValid = customInput !== '';\n                } else {\n                    obj['value'] = $('#' + id + '_option_' + itemId).data('value');\n                }\n\n                if (itemValid) {\n                    baseObj.push(obj);\n                }\n            });\n        }\n\n        var dataField = $(parentForm).find(\"input[name='\"+$(e).data('id')+\"']\");\n        if (baseObj.length \u003e 0) {\n            dataField.val(JSON.stringify(baseObj));\n        }\n    };\n\n\n    LoteCfForm.prototype.beforeCfSerialiseCheckBox = function (parentForm, e) {\n        var id = $(e).attr('id');\n        var dataField = $(parentForm).find(\"input[name='\" + $(e).data('id') + \"']\");\n        var baseObj = [];\n        $.each($(e).find('input[type=\"checkbox\"]'), function (index, item) {\n            var obj = {};\n            if ($(item).is(':checked')) {\n                obj['id'] = $(item).val();\n\n                var itemValid = true;\n                if ($(item).val() == 0 \u0026\u0026 $('#cf_field_edit_' + $(e).data('id') + '_custom').is(':visible')) {\n                    var customInput = $('#cf_field_edit_' + $(e).data('id') + '_custom').val();\n                    obj['value'] = customInput;\n                    itemValid = customInput !== '';\n                } else {\n                    obj['value'] = $(item).data('value');\n                }\n\n                if (itemValid) {\n                    baseObj.push(obj);\n                }\n            }\n        });\n        if (baseObj.length \u003e 0) {\n            dataField.val(JSON.stringify(baseObj));\n        }\n    };\n\n\n    LoteCfForm.prototype.beforeCfSerialiseRadioButton = function (parentForm, e) {\n        var id = $(e).attr('id');\n        var dataField = $(parentForm).find(\"input[name='\" + $(e).data('id') + \"']\");\n        var baseObj = [];\n        $.each($(e).find('input[type=\"radio\"]'), function (index, item) {\n            var obj = {};\n            if ($(item).is(':checked')) {\n                obj['id'] = $(item).val();\n\n                var itemValid = true;\n                if ($(item).val() == 0 \u0026\u0026 $('#cf_field_edit_radio_' + $(e).data('id') + '_custom').is(':visible')) {\n                    var customInput = $('#cf_field_edit_radio_' + $(e).data('id') + '_custom').val();\n                    obj['value'] = customInput;\n                    itemValid = customInput !== '';\n                } else {\n                    obj['value'] = $(item).data('value');\n                }\n\n                if (itemValid) {\n                    baseObj.push(obj);\n                }\n            }\n        });\n        if (baseObj.length \u003e 0) {\n            dataField.val(JSON.stringify(baseObj));\n        } else {\n            dataField.val(\"\");\n        }\n    };\n\n\n    LoteCfForm.prototype.beforeCfSerialiseSingleSelect = function (parentForm, e) {\n        var id = $(e).attr('id');\n        var dataField = $(parentForm).find(\"input[name='\"+$(e).data('id')+\"']\");\n        var obj = {\n            id: $(e).val()\n        };\n\n        var itemValid = true;\n        if ($(e).val() == '0' \u0026\u0026 $('#' + id + '_custom').is(':visible')) {\n            var customInput = $('#' + id + '_custom').val();\n            obj['value'] = customInput;\n            itemValid = customInput !== '';\n        } else if ($(e).val() !== '') {\n            obj['value'] = $(e).find(':selected').data('value');\n        } else {\n            itemValid = false;\n        }\n\n        var baseObj = [obj];\n\n        if (itemValid) {\n            dataField.val(JSON.stringify(baseObj));\n        }\n    };\n\n\n\n\n\n    function setCfErrors(errors, form) {\n        for (var f in errors) {\n            if (form) {\n                var htmlError = document.createElement('div');\n                htmlError.textContent = 'There are errors within your form. Please check that all your mandatory fields are completed.';\n                htmlError.setAttribute('class','errorDiv');\n\n                $(form).find('#cf_field_edit_error_' + f).html(errors[f]).closest('.fwrp').addClass('fer');\n                if ($('div.errorDiv').length) {\n\n                } else {\n                    $(form).find('.form_buttons').prepend(htmlError);\n                }\n            }\n            else {\n                $('#cf_field_edit_error_' + f).html(errors[f]).closest('.fwrp').addClass('fer');\n            }\n        }\n\n    }\n\n    function setFormProcessing(form, isProcessing, isBack) {\n        if (isProcessing) {\n            if(isBack){\n                $(form).addClass(\"is-processing-back\");\n            }\n            else{\n                $(form).find('input[type=\"submit\"], button[type=\"submit\"]').prop('disabled', true).addClass(\"loading\");\n                $(form).addClass(\"is-processing\");\n            }\n        }\n        else {\n            if(isBack){\n                $(form).removeClass(\"is-processing-back\");\n            }\n            else{\n                $(form).find('input[type=\"submit\"], button[type=\"submit\"]').prop('disabled', false).removeClass(\"loading\");\n                $(form).removeClass(\"is-processing\");\n            }\n        }\n    }\n\n    $(function() {\n        $('.only_one_radio').off().on('click', function() {\n            $('.only_one_radio').prop('checked', false);\n            $(this).prop('checked', true);\n        });\n    });\n\n\n` }} /\u003e\n      \u003cScript id=\"inline-2\" strategy=\"afterInteractive\" dangerouslySetInnerHTML={{ __html: `\n\n    function setupFormButtons(formId, recordId, nextPage, prevPage, formInstance)\n    {\n        setupPrevButton(formId, recordId, prevPage, formInstance);\n        setupFormSubmit(formId, recordId, nextPage, formInstance);\n        $('#lote_form_'+formId+' .lote_form_main button[type=submit], .lote_form_main input[type=button]').off().on('click', function(e) {\n            e.preventDefault();\n            var thisForm = $(\"#lote_form_\"+formId);\n            /*\n            $('#lote_form_'+formId+' .form_buttons .btn').addClass('greyed_out');\n            $('#lote_form_'+formId+' .form_buttons .btn').prop('disabled', true);\n            $(this).addClass('loading');\n            */\n            if(typeof(formInstance) != 'undefined' \u0026\u0026 formInstance != '') {\n                thisForm = $(\"[id='lote_form_\"+formId+\"'][data-form-instance='\"+formInstance+\"']\");\n            }\n            if($(this).hasClass(\"form_prev_button_\"+formId)) {\n                goToFormPage(formId, recordId, prevPage, true);\n            } else {\n                thisForm.submit();\n            }\n        });\n    }\n\n    function setupPrevButton(formId, recordId, prevPage, formInstance)\n    {\n        setupProgressClick(formId, recordId);\n    }\n\n    function setupFormSubmit(formId, recordId, nextPage, formInstance)\n    {\n        var thisForm = $(\"#lote_form_\"+formId);\n        if(typeof(formInstance) != 'undefined' \u0026\u0026 formInstance != '') {\n            thisForm = $(\"[id='lote_form_\"+formId+\"'][data-form-instance='\"+formInstance+\"']\");\n        }\n        var options = {\n            url: 'https://www.heath.derbyshire.sch.uk/form/submit.json',\n            dataType : \"json\",\n            type: \"POST\",\n            data : { submit_url : window.location.href, group_id : $(thisForm).find(\".group_id\").val(), '_lote_form_module' : '1' },\n            success:    function(json) {\n                clearFormErrors();\n                if (json.success) {\n                    if(json.completed) {\n                        completeForm(thisForm, formId, json.record_id, formInstance, json);\n                    }\n                    else {\n                        goToFormPage(formId, json.record_id, json.next_page, false);\n                    }\n                }\n                else if(json.error) {\n                    setFormProcessing(thisForm, false);\n                    alert(json.error);\n                }\n                else {\n                    $('#lote_form_'+formId+' .form_buttons .btn').removeClass('greyed_out');\n                    $('#lote_form_'+formId+' .form_buttons .btn').removeClass('loading');\n                    $('#lote_form_'+formId+' .form_buttons .btn').prop('disabled', false);\n                    setCfErrors(json.errors, thisForm);\n                    setAdditionalFormErrors(json.additional_form_errors);\n                    setFormProcessing(thisForm, false);\n                }\n                var fName = \"onLoteFormSubmitCallback\"+formId;\n                if (typeof window[fName] === \"function\") {\n                    window[fName](formId, thisForm, json);\n                }\n            },\n            error: function (request, status, error) {\n                if (request.status) {\n                    alert('Error: ' + request.status + '\\n' + request.statusText);\n                }\n                setFormProcessing(thisForm, false);\n            },\n            beforeSerialize: function($form, options) {\n                loteCfEditBeforeSerialise(thisForm);\n            },\n            beforeSubmit: function(formData, jqForm, options) {\n                var fName = \"getAdditionalFormData\"+formInstance;\n                if (typeof window[fName] === \"function\") {\n                    window[fName](formData);\n                }\n                setFormProcessing(thisForm, true);\n                return loteCfEditBeforeSubmit(thisForm);\n            }\n\n        };\n        $(thisForm).ajaxForm(options);\n    }\n\n    function setAdditionalFormErrors(additionalFormErrors)\n    {\n        for(formErrors in additionalFormErrors) {\n            for (var f in additionalFormErrors[formErrors]) {\n                $('#' + f + '_error').html(additionalFormErrors[formErrors][f][0]).parent().addClass('fer');\n            }\n        }\n\n    }\n\n\n    function setupProgressClick(formId, recordId) {\n\n        $('#save_progress').off('click').on('click', function() {\n            var form = $(\"#lote_form_\"+formId);\n            var formData = {} ;\n            getLoteCfEditValues(formData,'_fields', $(this).parents());\n\n            formData['id'] = formId;\n            formData['submit_url'] = window.location.href;\n            formData['group_id'] = $(form).find(\".group_id\").val();\n            formData['record_id'] = $(form).find(\"#record_id\").val();\n            formData['current_page'] = $(form).find(\"#group_id\").val();\n\n            $.ajax({\n                url: 'https://www.heath.derbyshire.sch.uk/form/saveprogress.json',\n                method: 'POST',\n                data: formData,\n                success: function (json) {\n                    clearFormErrors();\n                    if (json.success) {\n                        $('#record_id').val(json.record_id);\n                        alert('Progress Saved');\n                    } else if(json.error) {\n                        alert(json.error);\n                    }\n                },\n                error: function (request, status, error) {\n                    if (request.status) {\n                        alert('Error: ' + request.status + '\\n' + request.statusText);\n                    }\n                }\n            });\n\n            return false;\n        });\n    }\n\n\n    function clearFormErrors() {\n        $('.fermsg').html('');\n        $('.fwrp').removeClass(\"fer\");\n        $('.errorDiv').remove();\n    }\n\n    function completeForm(form, formId, recordId, formInstance, rawJsonResponse) {\n        \n        var customCallbackName = 'onLoteFormCompletedCallback'+formId;\n\n        if (typeof(callback) != 'undefined' \u0026\u0026 typeof window[callback] === \"function\") {\n            window[callback](formId, recordId);\n        }\n        else if (typeof window[customCallbackName] === \"function\") {\n            window[customCallbackName](formId, recordId);\n        } else if (rawJsonResponse.redirect_url !== undefined) {\n            window.location = rawJsonResponse.redirect_url;\n        } else {\n                        var form = $(\"#lote_form_\"+formId);\n            if(typeof(formInstance) != 'undefined' \u0026\u0026 formInstance != '') {\n                var form = $(\"[id='lote_form_\"+formId+\"'][data-form-instance='\"+formInstance+\"']\");\n            }\n            var formData = {} ;\n            getLoteCfEditValues(formData,'_fields', form);\n            formData['id'] = formId;\n            formData['submit_url'] = window.location.href;\n            formData['group_id'] = $(form).find(\".group_id\").val();\n            formData['record_id'] = recordId;\n            formData['current_page'] = $(form).find(\"#group_id\").val();\n\n            $.ajax({\n                url: 'https://www.heath.derbyshire.sch.uk/form/confirmation/2.shtml',\n                method: 'POST',\n                data : formData,\n                success: function (html) {\n                    $('.lote_form_completed', form).html(html);\n                },\n                error: function (request, status, error) {\n                    if (request.status) {\n                        alert('Error: ' + request.status + '\\n' + request.statusText);\n                    }\n                }\n            });\n                        $(form).find(\".lote_form_main\").hide();\n            $(form).parent().find(\".lote_form_completed\").show();\n            $('html, body').animate({\n                scrollTop:  $(form).parent().offset().top - 200\n            }, 500);\n            var thisForm = $(\"#lote_form_\"+formId);\n            setFormProcessing(thisForm, false);\n\n        }\n    }\n\n    function goToFormPage(formId, recordId, page, isBack) {\n        var thisForm = $(\"#lote_form_\"+formId);\n        if(isBack){\n            setFormProcessing(thisForm, true, true);\n        }\n        $.get( \"https://www.heath.derbyshire.sch.uk/form/page/\" + formId + \"/\" + page + \"/\" + recordId + \".shtml\", function( data ) {\n            var loteForm = $(\"#lote_form_\" + formId);\n            loteForm.find('.lote_form_main').html(data);\n            if(isBack){\n                setFormProcessing(thisForm, false, true);\n            }\n            else{\n                setFormProcessing(thisForm, false);\n            }\n\n            $('html, body').animate({\n                scrollTop: Math.max(loteForm.offset().top - 150, 0)\n            }, 350);\n\n\n        });\n    }\n\n\n` }} /\u003e\n      \u003cScript id=\"inline-3\" strategy=\"afterInteractive\" dangerouslySetInnerHTML={{ __html: `\n    $(function(){\n        setupFormButtons('2', '', '', '', '');\n\n\t\t    });\n` }} /\u003e\n      \u003cScript id=\"inline-4\" strategy=\"afterInteractive\" dangerouslySetInnerHTML={{ __html: `\n\n                    jQuery('.sz-gallery').each(function() {\n                        var array = jQuery(this).attr('data-parameters').split(',');\n                        var parameters = {};\n\n                        jQuery.each(array, function(key, value) {\n                            var split = value.split(':');\n\n                            if (!isNaN(Number(split[1]))) {\n                                split[1] = Number(split[1]);\n                            } else if (split[1] === \"true\" || split[1] === \"false\") {\n                                split[1] = (split[1] === \"true\");\n                            } else {\n                                split[1] = String(split[1]);\n                            }\n                            parameters[split[0]] = split[1];\n                        });\n\n                        jQuery(this).unitegallery(parameters);\n                        jQuery(this).show();\n                    });\n                    $('.read-more-item').each(function(){\n                        var firstPara = $(this).find('p:first').html();\n                        $(this).parent().prepend('\u003cp class=\"articleSummary\"\u003e' + firstPara.substring(0,500) + '...\u003c/p\u003e');\n                    });\n                }\n\t\t\t})\n\n\n\t}\n\n\t$(function(){\n\n        $('.tags_checked').off('change').on(\"change\", function () {\n           executeSearch();\n           console.log('Tags Checked');\n        });\n\n\n\t\t$(\"#search_phrase\").keypress(function (e) {\n\t\t\tif(e.which == 13) { // the enter key code\n\t\t\t\texecuteSearch();\n                console.log('Search Phase');\n\t\t\t}\n\t\t});\n\n        $(\"#search_clear\").click(function(){\n            $(\"#search_phrase\").val(\"\");\n            executeSearch();\n            console.log('Search Clear');\n        });\n\n        $('.clearTags').on('click', function(){\n            $('.tagwrp input:radio').prop(\"checked\", false);\n            executeSearch();\n            console.log('Uncheck');\n        });\n        $('.clearSideTags').on('click', function(){\n            $('aside.sidebar input:radio').prop(\"checked\", false);\n            $('#clearButton').addClass('grey');\n            executeSearch();\n        });\n         $('aside.sidebar label.radio-style-1-label').on('click', function(){\n            $('#clearButton').removeClass('grey');\n         });\n\n         $(document).on('click', '.event-tag, .article-tag', function () {\n             $('input.tags_checked[id=\"radio-' + $(this).attr('id') + '\"]').prop('checked', true);\n             executeSearch();\n         });\n\t});\n\n` }} /\u003e\n      \u003cScript id=\"inline-6\" strategy=\"afterInteractive\" dangerouslySetInnerHTML={{ __html: `\n    var actualCaretPositionBookmark;\n` }} /\u003e\n      \u003cScript id=\"inline-7\" strategy=\"afterInteractive\" dangerouslySetInnerHTML={{ __html: `\n\tfunction setWysiwygValue(id, value) {\n\t\ttinymce.get(id).setContent(value);\n\t}\n    function getWysiwygValue(id) {\n        return tinyMCE.get(id).getContent();\n    }\n\tfunction getWysiwygValuePlainText(id) {\n\t\treturn tinyMCE.get(id).getContent({ format: 'text' });\n\t}\n\tfunction insertIntoWysiwyg(value, id) {\n        if(actualCaretPositionBookmark != undefined) tinyMCE.activeEditor.selection.moveToBookmark(actualCaretPositionBookmark);\n//        console.log(tinyMCE.activeEditor);\n//        //tinyMCE.setActive(id);\n//        tinyMCE.activeEditor.id = id;\n//        console.log(tinyMCE.activeEditor.id);\n//        tinyMCE.execCommand('mceFocus',false,'#'+id);\n        tinyMCE.activeEditor.execCommand('mceInsertContent', false, ' ' + value + ' ');\n\t}\n\tfunction setUpTextEditor(id, isFullPage, toolbar1Custom, cssIncludes, isNewsletter, profile, relativeUrls) {\n\n\t\tvar plugins = [\n\t\t\t\"linkfrontend spellchecker link image external responsivefilemanager jbimages custom email phone sb_url\"\n\t\t];\n\n\t\tvar menubar = false;\n\t\tvar height = \"400px\";\n\t\tif($('#'+id).data('tinymce-height') != undefined) {\n\t\t\theight = $('#'+id).data('tinymce-height');\n\t\t}\n\t\ttoolbarOptions = \"   link | styleselect |  bold italic underline bullist numlist | spellchecker | removeformat  \";\n\t\tif($('#'+id).siblings('div.mce-tinymce').length == 0) {\n\n\t\t\tvar settings = {\n                branding: false,\n\t\t\t\tselector: '#' + id,\n\t\t\t\twidth: \"auto\",\n\t\t\t\theight: height,\n\t\t\t\tstatusbar: true,\n\t\t\t\tresize: \"both\",\n\t\t\t\ttheme: \"modern\",\n\t\t\t\tvalid_elements: \"*[*]\",\n\t\t\t\textended_valid_elements: \"*[*]\",\n                valid_children : \"multiline[a],singleline[a]\",\n\t\t\t\tplugins: plugins,\n\t\t\t\tmenubar: menubar,\n\t\t\t\tcleanup: false,\n\t\t\t\tverify_html: false,\n                toolbar: toolbarOptions,\n\t\t\t\timage_advtab: true,\n\t\t\t\tcontextmenu: \"link image inserttable | cell row column deletetable\",\n\t\t\t\texternal_filemanager_path: \"https://www.heath.derbyshire.sch.uk/theme/_admin/bluetree/js/tinymce/js/filemanager/\",\n\t\t\t\tfilemanager_title: \"File Manager\",\n\t\t\t\texternal_plugins: {\"filemanager\": \"https://www.heath.derbyshire.sch.uk/theme/_admin/bluetree/js/tinymce/js/filemanager/plugin.js\"},\n\t\t\t\timage_list: [],\n                paste_preprocess: function (plugin, args) {\n\n\t\t\t\t\targs.content += '';\n\t\t\t\t},\n\t\t\t\tsetup: function (editor) {\n                    editor.on(\"keyup\", function (editor, e) {\n                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);\n                    });\n                    editor.on(\"click\", function (editor, e) {\n                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);\n                    });\n\t\t\t\t\teditor.on('getContent', function (e) {\n\n                        if (e.content.indexOf(\"\u003ca\") \u003e= 0) {\n                            var data = e.content;\n                            var hrefArr = [];\n                            $(data).find(\"a\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    var text = $(this).text();\n                                    e.content = e.content.replace(text+\"\u003c/a\u003e\", text+'\u003c/lotelink\u003e');\n                                }\n                            });\n                            e.content = e.content.replace(/\\\u003ca type=\"page\"/g, '\u003clotelink type=\"page\"');\n                            e.content = e.content.replace(/\\\u003ca type=\"file\"/g, '\u003clotelink type=\"file\"');\n                            var data = e.content;\n                            $(data).find(\"a\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    var text = $(this).attr('href');\n                                    e.content = e.content.replace('\u003ca href=\"'+text+'\"', '\u003clotelink href=\"'+text+'\"');\n                                }\n                            });\n                            var data = e.content;\n                            $(data).find(\"a\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    e.content = e.content.replace('\u003ca lote_id=\"'+attr+'\"', '\u003clotelink lote_id=\"'+attr+'\"');\n                                }\n                            });\n                        }\n\t\t\t\t\t});\n                    editor.on('paste', function (e) {\n                        var paste;\n                        if (e.clipboardData.types.indexOf('text/plain') \u003e= 0) {\n                            paste = e.clipboardData.getData('text/plain');\n                        }\n\n                        if (e.clipboardData.types.indexOf('text/html') \u003e= 0) {\n                            var tempPaste = e.clipboardData.getData('text/html');\n                            if (tempPaste.includes('')) { // check if the content is a special type such as actual html, image or file\n                                var regex = new RegExp(\"([^]*)|([^]*)\", \"g\"); // tinymce copy includes full html and body tags, and the actual content is actually between the comments\n                                paste = tempPaste.replace(regex, '');\n                            }\n                        }\n\n                        if (paste !== undefined) {\n                            paste = paste.replace(/\u003cscript[^]*\u003c\\/script\u003e/g, ''); // replaces everything in-between and including (\u003cscrip -- \u003c\\script\u003e)\n                            e.preventDefault();\n                            insertIntoWysiwyg(paste);\n                        }\n                    });\n\t\t\t\t\teditor.on('paste_preprocess', function (e) {\n\t\t\t\t\t\tconsole.log('paste_preprocess', e.content);\n\t\t\t\t\t});\n\t\t\t\t\teditor.on('beforeSetContent', function (e) {\n                        e.content = e.content.replace(/\u003cp\u003e(\u003ca[^\u003c]*(\u003cimg[^\u003c]*)\u003c\\/a\u003e)\u003c\\/p\u003e/gi, function (a) {\n                            return a.replace('\u003cp\u003e', '').replace('\u003c/p\u003e', '');\n                        });\n\t\t\t\t\t\tif (e.content.indexOf(\"\u003clotelink\") \u003e= 0) {\n\n                            var data = e.content;\n                            $(data).find(\"lotelink\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    var text = $(this).attr('href');\n                                    e.content = e.content.replace('\u003clotelink href=\"'+text+'\"', '\u003ca href=\"'+text+'\"');\n                                }\n\n                            });\n\n                            var data = e.content;\n                            $(data).find(\"lotelink\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    e.content = e.content.replace('\u003clotelink lote_id=\"'+attr+'\"', '\u003ca lote_id=\"'+attr+'\"');\n                                }\n\n                            });\n\n\t\t\t\t\t\t\te.content = e.content.replace(/\\\u003clotelink type=\"img\"/g, '\u003cimg');\n\t\t\t\t\t\t\te.content = e.content.replace(/\\\u003clotelink type=\"page\"/g, '\u003ca type=\"page\"');\n\t\t\t\t\t\t\te.content = e.content.replace(/\\\u003clotelink type=\"file\"/g, '\u003ca type=\"file\"');\n                            e.content = e.content.replace(/\\\u003c\\/lotelink\u003e/g, '\u003c/a\u003e');\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t});\n\t\t\t\t},\n                spellchecker_language: \"en_GB\",\n                spellchecker_rpc_url: 'spellchecker.php',\n                link_formats: [\"Link To URL\", \"Link To Email\", \"Link To Phone\"],\n                is_campaign: (profile !== undefined \u0026\u0026 profile === \"campaign\"),\n                sz_profile: profile\n\t\t\t};\n\n            if(typeof(toolbar) != 'undefined') {\n                settings.toolbar1 = toolbar1Custom;\n            }\n\n            //Add CSS includes if provided\n            if(cssIncludes) {\n                settings.content_css = cssIncludes;\n            }\n\n            //If newsletter editor...\n            if(isNewsletter) {\n                settings.width = \"800px\";\n                settings.resize = true;\n            }\n\n            if(typeof relativeUrls == 'undefined' || relativeUrls == false) {\n                settings.relative_urls = false;\n                settings.convert_urls = false;\n            }\n\n\t\t\ttinymce.init(settings);\n\t\t}\n\t}\n\n    function setUpTextEditorFrontEnd(id, isFullPage, toolbar1Custom, cssIncludes, isNewsletter, profile, relativeUrls) {\n\n        var plugins = [\n            \"sb_links paste spellchecker textcolor sb_images sb_filemanager sb_table lists\"\n        ];\n\n        var menubar = false;\n        var height = \"400px\";\n        if($('#'+id).data('tinymce-height') != undefined) {\n            height = $('#'+id).data('tinymce-height');\n        }\n        toolbarOptions = \"sb_links | sb_images | table |styleselect |  fontsizeselect forecolor | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist | removeformat  \";\n        if($('#'+id).siblings('div.mce-tinymce').length == 0) {\n\n            var settings = {\n                branding: false,\n                selector: '#' + id,\n                width: \"auto\",\n                height: height,\n                statusbar: true,\n                paste_auto_cleanup_on_paste : true,\n                paste_remove_styles: true,\n                paste_remove_styles_if_webkit: true,\n                paste_strip_class_attributes: true,\n                resize: \"both\",\n                theme: \"modern\",\n                valid_elements: \"*[*]\",\n                extended_valid_elements: \"*[*]\",\n                valid_children : \"multiline[a],singleline[a]\",\n                plugins: plugins,\n                menubar: menubar,\n                cleanup: false,\n                verify_html: false,\n                toolbar: toolbarOptions,\n                image_advtab: true,\n                contextmenu: \"link image inserttable | cell row column deletetable\",\n                fontsize_formats: \"8px 9px 10px 11px 12px 14px 16px 18px 20px 24px 36px\",\n                image_list: [],\n                paste_preprocess: function (plugin, args) {\n                    args.content += '';\n                },\n                setup: function (editor) {\n                    editor.on(\"keyup\", function (editor, e) {\n                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);\n                    });\n                    editor.on(\"click\", function (editor, e) {\n                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);\n                    });\n                    editor.on('getContent', function (e) {\n                       \n                        if (e.content.indexOf(\"\u003ca\") \u003e= 0) {\n                            var data = e.content;\n                            var hrefArr = [];\n                            $(data).find(\"a\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    var text = $(this).text();\n                                    e.content = e.content.replace(text+\"\u003c/a\u003e\", text+'\u003c/lotelink\u003e');\n                                }\n                            });\n                            e.content = e.content.replace(/\\\u003ca type=\"page\"/g, '\u003clotelink type=\"page\"');\n                            e.content = e.content.replace(/\\\u003ca type=\"file\"/g, '\u003clotelink type=\"file\"');\n                            var data = e.content;\n                            $(data).find(\"a\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    var text = $(this).attr('href');\n                                    e.content = e.content.replace('\u003ca href=\"'+text+'\"', '\u003clotelink href=\"'+text+'\"');\n                                }\n                            });\n                            var data = e.content;\n                            $(data).find(\"a\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    e.content = e.content.replace('\u003ca lote_id=\"'+attr+'\"', '\u003clotelink lote_id=\"'+attr+'\"');\n                                }\n                            });\n                        }\n                    });\n                    editor.on('paste', function (e) {\n                        var paste;\n                        if (e.clipboardData.types.indexOf('text/plain') \u003e= 0) {\n                            paste = e.clipboardData.getData('text/plain');\n                        }\n\n                        if (e.clipboardData.types.indexOf('text/html') \u003e= 0) {\n                            var tempPaste = e.clipboardData.getData('text/html');\n                            if (tempPaste.includes('')) { // check if the content is a special type such as actual html, image or file\n                                var regex = new RegExp(\"([^]*)|([^]*)\", \"g\"); // tinymce copy includes full html and body tags, and the actual content is actually between the comments\n                                paste = tempPaste.replace(regex, '');\n                            }\n                        }\n\n                        if (paste !== undefined) {\n                            paste = paste.replace(/\u003cscript[^]*\u003c\\/script\u003e/g, ''); // replaces everything in-between and including (\u003cscrip -- \u003c\\script\u003e)\n                            e.preventDefault();\n                            insertIntoWysiwyg(paste);\n                        }\n                    });\n                    editor.on('paste_preprocess', function (e) {\n                        console.log('paste_preprocess', e.content);\n                    });\n                    editor.on('beforeSetContent', function (e) {\n\n                        if (e.content.indexOf(\"\u003clotelink\") \u003e= 0) {\n\n                            var data = e.content;\n                            $(data).find(\"lotelink\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    var text = $(this).attr('href');\n                                    e.content = e.content.replace('\u003clotelink href=\"'+text+'\"', '\u003ca href=\"'+text+'\"');\n                                }\n\n                            });\n\n                            var data = e.content;\n                            $(data).find(\"lotelink\").each(function () {\n                                var attr = $(this).attr('lote_id');\n                                if (typeof attr !== typeof undefined \u0026\u0026 attr !== false \u0026\u0026 $.isNumeric(attr)) {\n                                    e.content = e.content.replace('\u003clotelink lote_id=\"'+attr+'\"', '\u003ca lote_id=\"'+attr+'\"');\n                                }\n\n                            });\n\n                            e.content = e.content.replace(/\\\u003clotelink type=\"img\"/g, '\u003cimg');\n                            e.content = e.content.replace(/\\\u003clotelink type=\"page\"/g, '\u003ca type=\"page\"');\n                            e.content = e.content.replace(/\\\u003clotelink type=\"file\"/g, '\u003ca type=\"file\"');\n                            e.content = e.content.replace(/\\\u003c\\/lotelink\u003e/g, '\u003c/a\u003e');\n\n                        }\n\n                    });\n                },\n                spellchecker_language: \"en_GB\",\n                spellchecker_rpc_url: 'spellchecker.php',\n                is_campaign: (profile !== undefined \u0026\u0026 profile === \"campaign\"),\n                sz_profile: profile\n            };\n\n            if(typeof(toolbar) != 'undefined') {\n                settings.toolbar1 = toolbar1Custom;\n            }\n\n            //Add CSS includes if provided\n            if(cssIncludes) {\n                settings.content_css = cssIncludes;\n            }\n\n            //If newsletter editor...\n            if(isNewsletter) {\n                settings.width = \"800px\";\n                settings.resize = true;\n            }\n\n            if(typeof relativeUrls == 'undefined' || relativeUrls == false) {\n                settings.relative_urls = false;\n                settings.convert_urls = false;\n            }\n\n            settings.sb_links_opts = {\n                link_url: true,\n                link_email: true,\n                link_phone: true\n            };\n\n            settings.sb_images_opts = {\n                link_upload: true,\n                link_external: true\n            };\n\n            tinymce.init(settings);\n\n        }\n    }\n\n    function setupContentEditor(id, isFullPage, toolbar1Custom, cssIncludes, isNewsletter, profile, relativeUrls, wildcards, overrideHeight) {\n        var plugins = [\n            \"contextmenu\", \"advlist\", \"autolink\", \"lists\", \"print\",  \"searchreplace\", \"visualblocks\", \"visualchars\",\n            \"code\", \"save\", \"directionality\", \"paste\", \"textcolor\",\n            \"sb_filemanager\", \"sb_links\", \"sb_images\", \"sb_table\", \"spellchecker\"\n        ];\n        var contextMenu = \" sb_links sb_images inserttable elements web_link pdf_viewer\";\n\n        var wildcardSettings = {\n            content_holder: false,\n            update_forms: false\n        };\n\n        if (wildcards) {\n            if (profile !== 'campaign') {\n                plugins.push(\"sb_elements\");\n            }\n            plugins.push(\"sb_wildcards\");\n            contextMenu = contextMenu + \" sb_wildcards sb_wildcards_update_form \";\n\n        }\n\n        var toolbarOptions = \"sb_images sb_gallery sb_video pdf_viewer sb_links | formatselect | fontsizeselect forecolor | bold italic underline strikethrough | removeformat | alignleft aligncenter alignright alignjustify | outdent indent | bullist numlist  |  undo redo | code\";\n        if (profile === \"campaign\"){\n            toolbarOptions = \"undo redo | fontsizeselect forecolor | bold italic | removeformat | alignleft aligncenter alignright alignjustify | outdent indent | bullist numlist | sb_links | code\";\n        }\n        else if(profile === \"manage_app_mobile\") {\n            toolbarOptions = \"undo redo removeformat |  bold italic | alignleft aligncenter alignright | outdent indent | sb_links | sb_images | code \";\n        }\n        else {\n            plugins.push(\"sb_gallery\");\n            plugins.push(\"sb_video\");\n            contextMenu = \"sb_images sb_gallery sb_video pdf_viewer web_link inserttable elements sb_links\";\n            //contextMenu =  \"sb_gallery sb_video \"+contextMenu;\n\n        }\n\n\n        if(isFullPage || isNewsletter) {\n            plugins.push(\"fullpage\");\n        }\n\n        var validElements = \"*[*]\";\n        var invalidElements = \"\";\n        var validExtendedElements = '*[*]';\n        var validChildren = \"multiline[a],singleline[a]\";\n\n        var menubar = \"edit insert view table tools sb_wildcards\";\n        if(profile === \"manage_app_mobile\"){\n            menubar = false;\n        }\n        var height = \"600px\";\n        if(profile == \"quick_feed\" || profile == \"summary\" ){\n            height = \"400px\";\n        }\n        else if( profile === \"manage_app_mobile\"){\n            height = \"250px\";\n        }\n        else if( profile === \"new_content_holder\"){\n            height = \"400px\";\n        }\n        else if(profile === \"company_note\"){\n            height = \"330px\";\n        }\n\n\n        if (overrideHeight) {\n            height = overrideHeight + \"px\";\n        }\n\n        if($('#'+id).siblings('div.mce-tinymce').length == 0) {\n\n            var settings = {\n                branding: false,\n                selector: '#' + id,\n                width: \"100%\",\n                height: height,\n                statusbar: true,\n                resize: \"both\",\n                //theme_advanced_resizing: true,\n                //theme_advanced_resizing_use_cookie : false,\n                theme: \"modern\",\n                allow_html_in_named_anchor: true,\n                allow_unsafe_link_target: true,\n\n                valid_elements: validElements,\n                extended_valid_elements: validExtendedElements,\n                invalid_elements: invalidElements,\n//                extended_valid_elements: 'iframe[src|width|height|frameborder|scrolling|allowfullscreen]',\n                valid_children : validChildren,\n                plugins: plugins,\n                // menu: {\n                //     edit: { title: 'Edit', items: 'undo redo | cut copy paste pastetext | selectall' },\n                //     insert: {title: 'Insert', items: 'sb_video sb_gallery sb_images'},\n                //     view: {title: 'View', items: 'code | visualaid | spellcheck'},\n                //     format: {title: 'Format', items: 'bold italic underline strikethrough superscript subscript | formats | removeformat'},\n                //     table: {title: 'Table', items: 'inserttable tableprops deletetable | cell row column'},\n                //     tools: {title: 'Tools', items: 'spellchecker code'},\n                //     sb_wildcards: { title: 'Wildcards' }\n                // },\n                menubar: menubar,\n                cleanup: false,\n                verify_html: false,\n                toolbar: toolbarOptions,\n                fontsize_formats: \"8px 9px 10px 11px 12px 14px 16px 18px 20px 24px 36px\",\n\n                image_advtab: true,\n                image_list: [],\n                contextmenu: contextMenu,\n                setup: function (editor) {\n                    editor.on(\"init\", function () {\n                        this.getDoc().body.style.fontSize = '14px';\n                        this.getDoc().body.style.fontFamily = 'Verdana';\n                    });\n                    editor.on(\"keyup\", function (editor, e) {\n                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);\n                    });\n                    editor.on(\"click\", function (editor, e) {\n                        actualCaretPositionBookmark = tinyMCE.activeEditor.selection.getBookmark(2, true);\n                    });\n                    editor.on('getContent', function (e) {\n                        e.content = e.content.replace(/\u003cp\u003e(\u003cimg[^\u003c]*)\u003c\\/p\u003e/gi, function (a) {\n                            return a.replace('\u003cp\u003e', '').replace('\u003c/p\u003e', '');\n                        });\n                    });\n                    editor.on('BeforePastePreProcess', function(e) {\n                        // This will change any html text back to html tags and sanitise scripts and default comments\n                        var regex = new RegExp(\"([^]*)|([^]*)\", \"g\"); // tinymce copy includes full html and body tags, and the actual content is actually between the comments\n                        e.content = e.content.replace(/(\u0026lt;)/g, '\u003c')\n                                .replace(/(\u0026gt;)/g, '\u003e')\n                                .replace(regex, '')\n                                .replace(/\u003cscript[\\s\\S]*?\u003c\\/script\u003e/g, '');\n                    });\n                    editor.on('beforeSetContent', function (e) {\n                        e.content = e.content.replace(/\u003cp\u003e(\u003cimg[^\u003c]*)\u003c\\/p\u003e/gi, function (a) {\n                            return a.replace('\u003cp\u003e', '').replace('\u003c/p\u003e', '');\n                        });\n                    });\n\n\n\n\n\n                },\n                spellchecker_language: \"en_GB\",\n                spellchecker_rpc_url: 'spellchecker.php',\n                is_campaign: (profile !== undefined \u0026\u0026 profile === \"campaign\"),\n                sz_profile: profile\n            };\n\n            if(typeof(toolbar) != 'undefined') {\n                settings.toolbar1 = toolbar1Custom;\n            }\n\n            //Add CSS includes if provided\n            if(cssIncludes) {\n                if($.isArray(cssIncludes)){\n                    cssIncludes.push(\"/theme/website/szschool/css/content.css\");\n                    cssIncludes.push(\"https://www.heath.derbyshire.sch.uk/_admin/cms/szschool/account-setting-colours.css\");\n                    cssIncludes.push(\"/theme/website/szschool/css/font-awesome.min.css\");\n\n                }\n                settings.content_css = cssIncludes;\n\n            }else{\n                var cssIncludesDefault = [\"/theme/website/szschool/css/content.css\", \"https://www.heath.derbyshire.sch.uk/_admin/cms/szschool/account-setting-colours.css\", \"/theme/website/szschool/css/font-awesome.min.css\"];\n                settings.content_css = cssIncludesDefault;\n            }\n\n            //If newsletter editor...\n            if(isNewsletter) {\n                settings.width = \"100%\";\n                settings.resize = true;\n                //settings.force_br_newlines = true;\n                //settings.force_p_newlines = false;\n                settings.forced_root_block = '';\n            }\n\n            if(typeof relativeUrls == 'undefined' || relativeUrls == false) {\n                settings.relative_urls = false;\n                settings.convert_urls = false;\n            }\n\n            if (wildcards) {\n                settings.wildcards = wildcards;\n                settings.wildcardAddons = wildcardSettings;\n            }\n\n            settings.is_user_admin = 0;\n\n//            tinymce.execCommand('mceFocus', false, id);\n            tinymce.execCommand('mceRemoveEditor', true, id);\n            tinymce.init(settings);\n\n        }\n    }\n` }} /\u003e"])</script><script>self.__next_f.push([1,"a:[\"$\",\"$1\",\"c\",{\"children\":[[\"$\",\"div\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$12\"}}],null,\"$L13\"]}]\nb:[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$L14\",null,{\"children\":\"$@15\"}],[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$L16\",null,{\"children\":[\"$\",\"$17\",null,{\"name\":\"Next.Metadata\",\"children\":\"$@18\"}]}]}],null]}]\n"])</script><script>self.__next_f.push([1,"19:I[97367,[\"/_next/static/chunks/42879de7b8087bc9.js\"],\"OutletBoundary\"]\n13:[\"$\",\"$L19\",null,{\"children\":[\"$\",\"$17\",null,{\"name\":\"Next.MetadataOutlet\",\"children\":\"$@1a\"}]}]\n"])</script><script>self.__next_f.push([1,"15:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\n"])</script><script>self.__next_f.push([1,"1b:I[27201,[\"/_next/static/chunks/42879de7b8087bc9.js\"],\"IconMark\"]\n18:[[\"$\",\"title\",\"0\",{\"children\":\" - Heath Primary School\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Heath Primary School, Slack Lane, Chesterfield, S44 5RH\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico?favicon.0b3bf435.ico\",\"sizes\":\"256x256\",\"type\":\"image/x-icon\"}],[\"$\",\"$L1b\",\"3\",{}]]\n"])</script><script>self.__next_f.push([1,"1a:null\n"])</script></body></html>